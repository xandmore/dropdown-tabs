{"version":3,"sources":["components/Tabs/TabsContext/reducer.ts","components/Tabs/TabsContext/addTabs.ts","components/Tabs/TabsContext/helpers/utils.ts","components/Tabs/TabsContext/changeStarLockStates.ts","components/Tabs/TabsContext/closeDropdownTab.ts","components/Tabs/TabsContext/removeTabs.ts","components/Tabs/TabsContext/TabsContext.tsx","components/Tabs/hooks/useTabs.ts","helpers/bem.ts","components/Tabs/Tabs/TabComponent.tsx","assets/close_24dp.svg","assets/lock_24dp.svg","assets/star_outline_24dp.svg","components/Tabs/DropdownTabMenu/DropdownTabMenu.tsx","components/Tabs/DropdownTabMenu/hooks/useWatchOutsideClick.ts","components/Tabs/utils/getDropdownTabByKey.ts","assets/arrow_drop_down_24dp.svg","components/Tabs/DropdownTab/DropdownTabComponent.tsx","components/Tabs/Slider/Slider.tsx","components/Tabs/Tabs/hooks/useSlider.ts","components/Tabs/Tabs/Tabs.tsx","components/TabsWithContext.tsx","components/Tabs/TabPane/TabContent/TabContent.tsx","components/Tabs/TabPane/TabPane.tsx","components/Tabs/TabPane/TabPanesContaner.tsx","App.tsx","index.tsx"],"names":["ActionType","handleAddTabs","original","tabsToAdd","tabsMapLike","reduce","obj","tab","key","changed","newTabs","map","t","newTab","restTabs","Object","values","length","push","toggleTabProp","state","tabKeys","prop","propValue","keysSet","Set","Array","isArray","isAnyChanged","newSections","sections","section","tabs","has","newValue","reducer","action","type","SetActiveKey","activeKey","payload","CloseTabs","newActiveKey","sectionTabIndex","tabKey","i","tabIndex","findIndex","sectionIndex","getSectionTabIndex","console","error","newIndex","targetDropdownTab","update","$set","$splice","closeDropdownTab","AddTabs","keys","dropdownTabs","updatedState","$apply","prevTabs","modifyingSectionsKeys","forEach","s","delete","size","Error","addTabs","StarTabs","mode","changeTabsStarredState","LockTabs","changeTabsLockedState","RemoveTabs","keysToRemove","updatedTabs","filter","sectionsWillBeChanged","some","updatedSections","sectionTabs","removeTabs","SetState","TabsContext","createContext","TabsContextProvider","defaultActiveKey","initialTabs","initialSections","children","useReducer","dispatch","setActiveKey","useCallback","newActiveTab","onTabClose","lockTabs","unlockTabs","toggleLock","starTabs","unstarTabs","toggleStar","setState","Provider","value","useTabs","useContext","withNaming","e","m","v","bemTab","bem","TabComponent","React","forwardRef","ref","title","active","rest","className","role","_extends","assign","target","arguments","source","prototype","hasOwnProperty","call","apply","this","_objectWithoutProperties","excluded","sourceKeys","indexOf","_objectWithoutPropertiesLoose","getOwnPropertySymbols","sourceSymbolKeys","propertyIsEnumerable","d","fill","SvgClose24Dp","_ref","svgRef","titleId","props","xmlns","height","viewBox","width","id","ForwardRef","opacity","SvgLock24Dp","SvgStarOutline24Dp","bemMenu","bemMenuItem","bemIcon","DropdownMenuSection","onChange","DropdownMenuItem","onClick","disabled","locked","starred","undefined","small","stopPropagation","DropdownMenu","useWatchOutsideClick","handler","useEffect","current","document","addEventListener","handleClick","removeEventListener","contains","getTabInfoByKey","find","SvgArrowDropDown24Dp","bemDropdownTab","SelectedTabInfo","isOpen","sectionTitle","star","lock","open","DropdownTabComponent","onWidthChange","defaultKey","placeholder","useState","setIsOpen","getDropdownTabByKey","activeTabInfo","setActiveTabInfo","tabInfo","newInfo","isActive","onSelectTab","prevTabWidth","useRef","innerTabRef","closeOutsideClick","useLayoutEffect","clientWidth","el","dropdown","style","position","Slider","left","defaultDiplayInfo","isDisplayed","isEqual","obj1","obj2","useSlider","activeTabKey","elementsRef","tabsElements","dropdownTabElement","displayInfo","setDisplayInfo","tabElement","newDisplayInfo","getBoundingClientRect","offsetLeft","onDropdownTabWidthChange","prev","sliderDisplayInfo","TabsComponent","onChangeProp","activeKeyProp","onDropdownTabClose","activeKeyInner","setActiveKeyInner","Symbol","for","isDropdownTabDisplayed","useMemo","TabsWithContext","Tabs","TabContent","tag","TabContentContainer","bemTabPane","TabPane","hidden","memo","bemContainer","TabPanesContainer","classNameInner","flattenTabs","flatten","prevActiveKey","shift","transform","App","join","padding","Buttons","newTabsCounter","isDropdownTab","s0","rootElement","getElementById","ReactDOM","render"],"mappings":"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","file":"static/js/main.377e8897.chunk.js","sourcesContent":["import { SetStateAction } from \"react\";\r\n\r\nimport { DropdownTab, Section, Tab, TabKey } from \"../types\";\r\nimport { closeDropdownTab } from \"./closeDropdownTab\";\r\nimport { removeTabs } from \"./removeTabs\";\r\nimport { addTabs } from \"./addTabs\";\r\nimport {\r\n  changeTabsLockedState,\r\n  changeTabsStarredState,\r\n  TabLockAction,\r\n  TabStarAction,\r\n} from \"./changeStarLockStates\";\r\n\r\nexport interface State {\r\n  activeKey: TabKey | null;\r\n  tabs: Tab[];\r\n  sections: Section[];\r\n}\r\n\r\nexport enum ActionType {\r\n  SetActiveKey,\r\n  AddTabs,\r\n  RemoveTabs,\r\n  CloseTabs,\r\n  LockTabs,\r\n  StarTabs,\r\n  SetState,\r\n}\r\n\r\nexport type PayloadType = {\r\n  [ActionType.SetActiveKey]: State[\"activeKey\"];\r\n  [ActionType.CloseTabs]: { key: TabKey; newActiveKey?: TabKey };\r\n  [ActionType.AddTabs]: {\r\n    tabs?: Tab[];\r\n    dropdownTabs?: Record<Section[\"key\"], DropdownTab[]>;\r\n  };\r\n  [ActionType.RemoveTabs]: TabKey | TabKey[];\r\n  [ActionType.LockTabs]: { keys: TabKey | TabKey[]; mode: TabLockAction };\r\n  [ActionType.StarTabs]: { keys: TabKey | TabKey[]; mode: TabStarAction };\r\n  [ActionType.SetState]: SetStateAction<State>;\r\n};\r\n\r\nexport type ReducerAction<T> = T extends keyof PayloadType\r\n  ? { type: T; payload: PayloadType[T] }\r\n  : never;\r\n\r\nexport function reducer(state: State, action: ReducerAction<ActionType>) {\r\n  switch (action.type) {\r\n    case ActionType.SetActiveKey: {\r\n      return { ...state, activeKey: action.payload };\r\n    }\r\n\r\n    case ActionType.CloseTabs: {\r\n      return closeDropdownTab(\r\n        state,\r\n        action.payload.key,\r\n        action.payload.newActiveKey\r\n      );\r\n    }\r\n\r\n    case ActionType.AddTabs: {\r\n      return addTabs(state, action.payload);\r\n    }\r\n\r\n    case ActionType.StarTabs: {\r\n      return changeTabsStarredState(\r\n        state,\r\n        action.payload.keys,\r\n        action.payload.mode\r\n      );\r\n    }\r\n\r\n    case ActionType.LockTabs: {\r\n      return changeTabsLockedState(\r\n        state,\r\n        action.payload.keys,\r\n        action.payload.mode\r\n      );\r\n    }\r\n\r\n    case ActionType.RemoveTabs: {\r\n      return removeTabs(state, action.payload);\r\n    }\r\n\r\n    case ActionType.SetState: {\r\n      return typeof action.payload === \"function\"\r\n        ? action.payload(state)\r\n        : action.payload;\r\n    }\r\n\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n","import { tabsToMapLike } from \"./helpers/utils\";\r\nimport { DropdownTab, Section, Tab } from \"../types\";\r\nimport update from \"immutability-helper\";\r\nimport { State } from \"./reducer\";\r\n\r\n/** Replaces matching existing tabs */\r\nexport function addTabs(\r\n  state: State,\r\n  payload: {\r\n    tabs?: Tab[];\r\n    /** Where a key is the section key */\r\n    dropdownTabs?: Record<Section[\"key\"], DropdownTab[]>;\r\n  }\r\n): State {\r\n  if (!Object.keys(payload).length) {\r\n    return state;\r\n  }\r\n\r\n  const { tabs, dropdownTabs } = payload;\r\n\r\n  // handling tabs\r\n  let updatedState = tabs?.length\r\n    ? update(state, {\r\n        tabs: {\r\n          $apply: (prevTabs: Tab[]) => {\r\n            return handleAddTabs(prevTabs, tabs);\r\n          },\r\n        },\r\n      })\r\n    : state;\r\n\r\n  // handle dropdownTabs\r\n\r\n  if (dropdownTabs) {\r\n    const modifyingSectionsKeys = new Set(Object.keys(dropdownTabs));\r\n    updatedState.sections.forEach((s) => modifyingSectionsKeys.delete(s.key));\r\n\r\n    if (modifyingSectionsKeys.size) {\r\n      throw new Error(\"Trying to add dropdown tabs to non-existing section\");\r\n    }\r\n  } else {\r\n    return updatedState;\r\n  }\r\n\r\n  return update(updatedState, {\r\n    sections: {\r\n      $apply: (sections: Section[]) => {\r\n        let changed = false;\r\n        const newSections = sections.map((section) => {\r\n          if (!dropdownTabs[section.key]?.length) {\r\n            return section;\r\n          }\r\n\r\n          const newTabs = handleAddTabs(\r\n            section.tabs,\r\n            dropdownTabs[section.key]\r\n          );\r\n\r\n          if (newTabs !== section.tabs) {\r\n            changed = true;\r\n            return {\r\n              ...section,\r\n              tabs: newTabs,\r\n            };\r\n          }\r\n\r\n          return section;\r\n        });\r\n\r\n        return changed ? newSections : sections;\r\n      },\r\n    },\r\n  });\r\n}\r\n\r\nfunction handleAddTabs<T extends { key: string }>(\r\n  original: T[],\r\n  tabsToAdd: T[]\r\n) {\r\n  const tabsMapLike = tabsToMapLike(tabsToAdd);\r\n  let changed = false;\r\n\r\n  const newTabs = original.map((t) => {\r\n    const newTab = tabsMapLike[t.key];\r\n\r\n    if (newTab) {\r\n      changed = true;\r\n      delete tabsMapLike[t.key];\r\n      return newTab;\r\n    }\r\n\r\n    return t;\r\n  });\r\n\r\n  const restTabs = Object.values(tabsMapLike);\r\n\r\n  if (restTabs.length) {\r\n    changed = true;\r\n    newTabs.push(...restTabs);\r\n  }\r\n\r\n  return changed ? newTabs : original;\r\n}\r\n","import { Section, TabKey } from \"../../types\";\r\n\r\nexport function tabsToMapLike<T extends { key: string }>(\r\n  tabs: T[]\r\n): Record<string, T> {\r\n  return tabs.reduce<Record<string, T>>((obj, tab: T) => {\r\n    obj[tab.key] = tab;\r\n    return obj;\r\n  }, {});\r\n}\r\n\r\nexport function getSectionTabIndex(sections: Section[], tabKey: TabKey) {\r\n  for (let i = 0; i < sections.length; i++) {\r\n    const tabIndex = sections[i].tabs.findIndex((t) => t.key === tabKey);\r\n\r\n    if (tabIndex !== -1) {\r\n      return { sectionIndex: i, tabIndex: tabIndex };\r\n    }\r\n  }\r\n}\r\n","import { DropdownTab, TabKey } from \"../types\";\r\nimport { State } from \"./reducer\";\r\n\r\nexport type TabLockAction = \"lock\" | \"unlock\" | \"toggle\";\r\nexport type TabStarAction = \"star\" | \"unstar\" | \"toggle\";\r\n\r\nexport function changeTabsLockedState(\r\n  state: State,\r\n  tabKeys: TabKey | TabKey[],\r\n  mode: TabLockAction\r\n): State {\r\n  return toggleTabProp(\r\n    state,\r\n    tabKeys,\r\n    \"locked\",\r\n    mode === \"lock\" ? true : mode === \"unlock\" ? false : mode\r\n  );\r\n}\r\n\r\nexport function changeTabsStarredState(\r\n  state: State,\r\n  tabKeys: TabKey | TabKey[],\r\n  mode: TabStarAction\r\n): State {\r\n  return toggleTabProp(\r\n    state,\r\n    tabKeys,\r\n    \"starred\",\r\n    mode === \"star\" ? true : mode === \"unstar\" ? false : mode\r\n  );\r\n}\r\n\r\ntype DropdownTabToggleableProp = keyof Pick<DropdownTab, \"locked\" | \"starred\">;\r\ntype TogglePropValue = true | false | \"toggle\";\r\n\r\nfunction toggleTabProp(\r\n  state: State,\r\n  tabKeys: TabKey | TabKey[],\r\n  prop: DropdownTabToggleableProp,\r\n  propValue: TogglePropValue\r\n): State {\r\n  const keysSet = new Set(Array.isArray(tabKeys) ? tabKeys : [tabKeys]);\r\n\r\n  let isAnyChanged = false;\r\n  const newSections = state.sections.map((section) => {\r\n    let changed = false;\r\n    const newTabs = section.tabs.map((tab) => {\r\n      if (keysSet.has(tab.key)) {\r\n        const newValue = propValue === \"toggle\" ? !tab[prop] : propValue;\r\n\r\n        if (tab[prop] !== newValue) {\r\n          changed = true;\r\n          return {\r\n            ...tab,\r\n            [prop]: newValue,\r\n          };\r\n        }\r\n      }\r\n\r\n      return tab;\r\n    });\r\n\r\n    if (changed) {\r\n      isAnyChanged = true;\r\n      return { ...section, tabs: newTabs };\r\n    }\r\n\r\n    return section;\r\n  });\r\n\r\n  if (isAnyChanged) {\r\n    return {\r\n      ...state,\r\n      sections: newSections,\r\n    };\r\n  }\r\n\r\n  return state;\r\n}\r\n","import { Tab, TabKey } from \"../types\";\r\nimport { getSectionTabIndex } from \"./helpers/utils\";\r\nimport update from \"immutability-helper\";\r\nimport { State } from \"./reducer\";\r\n\r\nexport function closeDropdownTab(\r\n  state: State,\r\n  key: TabKey,\r\n  newActiveKey?: TabKey | null\r\n): State {\r\n  const sectionTabIndex = getSectionTabIndex(state.sections, key);\r\n\r\n  if (!sectionTabIndex) {\r\n    console.error(\"trying to close non-existing tab\");\r\n    return state;\r\n  }\r\n\r\n  const { sectionIndex, tabIndex } = sectionTabIndex;\r\n\r\n  newActiveKey = state.activeKey;\r\n\r\n  // TODO: change the algorithm after introduce disabled tabs (disabled tab cannot be selected)\r\n  if (state.activeKey === key) {\r\n    const section = state.sections[sectionIndex];\r\n\r\n    // set new tab in the same section active\r\n    if (section.tabs.length > 1) {\r\n      const newIndex = tabIndex ? tabIndex - 1 : 1;\r\n      newActiveKey = section.tabs[newIndex].key;\r\n    } else {\r\n      // set the last tab of any of previous sections\r\n      let targetDropdownTab: Tab | null = null;\r\n      for (let i = sectionIndex; i >= 0; i++) {\r\n        const tabs = state.sections[i].tabs;\r\n\r\n        if (tabs.length) {\r\n          targetDropdownTab = tabs[tabs.length - 1];\r\n          break;\r\n        }\r\n      }\r\n\r\n      // or the last tab if there's no precedent dropdownTab\r\n      newActiveKey =\r\n        targetDropdownTab?.key ?? state.tabs.length\r\n          ? state.tabs[state.tabs.length - 1]?.key ?? null\r\n          : null;\r\n    }\r\n  }\r\n\r\n  return update(state, {\r\n    activeKey: {\r\n      $set: newActiveKey,\r\n    },\r\n    sections: {\r\n      [sectionIndex]: {\r\n        tabs: {\r\n          $splice: [[tabIndex, 1]],\r\n        },\r\n      },\r\n    },\r\n  });\r\n}\r\n","import { Section } from \"../types\";\r\nimport { ActionType, State, ReducerAction } from \"./reducer\";\r\n\r\nexport function removeTabs(\r\n  state: State,\r\n  keys: ReducerAction<ActionType.RemoveTabs>[\"payload\"]\r\n): State {\r\n  const keysToRemove = Array.isArray(keys) ? new Set(keys) : new Set([keys]);\r\n\r\n  // handle tabs\r\n  let updatedTabs = state.tabs.filter((t) => !keysToRemove.has(t.key));\r\n  if (updatedTabs.length === state.tabs.length) {\r\n    updatedTabs = state.tabs;\r\n  }\r\n\r\n  // handle dropdown sections\r\n  const sectionsWillBeChanged = state.sections.some((s) =>\r\n    s.tabs.some((t) => keysToRemove.has(t.key))\r\n  );\r\n\r\n  if (updatedTabs === state.tabs && !sectionsWillBeChanged) {\r\n    return state;\r\n  }\r\n\r\n  const updatedSections = state.sections.reduce((sections, section) => {\r\n    let sectionTabs = section.tabs.filter((t) => !keysToRemove.has(t.key));\r\n\r\n    if (sectionTabs.length === section.tabs.length) {\r\n      sections.push(section);\r\n      return sections;\r\n    }\r\n\r\n    sections.push({ ...section, tabs: sectionTabs });\r\n    return sections;\r\n  }, [] as Section[]);\r\n\r\n  return {\r\n    ...state,\r\n    tabs: updatedTabs,\r\n    sections: updatedSections,\r\n  };\r\n}\r\n","import React, {\r\n  useReducer,\r\n  createContext,\r\n  PropsWithChildren,\r\n  useCallback,\r\n} from \"react\";\r\n\r\nimport { reducer, ActionType, PayloadType, State } from \"./reducer\";\r\nimport { TabKey, Tab, Section } from \"../types\";\r\n\r\ntype TabsContextProps = {\r\n  activeKey: TabKey | null;\r\n  setActiveKey: (key: TabKey | null) => void;\r\n  tabs: Tab[];\r\n  sections: Section[];\r\n\r\n  addTabs: (payload: PayloadType[ActionType.AddTabs]) => void;\r\n  removeTabs: (keys: TabKey | TabKey[]) => void;\r\n  closeDropdownTab: (keys: TabKey, newActiveTab?: TabKey) => void;\r\n  onTabClose: (key: TabKey) => void;\r\n\r\n  lockTabs: (keys: TabKey | TabKey[]) => void;\r\n  unlockTabs: (keys: TabKey | TabKey[]) => void;\r\n  toggleLock: (keys: TabKey | TabKey[]) => void;\r\n\r\n  starTabs: (keys: TabKey | TabKey[]) => void;\r\n  unstarTabs: (keys: TabKey | TabKey[]) => void;\r\n  toggleStar: (keys: TabKey | TabKey[]) => void;\r\n\r\n  setState: (state: React.SetStateAction<State>) => void;\r\n};\r\n\r\nconst TabsContext = createContext({} as TabsContextProps);\r\n\r\ntype TabsContextProviderProps = {\r\n  defaultActiveKey?: TabKey | null;\r\n  initialTabs?: Tab[];\r\n  initialSections?: Section[];\r\n};\r\n\r\nconst TabsContextProvider = ({\r\n  defaultActiveKey,\r\n  initialTabs,\r\n  initialSections,\r\n  children,\r\n}: PropsWithChildren<TabsContextProviderProps>) => {\r\n  const [state, dispatch] = useReducer(reducer, {\r\n    activeKey: defaultActiveKey ?? null,\r\n    tabs: initialTabs ?? [],\r\n    sections: initialSections ?? [],\r\n  });\r\n\r\n  const setActiveKey: TabsContextProps[\"setActiveKey\"] = useCallback((key) => {\r\n    dispatch({ type: ActionType.SetActiveKey, payload: key });\r\n  }, []);\r\n\r\n  const addTabs: TabsContextProps[\"addTabs\"] = useCallback((payload) => {\r\n    dispatch({ type: ActionType.AddTabs, payload });\r\n  }, []);\r\n\r\n  const removeTabs: TabsContextProps[\"removeTabs\"] = useCallback((keys) => {\r\n    dispatch({ type: ActionType.RemoveTabs, payload: keys });\r\n  }, []);\r\n\r\n  const closeDropdownTab: TabsContextProps[\"closeDropdownTab\"] = useCallback(\r\n    (key, newActiveTab) => {\r\n      dispatch({\r\n        type: ActionType.CloseTabs,\r\n        payload: { key: key, newActiveKey: newActiveTab },\r\n      });\r\n    },\r\n    []\r\n  );\r\n\r\n  const onTabClose: TabsContextProps[\"onTabClose\"] = useCallback((key) => {\r\n    dispatch({ type: ActionType.RemoveTabs, payload: key });\r\n  }, []);\r\n\r\n  const lockTabs: TabsContextProps[\"lockTabs\"] = useCallback((keys) => {\r\n    dispatch({\r\n      type: ActionType.LockTabs,\r\n      payload: { keys: keys, mode: \"lock\" },\r\n    });\r\n  }, []);\r\n\r\n  const unlockTabs: TabsContextProps[\"unlockTabs\"] = useCallback((keys) => {\r\n    dispatch({\r\n      type: ActionType.LockTabs,\r\n      payload: { keys: keys, mode: \"unlock\" },\r\n    });\r\n  }, []);\r\n\r\n  const toggleLock: TabsContextProps[\"toggleLock\"] = useCallback((keys) => {\r\n    dispatch({\r\n      type: ActionType.LockTabs,\r\n      payload: { keys: keys, mode: \"toggle\" },\r\n    });\r\n  }, []);\r\n\r\n  const starTabs: TabsContextProps[\"starTabs\"] = useCallback((keys) => {\r\n    dispatch({\r\n      type: ActionType.StarTabs,\r\n      payload: { keys: keys, mode: \"star\" },\r\n    });\r\n  }, []);\r\n\r\n  const unstarTabs: TabsContextProps[\"unstarTabs\"] = useCallback((keys) => {\r\n    dispatch({\r\n      type: ActionType.StarTabs,\r\n      payload: { keys: keys, mode: \"unstar\" },\r\n    });\r\n  }, []);\r\n\r\n  const toggleStar: TabsContextProps[\"toggleStar\"] = useCallback((keys) => {\r\n    dispatch({\r\n      type: ActionType.StarTabs,\r\n      payload: { keys: keys, mode: \"toggle\" },\r\n    });\r\n  }, []);\r\n\r\n  const setState: TabsContextProps[\"setState\"] = useCallback((state) => {\r\n    dispatch({ type: ActionType.SetState, payload: state });\r\n  }, []);\r\n\r\n  return (\r\n    <TabsContext.Provider\r\n      value={{\r\n        ...state,\r\n        addTabs,\r\n        removeTabs,\r\n        setActiveKey,\r\n        onTabClose,\r\n        closeDropdownTab,\r\n        lockTabs,\r\n        unlockTabs,\r\n        toggleLock,\r\n        starTabs,\r\n        unstarTabs,\r\n        toggleStar,\r\n        setState,\r\n      }}\r\n    >\r\n      {children}\r\n    </TabsContext.Provider>\r\n  );\r\n};\r\n\r\nexport { TabsContext, TabsContextProvider };\r\n","import { useContext } from \"react\";\r\nimport { TabsContext } from \"../TabsContext/TabsContext\";\r\n\r\nfunction useTabs() {\r\n  return useContext(TabsContext);\r\n}\r\n\r\nexport default useTabs;\r\n","import { withNaming } from \"@bem-react/classname\";\r\n\r\nexport default withNaming({ e: \"__\", m: \"_\", v: \"_\" });\r\n","import React from \"react\";\r\nimport bem from \"../../../helpers/bem\";\r\nimport { Tab } from \"../types\";\r\n\r\nconst bemTab = bem(\"tab\");\r\n\r\nexport type TabProps = {\r\n  title: Tab[\"title\"];\r\n  active: boolean;\r\n  onClick?: () => void;\r\n} & Omit<React.HTMLAttributes<HTMLDivElement>, \"title\">;\r\n\r\nconst TabComponent = React.forwardRef<HTMLDivElement, TabProps>(\r\n  function TabComponent({ title, active, ...rest }, ref) {\r\n    return (\r\n      <div\r\n        ref={ref}\r\n        className={bemTab({ active: active })}\r\n        role=\"tab\"\r\n        {...rest}\r\n      >\r\n        <span className={bemTab(\"title\")}>{title}</span>\r\n      </div>\r\n    );\r\n  }\r\n);\r\n\r\nexport default TabComponent;\r\n","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M0 0h24v24H0V0z\",\n  fill: \"none\"\n});\n\nvar _ref3 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41z\"\n});\n\nfunction SvgClose24Dp(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, [\"title\", \"titleId\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    height: \"24px\",\n    viewBox: \"0 0 24 24\",\n    width: \"24px\",\n    fill: \"currentColor\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _ref2, _ref3);\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgClose24Dp);\nexport default __webpack_public_path__ + \"static/media/close_24dp.60bd688e.svg\";\nexport { ForwardRef as ReactComponent };","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"g\", {\n  fill: \"none\"\n}, /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M0 0h24v24H0V0z\"\n}), /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M0 0h24v24H0V0z\",\n  opacity: 0.87\n}));\n\nvar _ref3 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M18 8h-1V6c0-2.76-2.24-5-5-5S7 3.24 7 6v2H6c-1.1 0-2 .9-2 2v10c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V10c0-1.1-.9-2-2-2zM9 6c0-1.66 1.34-3 3-3s3 1.34 3 3v2H9V6zm9 14H6V10h12v10zm-6-3c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2z\"\n});\n\nfunction SvgLock24Dp(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, [\"title\", \"titleId\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    height: \"24px\",\n    viewBox: \"0 0 24 24\",\n    width: \"24px\",\n    fill: \"currentColor\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _ref2, _ref3);\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgLock24Dp);\nexport default __webpack_public_path__ + \"static/media/lock_24dp.03e3f8a0.svg\";\nexport { ForwardRef as ReactComponent };","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M0 0h24v24H0V0z\",\n  fill: \"none\"\n});\n\nvar _ref3 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M22 9.24l-7.19-.62L12 2 9.19 8.63 2 9.24l5.46 4.73L5.82 21 12 17.27 18.18 21l-1.63-7.03L22 9.24zM12 15.4l-3.76 2.27 1-4.28-3.32-2.88 4.38-.38L12 6.1l1.71 4.04 4.38.38-3.32 2.88 1 4.28L12 15.4z\"\n});\n\nfunction SvgStarOutline24Dp(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, [\"title\", \"titleId\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    height: \"24px\",\n    viewBox: \"0 0 24 24\",\n    width: \"24px\",\n    fill: \"currentColor\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _ref2, _ref3);\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgStarOutline24Dp);\nexport default __webpack_public_path__ + \"static/media/star_outline_24dp.e592165f.svg\";\nexport { ForwardRef as ReactComponent };","import React from \"react\";\r\nimport bem from \"../../../helpers/bem\";\r\nimport { DropdownTab, Section, TabKey } from \"../types\";\r\nimport { ReactComponent as CloseIcon } from \"../../../assets/close_24dp.svg\";\r\nimport { ReactComponent as LockIcon } from \"../../../assets/lock_24dp.svg\";\r\nimport { ReactComponent as StarIcon } from \"../../../assets/star_outline_24dp.svg\";\r\nimport useTabs from \"../hooks/useTabs\";\r\n\r\nconst bemMenu = bem(\"dropdown-menu\");\r\nconst bemMenuItem = bem(\"dropdown-menu-item\");\r\nconst bemIcon = bem(\"icon\");\r\n\r\nexport type DropdownMenuProps = {\r\n  onChange: (key: TabKey) => void;\r\n  sections: Section[];\r\n  activeKey: TabKey | null;\r\n};\r\n\r\nexport function DropdownMenu({\r\n  onChange,\r\n  sections,\r\n  activeKey,\r\n}: DropdownMenuProps) {\r\n  return (\r\n    <div className={bemMenu()} onClick={(e) => e.stopPropagation()}>\r\n      {sections.map((s, i) => {\r\n        return (\r\n          !!s.tabs?.length && (\r\n            <DropdownMenuSection\r\n              onChange={onChange}\r\n              {...s}\r\n              activeKey={activeKey}\r\n            />\r\n          )\r\n        );\r\n      })}\r\n    </div>\r\n  );\r\n}\r\n\r\nexport type DropdownMenuSectionProps = {\r\n  title: Section[\"title\"];\r\n  tabs: DropdownTab[];\r\n  onChange: (key: TabKey) => void;\r\n  activeKey: TabKey | null;\r\n};\r\n\r\nfunction DropdownMenuSection({\r\n  title,\r\n  tabs,\r\n  onChange,\r\n  activeKey,\r\n}: DropdownMenuSectionProps) {\r\n  return (\r\n    <>\r\n      <div className={bemMenu(\"section-title\")}>\r\n        <span className={\"text-truncate\"}>{title}</span>\r\n      </div>\r\n      <ul className={bemMenu(\"section\")}>\r\n        {tabs?.map((tab) => (\r\n          <DropdownMenuItem\r\n            key={tab.key}\r\n            tab={tab}\r\n            onClick={() => onChange(tab.key)}\r\n            active={activeKey === tab.key}\r\n          />\r\n        ))}\r\n      </ul>\r\n    </>\r\n  );\r\n}\r\n\r\nexport type DropdownMenuItemProps = {\r\n  tab: DropdownTab;\r\n  onClick: () => void;\r\n  disabled?: boolean;\r\n  active: boolean;\r\n};\r\n\r\nfunction DropdownMenuItem({\r\n  tab,\r\n  onClick,\r\n  active,\r\n  disabled,\r\n}: DropdownMenuItemProps) {\r\n  const { closeDropdownTab } = useTabs();\r\n  const { locked, starred, title } = tab;\r\n\r\n  return (\r\n    <li\r\n      className={bemMenuItem({\r\n        active: active,\r\n        locked: locked,\r\n        disabled: disabled,\r\n      })}\r\n      onClick={disabled ? undefined : onClick}\r\n    >\r\n      {starred && (\r\n        <StarIcon\r\n          className={bemIcon({ small: true }, [bemMenuItem(\"star-icon\")])}\r\n        />\r\n      )}\r\n\r\n      {locked && (\r\n        <LockIcon\r\n          className={bemIcon({ small: true }, [bemMenuItem(\"lock-icon\")])}\r\n        />\r\n      )}\r\n\r\n      <span className={bemMenuItem(\"title\", [\"text-truncate\"])}>{title}</span>\r\n\r\n      {!locked && (\r\n        <CloseIcon\r\n          onClick={(e) => {\r\n            e.stopPropagation();\r\n            closeDropdownTab(tab.key);\r\n          }}\r\n          className={bemIcon({ small: true }, [bemMenuItem(\"close-icon\")])}\r\n        />\r\n      )}\r\n    </li>\r\n  );\r\n}\r\n\r\nexport default DropdownMenu;\r\n","import { MutableRefObject, useEffect } from \"react\";\r\n\r\nfunction useWatchOutsideClick(\r\n  ref: MutableRefObject<HTMLElement | null>,\r\n  handler: (e: MouseEvent) => void\r\n): void {\r\n  useEffect(() => {\r\n    if (!ref.current) {\r\n      return;\r\n    }\r\n\r\n    function handleClick(e: MouseEvent) {\r\n      if (!ref.current?.contains(e.target as Node)) {\r\n        handler(e);\r\n      }\r\n    }\r\n\r\n    document.addEventListener(\"mousedown\", handleClick);\r\n\r\n    return () => {\r\n      document.removeEventListener(\"mousedown\", handleClick);\r\n    };\r\n  }, [ref, handler]);\r\n}\r\n\r\nexport default useWatchOutsideClick;\r\n","import { DropdownTab, Section, TabKey } from \"../types\";\r\n\r\nfunction getTabInfoByKey(key: TabKey | null | undefined, sections: Section[]) {\r\n  let target: DropdownTab | null = null;\r\n  let section: Section | null = null;\r\n\r\n  for (let i = 0; !target && i < sections?.length; i++) {\r\n    target = sections[i].tabs?.find((t) => t.key === key) ?? null;\r\n    section = target ? sections[i] : null;\r\n  }\r\n\r\n  return { tab: target, section: section };\r\n}\r\n\r\nexport default getTabInfoByKey;\r\n","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M0 0h24v24H0V0z\",\n  fill: \"none\"\n});\n\nvar _ref3 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M7 10l5 5 5-5H7z\"\n});\n\nfunction SvgArrowDropDown24Dp(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, [\"title\", \"titleId\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    height: \"24px\",\n    viewBox: \"0 0 24 24\",\n    width: \"24px\",\n    fill: \"currentColor\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _ref2, _ref3);\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgArrowDropDown24Dp);\nexport default __webpack_public_path__ + \"static/media/arrow_drop_down_24dp.25d163c7.svg\";\nexport { ForwardRef as ReactComponent };","import React, {\r\n  useCallback,\r\n  useEffect,\r\n  useLayoutEffect,\r\n  useRef,\r\n  useState,\r\n} from \"react\";\r\nimport DropdownMenu from \"../DropdownTabMenu/DropdownTabMenu\";\r\nimport bem from \"../../../helpers/bem\";\r\nimport { DropdownTab, Section, TabKey } from \"../types\";\r\nimport useWatchOutsideClick from \"../DropdownTabMenu/hooks/useWatchOutsideClick\";\r\nimport getDropdownTabByKey from \"../utils/getDropdownTabByKey\";\r\nimport { ReactComponent as DropdownIcon } from \"../../../assets/arrow_drop_down_24dp.svg\";\r\n\r\nconst bemTab = bem(\"tab\");\r\nconst bemDropdownTab = bem(\"dropdown-tab\");\r\n\r\nexport type DropdownTabProps = {\r\n  onChange: (key: TabKey) => void;\r\n  sections: Section[];\r\n  activeKey: TabKey | null;\r\n  defaultKey?: TabKey;\r\n  placeholder?: React.ReactNode;\r\n  onWidthChange: (width: number) => void;\r\n};\r\n\r\nconst DropdownTabComponent = React.forwardRef<HTMLDivElement, DropdownTabProps>(\r\n  function DropdownTabComponent(\r\n    {\r\n      onWidthChange,\r\n      onChange,\r\n      sections,\r\n      activeKey,\r\n      defaultKey,\r\n      placeholder = \"ACTIVE TABS\",\r\n    },\r\n    ref\r\n  ) {\r\n    const [isOpen, setIsOpen] = useState(false);\r\n\r\n    const [activeTabInfo, setActiveTabInfo] = useState(() => {\r\n      return getDropdownTabByKey(\r\n        activeKey !== null ? activeKey : defaultKey,\r\n        sections\r\n      );\r\n    });\r\n\r\n    useEffect(() => {\r\n      setActiveTabInfo((tabInfo) => {\r\n        let newInfo = getDropdownTabByKey(activeKey, sections);\r\n\r\n        if (!newInfo.tab) {\r\n          newInfo = getDropdownTabByKey(tabInfo.tab?.key, sections);\r\n        }\r\n\r\n        if (\r\n          newInfo.tab !== tabInfo.tab ||\r\n          newInfo.section !== tabInfo.section\r\n        ) {\r\n          return newInfo;\r\n        }\r\n\r\n        return tabInfo;\r\n      });\r\n    }, [sections, activeKey]);\r\n\r\n    const isActive = activeTabInfo.tab?.key === activeKey;\r\n\r\n    const onClick = useCallback(() => {\r\n      setIsOpen((open) => {\r\n        if (open) {\r\n          return false;\r\n        }\r\n\r\n        if (isActive) {\r\n          return !open;\r\n        }\r\n\r\n        return !activeTabInfo.tab;\r\n      });\r\n\r\n      if (activeTabInfo.tab) {\r\n        onChange(activeTabInfo.tab.key);\r\n      }\r\n    }, [isActive, activeTabInfo.tab, onChange]);\r\n\r\n    useEffect(() => {\r\n      if (!isActive) {\r\n        setIsOpen(false);\r\n      }\r\n    }, [isActive]);\r\n\r\n    const onSelectTab = useCallback(\r\n      (tabKey: TabKey) => {\r\n        onChange?.(tabKey);\r\n        setIsOpen(false);\r\n      },\r\n      [onChange]\r\n    );\r\n\r\n    const prevTabWidth = useRef<number | null>(null);\r\n    const innerTabRef = useRef<HTMLDivElement>({} as HTMLDivElement);\r\n\r\n    const closeOutsideClick = useCallback(() => {\r\n      setIsOpen(false);\r\n    }, []);\r\n\r\n    useWatchOutsideClick(innerTabRef, closeOutsideClick);\r\n\r\n    useLayoutEffect(() => {\r\n      const width = innerTabRef.current.clientWidth ?? 0;\r\n      if (prevTabWidth.current !== width) {\r\n        prevTabWidth.current = width;\r\n        onWidthChange?.(width);\r\n      }\r\n    });\r\n\r\n    const title = activeTabInfo.tab?.title;\r\n    const sectionTitle = activeTabInfo.section?.title;\r\n    const starred = activeTabInfo.tab?.starred;\r\n    const locked = activeTabInfo.tab?.locked;\r\n\r\n    return (\r\n      <div\r\n        ref={(el) => {\r\n          if (ref) {\r\n            if (typeof ref === \"function\") {\r\n              ref(el);\r\n            } else {\r\n              ref.current = el;\r\n            }\r\n          }\r\n\r\n          innerTabRef.current = el as HTMLDivElement;\r\n        }}\r\n        className={bemTab({ active: isActive, dropdown: true })}\r\n        style={{ position: \"relative\" }}\r\n        onClick={onClick}\r\n      >\r\n        {activeTabInfo.tab && (\r\n          <SelectedTabInfo\r\n            isOpen={isOpen}\r\n            sectionTitle={sectionTitle}\r\n            title={title}\r\n            starred={starred}\r\n            locked={locked}\r\n          />\r\n        )}\r\n        {!activeTabInfo.tab && placeholder}\r\n\r\n        {isOpen && (\r\n          <DropdownMenu\r\n            sections={sections}\r\n            onChange={onSelectTab}\r\n            activeKey={activeKey}\r\n          />\r\n        )}\r\n      </div>\r\n    );\r\n  }\r\n);\r\n\r\ntype SelectedTabInfoProps = {\r\n  isOpen: boolean;\r\n  sectionTitle: Section[\"title\"];\r\n  title: DropdownTab[\"title\"];\r\n  starred: DropdownTab[\"starred\"];\r\n  locked: DropdownTab[\"locked\"];\r\n};\r\n\r\nfunction SelectedTabInfo({\r\n  isOpen,\r\n  sectionTitle,\r\n  title,\r\n  starred,\r\n  locked,\r\n}: SelectedTabInfoProps) {\r\n  return (\r\n    <div className={bemDropdownTab()}>\r\n      <span className={bemDropdownTab(\"section-title\", [\"text-truncate\"])}>\r\n        {sectionTitle}\r\n      </span>\r\n      <span className={bemDropdownTab(\"title\", [\"text-truncate\"])}>\r\n        {title}\r\n      </span>\r\n      {starred && (\r\n        <span className={bemDropdownTab(\"indicator\", { star: true })} />\r\n      )}\r\n      {locked && (\r\n        <span className={bemDropdownTab(\"indicator\", { lock: true })} />\r\n      )}\r\n      <DropdownIcon\r\n        className={bemDropdownTab(\"dropdown-icon\", { open: isOpen })}\r\n      />\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default DropdownTabComponent;\r\n","import React from \"react\";\r\n\r\nexport type SliderProps = {\r\n  left: number;\r\n  width: number;\r\n};\r\n\r\nfunction Slider({ left, width }: SliderProps) {\r\n  return <div className=\"tabs-slider\" style={{ left, width }} />;\r\n}\r\n\r\nexport default Slider;\r\n","import getDropdownTabByKey from \"../../utils/getDropdownTabByKey\";\r\nimport { Section, Tab, TabKey } from \"../../types\";\r\nimport { useCallback, useLayoutEffect, useRef, useState } from \"react\";\r\n\r\nexport type SliderRenderingInfo = {\r\n  tabsElements: Record<Tab[\"key\"], HTMLDivElement | null>;\r\n  dropdownTabElement: HTMLDivElement | null;\r\n};\r\n\r\nexport type SlideDisplayInfo = {\r\n  isDisplayed: boolean;\r\n  width: number;\r\n  left: number;\r\n};\r\n\r\nconst defaultDiplayInfo: SlideDisplayInfo = {\r\n  isDisplayed: false,\r\n  width: 0,\r\n  left: 0,\r\n};\r\n\r\nfunction useSlider(activeTabKey: TabKey | null, sections: Section[]) {\r\n  const elementsRef = useRef<SliderRenderingInfo>({\r\n    tabsElements: {},\r\n    dropdownTabElement: null,\r\n  });\r\n\r\n  const [displayInfo, setDisplayInfo] = useState<SlideDisplayInfo>({\r\n    isDisplayed: false,\r\n    width: 0,\r\n    left: 0,\r\n  });\r\n\r\n  // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  useLayoutEffect(() => {\r\n    if (activeTabKey == null) {\r\n      setDisplayInfo((d) =>\r\n        isEqual(d, defaultDiplayInfo) ? d : defaultDiplayInfo\r\n      );\r\n      return;\r\n    }\r\n\r\n    let tabElement = elementsRef.current.tabsElements[activeTabKey];\r\n\r\n    if (!tabElement) {\r\n      const isDropdownTab = !!getDropdownTabByKey(activeTabKey, sections)?.tab;\r\n      tabElement = isDropdownTab\r\n        ? elementsRef.current.dropdownTabElement\r\n        : null;\r\n    }\r\n\r\n    const newDisplayInfo: SlideDisplayInfo = {\r\n      isDisplayed: !!tabElement,\r\n      width: tabElement?.getBoundingClientRect().width ?? 0,\r\n      left: tabElement?.offsetLeft ?? 0,\r\n    };\r\n\r\n    setDisplayInfo((d) => (isEqual(d, newDisplayInfo) ? d : newDisplayInfo));\r\n  });\r\n\r\n  const onDropdownTabWidthChange = useCallback(() => {\r\n    setDisplayInfo((prev) => {\r\n      return {\r\n        ...prev,\r\n        width:\r\n          elementsRef.current.dropdownTabElement?.getBoundingClientRect()\r\n            .width ?? 0,\r\n        left: elementsRef.current.dropdownTabElement?.offsetLeft ?? 0,\r\n      };\r\n    });\r\n  }, []);\r\n\r\n  return {\r\n    elementsRef,\r\n    sliderDisplayInfo: displayInfo,\r\n    onDropdownTabWidthChange: onDropdownTabWidthChange,\r\n  };\r\n}\r\n\r\nfunction isEqual(obj1: SlideDisplayInfo, obj2: SlideDisplayInfo) {\r\n  return (\r\n    obj1.isDisplayed === obj2.isDisplayed &&\r\n    obj1.left === obj2.left &&\r\n    obj1.width === obj2.width\r\n  );\r\n}\r\nexport default useSlider;\r\n","import React, { useCallback, useMemo, useState } from \"react\";\r\nimport TabComponent from \"./TabComponent\";\r\nimport DropdownTabComponent from \"../DropdownTab/DropdownTabComponent\";\r\nimport { Section, Tab, TabKey } from \"../types\";\r\nimport Slider from \"../Slider/Slider\";\r\nimport useSlider from \"./hooks/useSlider\";\r\n\r\nexport type TabsProps = {\r\n  tabs: Tab[];\r\n  sections: Section[];\r\n  onChange: (key: TabKey | null) => void;\r\n  onDropdownTabClose: (key: TabKey) => void;\r\n  activeKey?: TabKey | null;\r\n  defaultActiveKey?: TabKey;\r\n};\r\n\r\nfunction TabsComponent({\r\n  tabs,\r\n  sections,\r\n  onChange: onChangeProp,\r\n  onDropdownTabClose,\r\n  activeKey: activeKeyProp,\r\n  defaultActiveKey,\r\n}: TabsProps) {\r\n  const [activeKeyInner, setActiveKeyInner] = useState(() =>\r\n    activeKeyProp !== undefined ? activeKeyProp : defaultActiveKey ?? null\r\n  );\r\n\r\n  const onChange = useCallback(\r\n    (key) => {\r\n      if (onChangeProp && key !== Symbol.for(\"dropdownTab\")) {\r\n        onChangeProp(key);\r\n      }\r\n\r\n      setActiveKeyInner(key);\r\n    },\r\n    [onChangeProp]\r\n  );\r\n\r\n  const activeTabKey =\r\n    activeKeyProp !== undefined ? activeKeyProp : activeKeyInner;\r\n\r\n  const isDropdownTabDisplayed = useMemo(\r\n    () => sections.some((s) => s.tabs.length),\r\n    [sections]\r\n  );\r\n\r\n  const {\r\n    elementsRef,\r\n    sliderDisplayInfo,\r\n    onDropdownTabWidthChange,\r\n  } = useSlider(activeTabKey, sections);\r\n\r\n  return (\r\n    <div className=\"tabs\">\r\n      {tabs.map((t) => (\r\n        <TabComponent\r\n          key={t.key}\r\n          title={t.title}\r\n          ref={(el) => {\r\n            elementsRef.current.tabsElements[t.key] = el;\r\n          }}\r\n          onClick={() => onChange(t.key)}\r\n          active={activeTabKey === t.key}\r\n        />\r\n      ))}\r\n\r\n      {isDropdownTabDisplayed && (\r\n        <DropdownTabComponent\r\n          ref={(el) => (elementsRef.current.dropdownTabElement = el)}\r\n          activeKey={activeTabKey}\r\n          onChange={onChange}\r\n          sections={sections}\r\n          defaultKey={defaultActiveKey}\r\n          onWidthChange={onDropdownTabWidthChange}\r\n        />\r\n      )}\r\n\r\n      {sliderDisplayInfo.isDisplayed && (\r\n        <Slider left={sliderDisplayInfo.left} width={sliderDisplayInfo.width} />\r\n      )}\r\n    </div>\r\n  );\r\n}\r\nexport default TabsComponent;\r\n","import React from \"react\";\r\nimport useTabs from \"../components/Tabs/hooks/useTabs\";\r\nimport Tabs from \"./Tabs/Tabs/Tabs\";\r\n\r\nfunction TabsWithContext() {\r\n  const { tabs, sections, activeKey, setActiveKey, onTabClose } = useTabs();\r\n\r\n  return (\r\n    <Tabs\r\n      activeKey={activeKey}\r\n      tabs={tabs}\r\n      sections={sections}\r\n      onChange={(key) => setActiveKey(key)}\r\n      onDropdownTabClose={onTabClose}\r\n    />\r\n  );\r\n}\r\n\r\nexport default TabsWithContext;\r\n","import React, { PropsWithChildren } from \"react\";\r\n\r\nexport type TabContentProps = PropsWithChildren<{\r\n  tag?: keyof JSX.IntrinsicElements;\r\n}>;\r\n\r\nfunction TabContent({ children, tag = \"section\" }: TabContentProps) {\r\n  const TabContentContainer = tag;\r\n\r\n  return <TabContentContainer>{children}</TabContentContainer>;\r\n}\r\n\r\nexport default TabContent;\r\n","import React, { memo } from \"react\";\r\nimport bem from \"../../../helpers/bem\";\r\nimport { DropdownTab, Tab } from \"../types\";\r\nimport TabContent from \"./TabContent/TabContent\";\r\n\r\nconst bemTabPane = bem(\"tab-pane\");\r\n\r\nexport type TabPaneProps = {\r\n  className?: string;\r\n  active: boolean;\r\n  tab: Tab | DropdownTab;\r\n};\r\n\r\nfunction TabPane({ className, active, tab }: TabPaneProps) {\r\n  return (\r\n    <div\r\n      className={bemTabPane({ active: active, hidden: !active }, [className])}\r\n      role=\"tabpanel\"\r\n    >\r\n      <TabContent>\r\n        {/* TODO: Tab.component and DropdownTab.component props */}\r\n        <h1>{tab.title}</h1>\r\n      </TabContent>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default memo(TabPane);\r\n","import React, { useMemo, useEffect, useRef } from \"react\";\r\nimport TabPane from \"./TabPane\";\r\nimport useTabs from \"../hooks/useTabs\";\r\nimport { TabKey } from \"../types\";\r\nimport bem from \"../../../helpers/bem\";\r\n\r\nconst bemContainer = bem(\"tap-panes-container\");\r\n\r\nexport type TabPanesContainerProps = {\r\n  className?: string;\r\n  classNameInner?: string;\r\n};\r\n\r\nfunction TabPanesContainer({\r\n  className,\r\n  classNameInner,\r\n}: TabPanesContainerProps) {\r\n  const { tabs, sections, activeKey } = useTabs();\r\n\r\n  const flattenTabs = useMemo(() => {\r\n    let flatten = tabs ? [...tabs] : [];\r\n\r\n    flatten =\r\n      sections?.reduce?.((flatten, s) => {\r\n        if (s.tabs?.length) {\r\n          flatten.push(...s.tabs);\r\n        }\r\n\r\n        return flatten;\r\n      }, flatten) ?? flatten;\r\n\r\n    return flatten;\r\n  }, [tabs, sections]);\r\n\r\n  const prevActiveKey = useRef<TabKey | null>(null);\r\n\r\n  useEffect(() => {\r\n    prevActiveKey.current = activeKey;\r\n  }, [activeKey]);\r\n\r\n  const shift = useMemo(() => {\r\n    return flattenTabs.findIndex((t) => t.key === activeKey);\r\n  }, [flattenTabs, activeKey]);\r\n\r\n  return (\r\n    <div className={bemContainer(null, [className])}>\r\n      <div\r\n        className={bemContainer(\"inner\", null, [classNameInner])}\r\n        style={{ transform: `translateX(-${shift}00%)` }}\r\n      >\r\n        {flattenTabs.map((t) => (\r\n          <TabPane key={t.key} active={activeKey === t.key} tab={t} />\r\n        ))}\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default TabPanesContainer;\r\n","import React, { useContext } from \"react\";\r\n\r\nimport { Section } from \"./components/Tabs/types\";\r\nimport {\r\n  TabsContext,\r\n  TabsContextProvider,\r\n} from \"./components/Tabs/TabsContext/TabsContext\";\r\nimport TabsWithContext from \"./components/TabsWithContext\";\r\nimport TabPanesContainer from \"./components/Tabs/TabPane/TabPanesContaner\";\r\nimport getDropdownTabByKey from \"./components/Tabs/utils/getDropdownTabByKey\";\r\n\r\nexport default function App() {\r\n  const tabs = [\r\n    {\r\n      key: \"0\",\r\n      title: \"OVERVIEW\",\r\n    },\r\n  ];\r\n\r\n  const sections: Section[] = [\r\n    {\r\n      key: \"s0\",\r\n      title: \"Active\",\r\n      tabs: [\r\n        {\r\n          key: \"dropdownTab0\",\r\n          title: \"Dropdown Tab 0\",\r\n        },\r\n        {\r\n          key: \"dropdownTab1\",\r\n          title: \"Menu item 1\",\r\n          locked: true,\r\n          starred: true,\r\n        },\r\n      ],\r\n    },\r\n    {\r\n      key: \"s1\",\r\n      title: new Array(10).fill(\"Long Section Title\").join(\" \"),\r\n      tabs: [\r\n        {\r\n          key: \"dropdownTab2\",\r\n          title: new Array(10).fill(\"Dropdown menu item 2\").join(\" \"),\r\n          starred: true,\r\n        },\r\n        {\r\n          key: \"dropdownTab3\",\r\n          title: \"Dropdown tab 3\",\r\n          locked: true,\r\n        },\r\n      ],\r\n    },\r\n    {\r\n      key: \"s2\",\r\n      title: \"Empty Section\",\r\n      tabs: [],\r\n    },\r\n  ];\r\n\r\n  return (\r\n    <TabsContextProvider\r\n      defaultActiveKey={\"0\"}\r\n      initialTabs={tabs}\r\n      initialSections={sections}\r\n    >\r\n      <main style={{ padding: 100 }}>\r\n        <TabsWithContext />\r\n        <TabPanesContainer />\r\n        <Buttons />\r\n      </main>\r\n    </TabsContextProvider>\r\n  );\r\n}\r\n\r\nlet newTabsCounter = 10;\r\nfunction Buttons() {\r\n  const {\r\n    activeKey,\r\n    setActiveKey,\r\n    toggleStar,\r\n    toggleLock,\r\n    sections,\r\n    closeDropdownTab,\r\n    addTabs,\r\n  } = useContext(TabsContext);\r\n\r\n  const onToggleStar = () => {\r\n    if (activeKey) {\r\n      toggleStar(activeKey);\r\n    }\r\n  };\r\n\r\n  const onToggleLock = () => {\r\n    if (activeKey) {\r\n      toggleLock(activeKey);\r\n    }\r\n  };\r\n\r\n  const onCloseDropdown = () => {\r\n    if (activeKey) {\r\n      closeDropdownTab(activeKey);\r\n    }\r\n  };\r\n\r\n  const isDropdownTab = !!getDropdownTabByKey(activeKey, sections)?.tab;\r\n\r\n  const onAdd = () => {\r\n    const key = `dropdownTab${newTabsCounter++}`;\r\n    addTabs({\r\n      dropdownTabs: {\r\n        s0: [\r\n          {\r\n            key: key,\r\n            title: \"New Tab\",\r\n          },\r\n        ],\r\n      },\r\n    });\r\n\r\n    setActiveKey(key);\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <h2>Change dropdown tab</h2>\r\n\r\n      <button disabled={!isDropdownTab} onClick={onToggleStar}>\r\n        Toggle Star\r\n      </button>\r\n      <button disabled={!isDropdownTab} onClick={onToggleLock}>\r\n        Toggle Lock\r\n      </button>\r\n      <button disabled={!isDropdownTab} onClick={onCloseDropdown}>\r\n        Close\r\n      </button>\r\n      <button onClick={onAdd}>Add</button>\r\n    </div>\r\n  );\r\n}\r\n","import React from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\n\r\nimport App from \"./App\";\r\nimport \"./styles.scss\";\r\n\r\nconst rootElement = document.getElementById(\"root\");\r\nReactDOM.render(<App />, rootElement);\r\n"],"sourceRoot":""}