{"version":3,"sources":["components/Tabs/TabsContext/reducer.ts","components/Tabs/TabsContext/addTabs.ts","components/Tabs/TabsContext/helpers/utils.ts","components/Tabs/TabsContext/changeStarLockStates.ts","components/Tabs/TabsContext/closeDropdownTab.ts","components/Tabs/TabsContext/removeTabs.ts","components/Tabs/TabsContext/TabsContext.tsx","components/Tabs/hooks/useTabsContext.ts","helpers/bem.ts","components/Tabs/Ripple/Ripple.tsx","components/Tabs/Tabs/hooks/useRipple.ts","components/Tabs/Tabs/hooks/useMergeHandlers.ts","components/Tabs/hooks/useImperativeHandleProxy.ts","components/Tabs/Tabs/TabComponent.tsx","assets/close_24dp.svg","assets/lock_24dp.svg","assets/star_outline_24dp.svg","components/Tabs/DropdownTab/DropdownTabContext/DropdownTabContext.ts","components/Tabs/DropdownTab/DropdownTabContext/useDropdownTabContext.ts","components/Tabs/utils/generateTabId.ts","components/Tabs/DropdownTabMenu/DropdownTabMenu.tsx","components/Tabs/utils/getDropdownTabByKey.ts","assets/arrow_drop_down_24dp.svg","components/Tabs/DropdownTab/DropdownTabContext/DropdownTabContextProvider.tsx","components/Tabs/DropdownTab/DropdownTabComponent.tsx","components/Tabs/Slider/Slider.tsx","components/Tabs/Tabs/hooks/useSlider.ts","components/Tabs/Tabs/hooks/useKeyboardNavigation.ts","components/Tabs/Tabs/Tabs.tsx","components/TabsWithContext.tsx","components/Tabs/TabPane/TabContent/TabContent.tsx","components/Tabs/TabPane/TabPane.tsx","components/Tabs/TabPane/TabPanesContaner.tsx","App.tsx","index.tsx"],"names":["ActionType","handleAddTabs","original","tabsToAdd","tabsMapLike","reduce","obj","tab","key","changed","newTabs","map","t","newTab","restTabs","Object","values","length","push","toggleTabProp","state","tabKeys","prop","propValue","keysSet","Set","Array","isArray","isAnyChanged","newSections","sections","section","tabs","has","newValue","reducer","action","type","SetActiveKey","activeKey","payload","CloseTabs","newActiveKey","sectionTabIndex","tabKey","i","tabIndex","findIndex","sectionIndex","getSectionTabIndex","console","error","newIndex","targetDropdownTab","update","$set","$splice","closeDropdownTab","AddTabs","keys","dropdownTabs","updatedState","$apply","prevTabs","modifyingSectionsKeys","forEach","s","delete","size","Error","addTabs","StarTabs","mode","changeTabsStarredState","LockTabs","changeTabsLockedState","RemoveTabs","keysToRemove","updatedTabs","filter","sectionsWillBeChanged","some","updatedSections","sectionTabs","removeTabs","SetState","TabsContext","createContext","TabsContextProvider","defaultActiveKey","initialTabs","initialSections","children","useReducer","dispatch","setActiveKey","useCallback","newActiveTab","onTabClose","lockTabs","unlockTabs","toggleLock","starTabs","unstarTabs","toggleStar","setState","Provider","value","useTabsContext","useContext","withNaming","e","m","v","bemRipple","bem","Ripple","visible","point","rippleRef","useRef","useState","innerSize","setInnerSize","useLayoutEffect","rect","current","getBoundingClientRect","height","width","ref","className","hidden","style","transform","x","y","CSSTransition","in","classNames","timeout","pulsate","useRipple","focused","source","focusInfo","setFocusInfo","pressing","pressingInfo","setIsPressingInfo","showRipple","p","hideRipple","isMousePressed","eventHandlers","onKeyDown","nativeEvent","code","onKeyUp","onMouseDown","f","offsetX","offsetY","onMouseUp","onMouseLeave","onBlur","onFocus","onTouchStart","target","targetTouches","pageX","left","pageY","top","onTouchEnd","isRippleDisplayed","rippleRelatedHandlers","useMergeHandlers","handlers","handler","arguments","useImperativeHandleProxy","wrappedRef","init","deps","useImperativeHandle","Proxy","get","hasOwnProperty","wrapped","bemTab","TabComponent","React","forwardRef","title","active","id","props","innerRef","focus","options","prev","el","role","aria-selected","_extends","assign","prototype","call","apply","this","_objectWithoutProperties","excluded","sourceKeys","indexOf","_objectWithoutPropertiesLoose","getOwnPropertySymbols","sourceSymbolKeys","propertyIsEnumerable","d","fill","SvgClose24Dp","_ref","svgRef","titleId","xmlns","viewBox","ForwardRef","opacity","SvgLock24Dp","SvgStarOutline24Dp","DropdownTabContext","useDropdownTabContext","generateTabId","bemMenu","bemMenuItem","bemIcon","DropdownMenuSection","menuItemRef","aria-labelledby","index","DropdownMenuItem","disabled","onActivateMenuItem","onMenuItemFocus","focusedTabId","onCloseMenuItem","locked","starred","onFocusCallback","buttonRef","position","onClick","detail","small","aria-label","stopPropagation","DropdownMenu","open","sectionsJSX","useMemo","elements","menuItemsStartIndex","element","aria-hidden","closed","preventDefault","getTabInfoByKey","find","SvgArrowDropDown24Dp","DropdownTabContextProvider","bemTabContainer","bemDropdownTab","SelectedTabInfo","isOpen","sectionTitle","star","lock","DropdownTabComponent","isMenuOpen","setIsMenuOpen","onWidthChange","onChange","defaultKey","placeholder","containerRef","onContainerBlur","getDropdownTabByKey","activeTabInfo","setActiveTabInfo","useEffect","tabInfo","newInfo","isMenuItemActive","prevTabWidth","innerTabRef","clientWidth","onClickProp","restContextValues","onActivateMenuItemWrapped","isInitiatedByKeyboard","fi","contextValueOverridden","dropdown","aria-haspopup","Slider","defaultDiplayInfo","isDisplayed","isEqual","obj1","obj2","useSlider","KeyCode","activeTabKey","tabsRef","displayInfo","setDisplayInfo","targetElement","dropdownTab","parentNode","newDisplayInfo","offsetLeft","sliderDisplayInfo","onDropdownTabWidthChange","node","nextOrFirst","currentIndex","max","prevOrLast","useKeyboardNavigation","setFocusedTabId","onTabFocus","onTabBlur","onDropdownTabContainerBlur","container","contains","relatedTarget","onDropdownTabFocus","onItemFocus","onKeydown","tabsContainer","sort","focusedTabIndex","maxTabIndex","keyCode","tabsInfo","closeMenu","openMenu","menuItems","dropdownItems","maxMenuItemIndex","ArrowLeft","ArrowRight","ArrowUp","ArrowDown","Home","Escape","handleDropdownTabKeydown","focusedMenuItemIndex","nextIndex","End","handleDropdownMenuItemKeyDown","focusedIndex","dropdownTabElement","handleKeyDownOnTab","window","addEventListener","removeEventListener","DROPDOWN_TAB_KEY","Symbol","TabsComponent","onChangeProp","onDropdownTabClose","activeKeyProp","undefined","activeKeyInner","setActiveKeyInner","isDropdownTabDisplayed","initiatedByKeyboard","entries","focusTheFirstTabOrContainer","tabIndexesInfo","search","isDropdownTab","getTabIndexes","menuItemRefCallback","TabsWithContext","Tabs","TabContent","tag","TabContentContainer","bemTabPane","TabPane","aria-controls","memo","bemContainer","TabPanesContainer","classNameInner","flattenTabs","flatten","prevActiveKey","shift","App","join","padding","Buttons","newTabsCounter","borderTop","marginTop","s0","rootElement","document","getElementById","ReactDOM","render"],"mappings":"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","file":"static/js/main.8c2f0d6c.chunk.js","sourcesContent":["import { SetStateAction } from \"react\";\r\n\r\nimport { DropdownTab, Section, Tab, TabKey } from \"../types\";\r\nimport { closeDropdownTab } from \"./closeDropdownTab\";\r\nimport { removeTabs } from \"./removeTabs\";\r\nimport { addTabs } from \"./addTabs\";\r\nimport {\r\n  changeTabsLockedState,\r\n  changeTabsStarredState,\r\n  TabLockAction,\r\n  TabStarAction,\r\n} from \"./changeStarLockStates\";\r\n\r\nexport interface State {\r\n  activeKey: TabKey | null;\r\n  tabs: Tab[];\r\n  sections: Section[];\r\n}\r\n\r\nexport enum ActionType {\r\n  SetActiveKey,\r\n  AddTabs,\r\n  RemoveTabs,\r\n  CloseTabs,\r\n  LockTabs,\r\n  StarTabs,\r\n  SetState,\r\n}\r\n\r\nexport type PayloadType = {\r\n  [ActionType.SetActiveKey]: State[\"activeKey\"];\r\n  [ActionType.CloseTabs]: { key: TabKey; newActiveKey?: TabKey };\r\n  [ActionType.AddTabs]: {\r\n    tabs?: Tab[];\r\n    dropdownTabs?: Record<Section[\"key\"], DropdownTab[]>;\r\n  };\r\n  [ActionType.RemoveTabs]: TabKey | TabKey[];\r\n  [ActionType.LockTabs]: { keys: TabKey | TabKey[]; mode: TabLockAction };\r\n  [ActionType.StarTabs]: { keys: TabKey | TabKey[]; mode: TabStarAction };\r\n  [ActionType.SetState]: SetStateAction<State>;\r\n};\r\n\r\nexport type ReducerAction<T> = T extends keyof PayloadType\r\n  ? { type: T; payload: PayloadType[T] }\r\n  : never;\r\n\r\nexport function reducer(state: State, action: ReducerAction<ActionType>) {\r\n  switch (action.type) {\r\n    case ActionType.SetActiveKey: {\r\n      return { ...state, activeKey: action.payload };\r\n    }\r\n\r\n    case ActionType.CloseTabs: {\r\n      return closeDropdownTab(\r\n        state,\r\n        action.payload.key,\r\n        action.payload.newActiveKey\r\n      );\r\n    }\r\n\r\n    case ActionType.AddTabs: {\r\n      return addTabs(state, action.payload);\r\n    }\r\n\r\n    case ActionType.StarTabs: {\r\n      return changeTabsStarredState(\r\n        state,\r\n        action.payload.keys,\r\n        action.payload.mode\r\n      );\r\n    }\r\n\r\n    case ActionType.LockTabs: {\r\n      return changeTabsLockedState(\r\n        state,\r\n        action.payload.keys,\r\n        action.payload.mode\r\n      );\r\n    }\r\n\r\n    case ActionType.RemoveTabs: {\r\n      return removeTabs(state, action.payload);\r\n    }\r\n\r\n    case ActionType.SetState: {\r\n      return typeof action.payload === \"function\"\r\n        ? action.payload(state)\r\n        : action.payload;\r\n    }\r\n\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n","import { tabsToMapLike } from \"./helpers/utils\";\r\nimport { DropdownTab, Section, Tab } from \"../types\";\r\nimport update from \"immutability-helper\";\r\nimport { State } from \"./reducer\";\r\n\r\n/** Replaces matching existing tabs */\r\nexport function addTabs(\r\n  state: State,\r\n  payload: {\r\n    tabs?: Tab[];\r\n    /** Where a key is the section key */\r\n    dropdownTabs?: Record<Section[\"key\"], DropdownTab[]>;\r\n  }\r\n): State {\r\n  if (!Object.keys(payload).length) {\r\n    return state;\r\n  }\r\n\r\n  const { tabs, dropdownTabs } = payload;\r\n\r\n  // handling tabs\r\n  let updatedState = tabs?.length\r\n    ? update(state, {\r\n        tabs: {\r\n          $apply: (prevTabs: Tab[]) => {\r\n            return handleAddTabs(prevTabs, tabs);\r\n          },\r\n        },\r\n      })\r\n    : state;\r\n\r\n  // handle dropdownTabs\r\n\r\n  if (dropdownTabs) {\r\n    const modifyingSectionsKeys = new Set(Object.keys(dropdownTabs));\r\n    updatedState.sections.forEach((s) => modifyingSectionsKeys.delete(s.key));\r\n\r\n    if (modifyingSectionsKeys.size) {\r\n      throw new Error(\"Trying to add dropdown tabs to non-existing section\");\r\n    }\r\n  } else {\r\n    return updatedState;\r\n  }\r\n\r\n  return update(updatedState, {\r\n    sections: {\r\n      $apply: (sections: Section[]) => {\r\n        let changed = false;\r\n        const newSections = sections.map((section) => {\r\n          if (!dropdownTabs[section.key]?.length) {\r\n            return section;\r\n          }\r\n\r\n          const newTabs = handleAddTabs(\r\n            section.tabs,\r\n            dropdownTabs[section.key]\r\n          );\r\n\r\n          if (newTabs !== section.tabs) {\r\n            changed = true;\r\n            return {\r\n              ...section,\r\n              tabs: newTabs,\r\n            };\r\n          }\r\n\r\n          return section;\r\n        });\r\n\r\n        return changed ? newSections : sections;\r\n      },\r\n    },\r\n  });\r\n}\r\n\r\nfunction handleAddTabs<T extends { key: string }>(\r\n  original: T[],\r\n  tabsToAdd: T[]\r\n) {\r\n  const tabsMapLike = tabsToMapLike(tabsToAdd);\r\n  let changed = false;\r\n\r\n  const newTabs = original.map((t) => {\r\n    const newTab = tabsMapLike[t.key];\r\n\r\n    if (newTab) {\r\n      changed = true;\r\n      delete tabsMapLike[t.key];\r\n      return newTab;\r\n    }\r\n\r\n    return t;\r\n  });\r\n\r\n  const restTabs = Object.values(tabsMapLike);\r\n\r\n  if (restTabs.length) {\r\n    changed = true;\r\n    newTabs.push(...restTabs);\r\n  }\r\n\r\n  return changed ? newTabs : original;\r\n}\r\n","import { Section, TabKey } from \"../../types\";\r\n\r\nexport function tabsToMapLike<T extends { key: string }>(\r\n  tabs: T[]\r\n): Record<string, T> {\r\n  return tabs.reduce<Record<string, T>>((obj, tab: T) => {\r\n    obj[tab.key] = tab;\r\n    return obj;\r\n  }, {});\r\n}\r\n\r\nexport function getSectionTabIndex(sections: Section[], tabKey: TabKey) {\r\n  for (let i = 0; i < sections.length; i++) {\r\n    const tabIndex = sections[i].tabs.findIndex((t) => t.key === tabKey);\r\n\r\n    if (tabIndex !== -1) {\r\n      return { sectionIndex: i, tabIndex: tabIndex };\r\n    }\r\n  }\r\n}\r\n","import { DropdownTab, TabKey } from \"../types\";\r\nimport { State } from \"./reducer\";\r\n\r\nexport type TabLockAction = \"lock\" | \"unlock\" | \"toggle\";\r\nexport type TabStarAction = \"star\" | \"unstar\" | \"toggle\";\r\n\r\nexport function changeTabsLockedState(\r\n  state: State,\r\n  tabKeys: TabKey | TabKey[],\r\n  mode: TabLockAction\r\n): State {\r\n  return toggleTabProp(\r\n    state,\r\n    tabKeys,\r\n    \"locked\",\r\n    mode === \"lock\" ? true : mode === \"unlock\" ? false : mode\r\n  );\r\n}\r\n\r\nexport function changeTabsStarredState(\r\n  state: State,\r\n  tabKeys: TabKey | TabKey[],\r\n  mode: TabStarAction\r\n): State {\r\n  return toggleTabProp(\r\n    state,\r\n    tabKeys,\r\n    \"starred\",\r\n    mode === \"star\" ? true : mode === \"unstar\" ? false : mode\r\n  );\r\n}\r\n\r\ntype DropdownTabToggleableProp = keyof Pick<DropdownTab, \"locked\" | \"starred\">;\r\ntype TogglePropValue = true | false | \"toggle\";\r\n\r\nfunction toggleTabProp(\r\n  state: State,\r\n  tabKeys: TabKey | TabKey[],\r\n  prop: DropdownTabToggleableProp,\r\n  propValue: TogglePropValue\r\n): State {\r\n  const keysSet = new Set(Array.isArray(tabKeys) ? tabKeys : [tabKeys]);\r\n\r\n  let isAnyChanged = false;\r\n  const newSections = state.sections.map((section) => {\r\n    let changed = false;\r\n    const newTabs = section.tabs.map((tab) => {\r\n      if (keysSet.has(tab.key)) {\r\n        const newValue = propValue === \"toggle\" ? !tab[prop] : propValue;\r\n\r\n        if (tab[prop] !== newValue) {\r\n          changed = true;\r\n          return {\r\n            ...tab,\r\n            [prop]: newValue,\r\n          };\r\n        }\r\n      }\r\n\r\n      return tab;\r\n    });\r\n\r\n    if (changed) {\r\n      isAnyChanged = true;\r\n      return { ...section, tabs: newTabs };\r\n    }\r\n\r\n    return section;\r\n  });\r\n\r\n  if (isAnyChanged) {\r\n    return {\r\n      ...state,\r\n      sections: newSections,\r\n    };\r\n  }\r\n\r\n  return state;\r\n}\r\n","import { Tab, TabKey } from \"../types\";\r\nimport { getSectionTabIndex } from \"./helpers/utils\";\r\nimport update from \"immutability-helper\";\r\nimport { State } from \"./reducer\";\r\n\r\nexport function closeDropdownTab(\r\n  state: State,\r\n  key: TabKey,\r\n  newActiveKey?: TabKey | null\r\n): State {\r\n  const sectionTabIndex = getSectionTabIndex(state.sections, key);\r\n\r\n  if (!sectionTabIndex) {\r\n    console.error(\"trying to close non-existing tab\");\r\n    return state;\r\n  }\r\n\r\n  const { sectionIndex, tabIndex } = sectionTabIndex;\r\n\r\n  newActiveKey = state.activeKey;\r\n\r\n  // TODO: change the algorithm after introduce disabled tabs (disabled tab cannot be selected)\r\n  if (state.activeKey === key) {\r\n    const section = state.sections[sectionIndex];\r\n\r\n    // set new tab in the same section active\r\n    if (section.tabs.length > 1) {\r\n      const newIndex = tabIndex ? tabIndex - 1 : 1;\r\n      newActiveKey = section.tabs[newIndex].key;\r\n    } else {\r\n      // set the last tab of any of previous sections\r\n      let targetDropdownTab: Tab | null = null;\r\n      for (let i = sectionIndex; i >= 0; i++) {\r\n        const tabs = state.sections[i].tabs;\r\n\r\n        if (tabs.length) {\r\n          targetDropdownTab = tabs[tabs.length - 1];\r\n          break;\r\n        }\r\n      }\r\n\r\n      // or the last tab if there's no precedent dropdownTab\r\n      newActiveKey =\r\n        targetDropdownTab?.key ?? state.tabs.length\r\n          ? state.tabs[state.tabs.length - 1]?.key ?? null\r\n          : null;\r\n    }\r\n  }\r\n\r\n  return update(state, {\r\n    activeKey: {\r\n      $set: newActiveKey,\r\n    },\r\n    sections: {\r\n      [sectionIndex]: {\r\n        tabs: {\r\n          $splice: [[tabIndex, 1]],\r\n        },\r\n      },\r\n    },\r\n  });\r\n}\r\n","import { Section } from \"../types\";\r\nimport { ActionType, State, ReducerAction } from \"./reducer\";\r\n\r\nexport function removeTabs(\r\n  state: State,\r\n  keys: ReducerAction<ActionType.RemoveTabs>[\"payload\"]\r\n): State {\r\n  const keysToRemove = Array.isArray(keys) ? new Set(keys) : new Set([keys]);\r\n\r\n  // handle tabs\r\n  let updatedTabs = state.tabs.filter((t) => !keysToRemove.has(t.key));\r\n  if (updatedTabs.length === state.tabs.length) {\r\n    updatedTabs = state.tabs;\r\n  }\r\n\r\n  // handle dropdown sections\r\n  const sectionsWillBeChanged = state.sections.some((s) =>\r\n    s.tabs.some((t) => keysToRemove.has(t.key))\r\n  );\r\n\r\n  if (updatedTabs === state.tabs && !sectionsWillBeChanged) {\r\n    return state;\r\n  }\r\n\r\n  const updatedSections = state.sections.reduce((sections, section) => {\r\n    let sectionTabs = section.tabs.filter((t) => !keysToRemove.has(t.key));\r\n\r\n    if (sectionTabs.length === section.tabs.length) {\r\n      sections.push(section);\r\n      return sections;\r\n    }\r\n\r\n    sections.push({ ...section, tabs: sectionTabs });\r\n    return sections;\r\n  }, [] as Section[]);\r\n\r\n  return {\r\n    ...state,\r\n    tabs: updatedTabs,\r\n    sections: updatedSections,\r\n  };\r\n}\r\n","import React, {\r\n  useReducer,\r\n  createContext,\r\n  PropsWithChildren,\r\n  useCallback,\r\n} from \"react\";\r\n\r\nimport { reducer, ActionType, PayloadType, State } from \"./reducer\";\r\nimport { TabKey, Tab, Section } from \"../types\";\r\n\r\ntype TabsContextProps = {\r\n  activeKey: TabKey | null;\r\n  setActiveKey: (key: TabKey | null) => void;\r\n  tabs: Tab[];\r\n  sections: Section[];\r\n\r\n  addTabs: (payload: PayloadType[ActionType.AddTabs]) => void;\r\n  removeTabs: (keys: TabKey | TabKey[]) => void;\r\n  closeDropdownTab: (keys: TabKey, newActiveTab?: TabKey) => void;\r\n  onTabClose: (key: TabKey) => void;\r\n\r\n  lockTabs: (keys: TabKey | TabKey[]) => void;\r\n  unlockTabs: (keys: TabKey | TabKey[]) => void;\r\n  toggleLock: (keys: TabKey | TabKey[]) => void;\r\n\r\n  starTabs: (keys: TabKey | TabKey[]) => void;\r\n  unstarTabs: (keys: TabKey | TabKey[]) => void;\r\n  toggleStar: (keys: TabKey | TabKey[]) => void;\r\n\r\n  setState: (state: React.SetStateAction<State>) => void;\r\n};\r\n\r\nconst TabsContext = createContext({} as TabsContextProps);\r\n\r\ntype TabsContextProviderProps = {\r\n  defaultActiveKey?: TabKey | null;\r\n  initialTabs?: Tab[];\r\n  initialSections?: Section[];\r\n};\r\n\r\nconst TabsContextProvider = ({\r\n  defaultActiveKey,\r\n  initialTabs,\r\n  initialSections,\r\n  children,\r\n}: PropsWithChildren<TabsContextProviderProps>) => {\r\n  const [state, dispatch] = useReducer(reducer, {\r\n    activeKey: defaultActiveKey ?? null,\r\n    tabs: initialTabs ?? [],\r\n    sections: initialSections ?? [],\r\n  });\r\n\r\n  const setActiveKey: TabsContextProps[\"setActiveKey\"] = useCallback((key) => {\r\n    dispatch({ type: ActionType.SetActiveKey, payload: key });\r\n  }, []);\r\n\r\n  const addTabs: TabsContextProps[\"addTabs\"] = useCallback((payload) => {\r\n    dispatch({ type: ActionType.AddTabs, payload });\r\n  }, []);\r\n\r\n  const removeTabs: TabsContextProps[\"removeTabs\"] = useCallback((keys) => {\r\n    dispatch({ type: ActionType.RemoveTabs, payload: keys });\r\n  }, []);\r\n\r\n  const closeDropdownTab: TabsContextProps[\"closeDropdownTab\"] = useCallback(\r\n    (key, newActiveTab) => {\r\n      dispatch({\r\n        type: ActionType.CloseTabs,\r\n        payload: { key: key, newActiveKey: newActiveTab },\r\n      });\r\n    },\r\n    []\r\n  );\r\n\r\n  const onTabClose: TabsContextProps[\"onTabClose\"] = useCallback((key) => {\r\n    dispatch({ type: ActionType.RemoveTabs, payload: key });\r\n  }, []);\r\n\r\n  const lockTabs: TabsContextProps[\"lockTabs\"] = useCallback((keys) => {\r\n    dispatch({\r\n      type: ActionType.LockTabs,\r\n      payload: { keys: keys, mode: \"lock\" },\r\n    });\r\n  }, []);\r\n\r\n  const unlockTabs: TabsContextProps[\"unlockTabs\"] = useCallback((keys) => {\r\n    dispatch({\r\n      type: ActionType.LockTabs,\r\n      payload: { keys: keys, mode: \"unlock\" },\r\n    });\r\n  }, []);\r\n\r\n  const toggleLock: TabsContextProps[\"toggleLock\"] = useCallback((keys) => {\r\n    dispatch({\r\n      type: ActionType.LockTabs,\r\n      payload: { keys: keys, mode: \"toggle\" },\r\n    });\r\n  }, []);\r\n\r\n  const starTabs: TabsContextProps[\"starTabs\"] = useCallback((keys) => {\r\n    dispatch({\r\n      type: ActionType.StarTabs,\r\n      payload: { keys: keys, mode: \"star\" },\r\n    });\r\n  }, []);\r\n\r\n  const unstarTabs: TabsContextProps[\"unstarTabs\"] = useCallback((keys) => {\r\n    dispatch({\r\n      type: ActionType.StarTabs,\r\n      payload: { keys: keys, mode: \"unstar\" },\r\n    });\r\n  }, []);\r\n\r\n  const toggleStar: TabsContextProps[\"toggleStar\"] = useCallback((keys) => {\r\n    dispatch({\r\n      type: ActionType.StarTabs,\r\n      payload: { keys: keys, mode: \"toggle\" },\r\n    });\r\n  }, []);\r\n\r\n  const setState: TabsContextProps[\"setState\"] = useCallback((state) => {\r\n    dispatch({ type: ActionType.SetState, payload: state });\r\n  }, []);\r\n\r\n  return (\r\n    <TabsContext.Provider\r\n      value={{\r\n        ...state,\r\n        addTabs,\r\n        removeTabs,\r\n        setActiveKey,\r\n        onTabClose,\r\n        closeDropdownTab,\r\n        lockTabs,\r\n        unlockTabs,\r\n        toggleLock,\r\n        starTabs,\r\n        unstarTabs,\r\n        toggleStar,\r\n        setState,\r\n      }}\r\n    >\r\n      {children}\r\n    </TabsContext.Provider>\r\n  );\r\n};\r\n\r\nexport { TabsContext, TabsContextProvider };\r\n","import { useContext } from \"react\";\r\nimport { TabsContext } from \"../TabsContext/TabsContext\";\r\n\r\nfunction useTabsContext() {\r\n  return useContext(TabsContext);\r\n}\r\n\r\nexport default useTabsContext;\r\n","import { withNaming } from \"@bem-react/classname\";\r\n\r\nexport default withNaming({ e: \"__\", m: \"_\", v: \"_\" });\r\n","import React, { useLayoutEffect, useRef, useState } from \"react\";\r\nimport { CSSTransition } from \"react-transition-group\";\r\n\r\nimport bem from \"../../../helpers/bem\";\r\n\r\nconst bemRipple = bem(\"ripple\");\r\n\r\nexport type RippleProps = {\r\n  visible: boolean;\r\n  point: { x: number; y: number } | null;\r\n  mode: \"focused\" | \"pressing\";\r\n};\r\n\r\nfunction Ripple({ visible, mode, point }: RippleProps) {\r\n  const rippleRef = useRef<HTMLDivElement>(null!);\r\n  const [innerSize, setInnerSize] = useState(0);\r\n\r\n  // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  useLayoutEffect(() => {\r\n    const rect = rippleRef.current.getBoundingClientRect();\r\n    setInnerSize(rect.height > rect.width ? rect.height : rect.width);\r\n  });\r\n\r\n  return (\r\n    <div\r\n      ref={rippleRef}\r\n      className={bemRipple({\r\n        hidden: !visible,\r\n      })}\r\n    >\r\n      <div\r\n        className={bemRipple(\"anchor\")}\r\n        style={{\r\n          ...(point && {\r\n            transform: `translateX(${point.x}px) translateY(${point.y}px)`,\r\n          }),\r\n        }}\r\n      >\r\n        <CSSTransition\r\n          in={visible && mode === \"pressing\"}\r\n          classNames=\"ripple\"\r\n          timeout={500}\r\n        >\r\n          <div\r\n            className={bemRipple(\"body\", {\r\n              pulsate: mode === \"focused\",\r\n            })}\r\n            style={{\r\n              width: innerSize,\r\n              height: innerSize,\r\n            }}\r\n          />\r\n        </CSSTransition>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Ripple;\r\n","import { TouchEvent, useCallback, useRef, useState } from \"react\";\r\n\r\ntype Point = {\r\n  x: number;\r\n  y: number;\r\n};\r\n\r\ntype PressingInfo = {\r\n  pressing: boolean;\r\n  point: Point | null;\r\n};\r\n\r\ntype FocusInfo = {\r\n  focused: boolean;\r\n  source: string | null;\r\n};\r\n\r\nfunction useRipple() {\r\n  const [focusInfo, setFocusInfo] = useState<FocusInfo>({\r\n    focused: false,\r\n    source: null,\r\n  });\r\n\r\n  const [pressingInfo, setIsPressingInfo] = useState<PressingInfo>({\r\n    pressing: false,\r\n    point: null,\r\n  });\r\n\r\n  const showRipple = useCallback((p?: Point) => {\r\n    setIsPressingInfo({\r\n      pressing: true,\r\n      point: p || null,\r\n    });\r\n  }, []);\r\n\r\n  const hideRipple = useCallback(() => {\r\n    setIsPressingInfo({\r\n      pressing: false,\r\n      point: null,\r\n    });\r\n  }, []);\r\n\r\n  const isMousePressed = useRef(false);\r\n\r\n  const eventHandlers = {\r\n    onKeyDown: useCallback(\r\n      (e) => {\r\n        switch (e.nativeEvent.code) {\r\n          case \"Enter\":\r\n          case \"Space\":\r\n            showRipple();\r\n            break;\r\n          default:\r\n            break;\r\n        }\r\n      },\r\n      [showRipple]\r\n    ),\r\n\r\n    onKeyUp: useCallback(\r\n      (e) => {\r\n        switch (e.nativeEvent.code) {\r\n          case \"Enter\":\r\n          case \"Space\":\r\n            hideRipple();\r\n            break;\r\n          default:\r\n            break;\r\n        }\r\n      },\r\n      [hideRipple]\r\n    ),\r\n\r\n    onMouseDown: useCallback(\r\n      (e) => {\r\n        isMousePressed.current = true;\r\n        setFocusInfo((f) => ({ ...f, source: \"mouse\" }));\r\n        showRipple({\r\n          x: e.nativeEvent.offsetX,\r\n          y: e.nativeEvent.offsetY,\r\n        });\r\n      },\r\n      [showRipple]\r\n    ),\r\n\r\n    onMouseUp: useCallback(() => {\r\n      isMousePressed.current = false;\r\n      hideRipple();\r\n    }, [hideRipple]),\r\n\r\n    onMouseLeave: useCallback(() => {\r\n      isMousePressed.current = false;\r\n      hideRipple();\r\n    }, [hideRipple]),\r\n\r\n    onBlur: useCallback(() => {\r\n      hideRipple();\r\n      setFocusInfo({\r\n        focused: false,\r\n        source: null,\r\n      });\r\n    }, [hideRipple]),\r\n\r\n    onFocus: useCallback((e) => {\r\n      setFocusInfo({\r\n        focused: true,\r\n        source: isMousePressed.current ? \"mouse\" : \"keyboard\",\r\n      });\r\n    }, []),\r\n\r\n    onTouchStart: useCallback(\r\n      (e: TouchEvent<HTMLButtonElement>) => {\r\n        const target = e.target as HTMLButtonElement;\r\n        const rect = target.getBoundingClientRect();\r\n        if (e.targetTouches[0]) {\r\n          const x = e.targetTouches[0].pageX - rect.left;\r\n          const y = e.targetTouches[0].pageY - rect.top;\r\n          isMousePressed.current = true;\r\n          setFocusInfo((f) => ({ ...f, source: \"mouse\" }));\r\n          showRipple({\r\n            x,\r\n            y,\r\n          });\r\n        }\r\n      },\r\n      [showRipple]\r\n    ),\r\n\r\n    onTouchEnd: useCallback(() => {\r\n      isMousePressed.current = false;\r\n      hideRipple();\r\n    }, [hideRipple]),\r\n  };\r\n\r\n  const isRippleDisplayed =\r\n    pressingInfo.pressing ||\r\n    (focusInfo.focused && focusInfo.source === \"keyboard\");\r\n\r\n  return {\r\n    isRippleDisplayed,\r\n    pressingInfo,\r\n    rippleRelatedHandlers: eventHandlers,\r\n    setFocusInfo,\r\n  };\r\n}\r\n\r\nexport default useRipple;\r\n","import { useCallback } from \"react\";\r\n\r\nfunction useMergeHandlers<T extends Function>(...handlers: (T | undefined)[]) {\r\n  return useCallback(function () {\r\n    for (const handler of handlers) {\r\n      handler?.(...arguments);\r\n    }\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, handlers);\r\n}\r\n\r\nexport default useMergeHandlers;\r\n","import {\r\n  DependencyList,\r\n  MutableRefObject,\r\n  Ref,\r\n  useImperativeHandle,\r\n} from \"react\";\r\n\r\nfunction useImperativeHandleProxy<T, T1, R extends object & Partial<T>>(\r\n  ref: Ref<T> | undefined,\r\n  wrappedRef: MutableRefObject<T1>,\r\n  init: () => R,\r\n  deps?: DependencyList\r\n): void {\r\n  useImperativeHandle(\r\n    ref,\r\n    () => {\r\n      return (new Proxy<R>(init(), {\r\n        get(target, prop) {\r\n          if (target?.hasOwnProperty(prop)) {\r\n            return (target as any)[prop];\r\n          }\r\n\r\n          const wrapped = wrappedRef.current as any;\r\n          if (typeof wrapped?.[prop] === \"function\") {\r\n            return function () {\r\n              return (wrappedRef.current as any)[prop](...arguments);\r\n            };\r\n          }\r\n\r\n          return wrapped?.[prop];\r\n        },\r\n      }) as unknown) as T;\r\n    },\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n    deps\r\n  );\r\n}\r\n\r\nexport default useImperativeHandleProxy;\r\n","import React, { useRef } from \"react\";\r\nimport bem from \"../../../helpers/bem\";\r\nimport { TabElementWithCustomFocus, Tab } from \"../types\";\r\nimport Ripple from \"../Ripple/Ripple\";\r\nimport useRipple from \"./hooks/useRipple\";\r\nimport useMergeHandlers from \"./hooks/useMergeHandlers\";\r\nimport useImperativeHandleProxy from \"../hooks/useImperativeHandleProxy\";\r\n\r\nconst bemTab = bem(\"tab\");\r\n\r\nexport type TabProps = Omit<React.ComponentPropsWithRef<\"button\">, \"title\"> & {\r\n  title: Tab[\"title\"];\r\n  active: boolean;\r\n  id: Tab[\"key\"];\r\n};\r\n\r\nconst TabComponent = React.forwardRef<TabElementWithCustomFocus, TabProps>(\r\n  function TabComponent({ title, active, id, ...props }, ref) {\r\n    const {\r\n      isRippleDisplayed,\r\n      rippleRelatedHandlers,\r\n      pressingInfo,\r\n      setFocusInfo,\r\n    } = useRipple();\r\n\r\n    const innerRef = useRef<HTMLButtonElement | null>();\r\n\r\n    useImperativeHandleProxy(\r\n      ref,\r\n      innerRef,\r\n      () => ({\r\n        focus: (options) => {\r\n          innerRef.current?.focus();\r\n\r\n          if (options?.hideRipple) {\r\n            setFocusInfo((prev) => ({\r\n              ...prev,\r\n              focused: false,\r\n            }));\r\n          }\r\n        },\r\n      }),\r\n      [setFocusInfo]\r\n    );\r\n\r\n    return (\r\n      <button\r\n        ref={(el) => {\r\n          innerRef.current = el;\r\n\r\n          if (ref) {\r\n            if (typeof ref === \"function\") {\r\n              ref(el);\r\n            } else {\r\n              ref.current = el;\r\n            }\r\n          }\r\n        }}\r\n        className={bemTab({ active: active })}\r\n        role=\"tab\"\r\n        aria-selected={active}\r\n        id={id}\r\n        {...props}\r\n        onFocus={useMergeHandlers(rippleRelatedHandlers.onFocus, props.onFocus)}\r\n        onBlur={useMergeHandlers(rippleRelatedHandlers.onBlur, props.onBlur)}\r\n        onMouseDown={useMergeHandlers(\r\n          rippleRelatedHandlers.onMouseDown,\r\n          props.onMouseDown\r\n        )}\r\n        onMouseUp={useMergeHandlers(\r\n          rippleRelatedHandlers.onMouseUp,\r\n          props.onMouseUp\r\n        )}\r\n        onTouchStart={useMergeHandlers(\r\n          rippleRelatedHandlers.onTouchStart,\r\n          props.onTouchStart\r\n        )}\r\n        onTouchEnd={useMergeHandlers(\r\n          rippleRelatedHandlers.onTouchEnd,\r\n          props.onTouchEnd\r\n        )}\r\n        onKeyDown={useMergeHandlers(\r\n          rippleRelatedHandlers.onKeyDown,\r\n          props.onKeyDown\r\n        )}\r\n        onKeyUp={useMergeHandlers(rippleRelatedHandlers.onKeyUp, props.onKeyUp)}\r\n      >\r\n        <Ripple\r\n          visible={isRippleDisplayed}\r\n          point={pressingInfo.point}\r\n          mode={pressingInfo.pressing ? \"pressing\" : \"focused\"}\r\n        />\r\n        <span className={bemTab(\"title\")}>{title}</span>\r\n      </button>\r\n    );\r\n  }\r\n);\r\n\r\nexport default TabComponent;\r\n","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M0 0h24v24H0V0z\",\n  fill: \"none\"\n});\n\nvar _ref3 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41z\"\n});\n\nfunction SvgClose24Dp(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, [\"title\", \"titleId\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    height: \"24px\",\n    viewBox: \"0 0 24 24\",\n    width: \"24px\",\n    fill: \"currentColor\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _ref2, _ref3);\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgClose24Dp);\nexport default __webpack_public_path__ + \"static/media/close_24dp.60bd688e.svg\";\nexport { ForwardRef as ReactComponent };","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"g\", {\n  fill: \"none\"\n}, /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M0 0h24v24H0V0z\"\n}), /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M0 0h24v24H0V0z\",\n  opacity: 0.87\n}));\n\nvar _ref3 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M18 8h-1V6c0-2.76-2.24-5-5-5S7 3.24 7 6v2H6c-1.1 0-2 .9-2 2v10c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V10c0-1.1-.9-2-2-2zM9 6c0-1.66 1.34-3 3-3s3 1.34 3 3v2H9V6zm9 14H6V10h12v10zm-6-3c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2z\"\n});\n\nfunction SvgLock24Dp(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, [\"title\", \"titleId\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    height: \"24px\",\n    viewBox: \"0 0 24 24\",\n    width: \"24px\",\n    fill: \"currentColor\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _ref2, _ref3);\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgLock24Dp);\nexport default __webpack_public_path__ + \"static/media/lock_24dp.03e3f8a0.svg\";\nexport { ForwardRef as ReactComponent };","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M0 0h24v24H0V0z\",\n  fill: \"none\"\n});\n\nvar _ref3 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M22 9.24l-7.19-.62L12 2 9.19 8.63 2 9.24l5.46 4.73L5.82 21 12 17.27 18.18 21l-1.63-7.03L22 9.24zM12 15.4l-3.76 2.27 1-4.28-3.32-2.88 4.38-.38L12 6.1l1.71 4.04 4.38.38-3.32 2.88 1 4.28L12 15.4z\"\n});\n\nfunction SvgStarOutline24Dp(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, [\"title\", \"titleId\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    height: \"24px\",\n    viewBox: \"0 0 24 24\",\n    width: \"24px\",\n    fill: \"currentColor\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _ref2, _ref3);\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgStarOutline24Dp);\nexport default __webpack_public_path__ + \"static/media/star_outline_24dp.e592165f.svg\";\nexport { ForwardRef as ReactComponent };","import { createContext, FocusEvent } from \"react\";\r\nimport { Tab, TabElementWithCustomFocus, TabKey } from \"../../types\";\r\n\r\nexport type DropdownTabContextValue = {\r\n  menuItemRef: (\r\n    el: TabElementWithCustomFocus | null,\r\n    tab: Tab,\r\n    index: number\r\n  ) => void;\r\n  onMenuItemFocus: (tab: Tab, e: FocusEvent<HTMLElement>) => void;\r\n  focusedTabId: TabKey | null | Symbol;\r\n  onActivateMenuItem: (\r\n    key: Required<TabKey>,\r\n    isInitiatedByKeyboard?: boolean\r\n  ) => void;\r\n  onCloseMenuItem: (key: Required<TabKey>, keyboardInitiated?: boolean) => void;\r\n};\r\n\r\nexport const DropdownTabContext = createContext<DropdownTabContextValue>(\r\n  {} as DropdownTabContextValue\r\n);\r\n","import { useContext } from \"react\";\r\nimport { DropdownTabContext } from \"./DropdownTabContext\";\r\n\r\nfunction useDropdownTabContext() {\r\n  return useContext(DropdownTabContext);\r\n}\r\n\r\nexport default useDropdownTabContext;\r\n","import { Tab } from \"../types\";\r\n\r\nfunction generateTabId(tab: Tab) {\r\n  return `tab-${tab.key}`;\r\n}\r\n\r\nexport default generateTabId;\r\n","import React, { FocusEventHandler, useCallback, useMemo, useRef } from \"react\";\r\nimport bem from \"../../../helpers/bem\";\r\nimport {\r\n  DropdownTab,\r\n  Section,\r\n  Tab,\r\n  TabElementWithCustomFocus,\r\n  TabKey,\r\n} from \"../types\";\r\nimport { ReactComponent as CloseIcon } from \"../../../assets/close_24dp.svg\";\r\nimport { ReactComponent as LockIcon } from \"../../../assets/lock_24dp.svg\";\r\nimport { ReactComponent as StarIcon } from \"../../../assets/star_outline_24dp.svg\";\r\nimport useDropdownTabContext from \"../DropdownTab/DropdownTabContext/useDropdownTabContext\";\r\nimport useRipple from \"../Tabs/hooks/useRipple\";\r\nimport Ripple from \"../Ripple/Ripple\";\r\nimport useMergeHandlers from \"../Tabs/hooks/useMergeHandlers\";\r\nimport generateTabId from \"../utils/generateTabId\";\r\nimport useImperativeHandleProxy from \"../hooks/useImperativeHandleProxy\";\r\n\r\nconst bemMenu = bem(\"dropdown-menu\");\r\nconst bemMenuItem = bem(\"dropdown-menu-item\");\r\nconst bemIcon = bem(\"icon\");\r\n\r\nexport type DropdownMenuProps = {\r\n  open: boolean;\r\n  sections: Section[];\r\n  activeKey: TabKey | null;\r\n};\r\n\r\nexport function DropdownMenu({ open, sections, activeKey }: DropdownMenuProps) {\r\n  const { menuItemRef } = useDropdownTabContext();\r\n\r\n  const sectionsJSX = useMemo(() => {\r\n    const [elements] = sections.reduce<[React.ReactNode[], number]>(\r\n      ([elements, menuItemsStartIndex], section, i) => {\r\n        elements.push(\r\n          !!section.tabs?.length && (\r\n            <DropdownMenuSection\r\n              id={`tabs-section-${section.key}`}\r\n              key={section.key}\r\n              tabs={section.tabs}\r\n              title={section.title}\r\n              activeKey={activeKey}\r\n              menuItemRef={(element, tab, index) => {\r\n                menuItemRef(element, tab, menuItemsStartIndex + index);\r\n              }}\r\n            />\r\n          )\r\n        );\r\n\r\n        return [elements, menuItemsStartIndex + section.tabs.length];\r\n      },\r\n      [[], 0]\r\n    );\r\n\r\n    return elements;\r\n  }, [sections, activeKey, menuItemRef]);\r\n\r\n  return (\r\n    <div\r\n      role=\"presentation\"\r\n      aria-hidden={!open}\r\n      className={bemMenu({ closed: !open })}\r\n      onClick={(e) => {\r\n        e.preventDefault();\r\n        e.stopPropagation();\r\n      }}\r\n      onMouseDown={(e) => {\r\n        e.preventDefault();\r\n        e.stopPropagation();\r\n      }}\r\n      onKeyDown={(e) => {\r\n        switch (e.nativeEvent.code) {\r\n          case \"Enter\":\r\n          case \"Space\":\r\n            e.stopPropagation();\r\n        }\r\n      }}\r\n    >\r\n      {sectionsJSX}\r\n    </div>\r\n  );\r\n}\r\n\r\nexport type DropdownMenuSectionProps = {\r\n  title: Section[\"title\"];\r\n  id: string;\r\n  tabs: DropdownTab[];\r\n  activeKey: TabKey | null;\r\n  menuItemRef: (\r\n    element: TabElementWithCustomFocus,\r\n    tab: Tab,\r\n    index: number\r\n  ) => void;\r\n};\r\n\r\nfunction DropdownMenuSection({\r\n  id,\r\n  title,\r\n  tabs,\r\n  activeKey,\r\n  menuItemRef,\r\n}: DropdownMenuSectionProps) {\r\n  return (\r\n    <>\r\n      <div className={bemMenu(\"section-title\")}>\r\n        <span className={\"text-truncate\"} id={id}>\r\n          {title}\r\n        </span>\r\n      </div>\r\n      <ul\r\n        role=\"presentation\"\r\n        aria-labelledby={id}\r\n        className={bemMenu(\"section\")}\r\n      >\r\n        {tabs?.map((tab, index) => (\r\n          <DropdownMenuItem\r\n            menuItemRef={(el) => menuItemRef(el!, tab, index)}\r\n            key={tab.key}\r\n            tab={tab}\r\n            active={activeKey === tab.key}\r\n          />\r\n        ))}\r\n      </ul>\r\n    </>\r\n  );\r\n}\r\n\r\nexport type DropdownMenuItemProps = {\r\n  tab: DropdownTab;\r\n  disabled?: boolean;\r\n  active: boolean;\r\n  menuItemRef: (el: TabElementWithCustomFocus) => void;\r\n};\r\n\r\nfunction DropdownMenuItem({\r\n  tab,\r\n  active,\r\n  disabled,\r\n  menuItemRef,\r\n}: DropdownMenuItemProps) {\r\n  const {\r\n    onActivateMenuItem,\r\n    onMenuItemFocus,\r\n    focusedTabId,\r\n    onCloseMenuItem,\r\n  } = useDropdownTabContext();\r\n\r\n  const { locked, starred, title } = tab;\r\n\r\n  const {\r\n    isRippleDisplayed,\r\n    rippleRelatedHandlers,\r\n    pressingInfo,\r\n    setFocusInfo,\r\n  } = useRipple();\r\n\r\n  const onFocusCallback: FocusEventHandler<HTMLButtonElement> = useCallback(\r\n    (e) => {\r\n      onMenuItemFocus(tab, e);\r\n    },\r\n    [onMenuItemFocus, tab]\r\n  );\r\n\r\n  const onFocus = useMergeHandlers(\r\n    onFocusCallback,\r\n    rippleRelatedHandlers.onFocus\r\n  );\r\n\r\n  const tabIndex = tab.key === focusedTabId ? 0 : -1;\r\n\r\n  const buttonRef = useRef<HTMLButtonElement>(null);\r\n\r\n  useImperativeHandleProxy(\r\n    menuItemRef,\r\n    buttonRef,\r\n    () => ({\r\n      focus: (options) => {\r\n        buttonRef.current?.focus();\r\n\r\n        if (options?.hideRipple) {\r\n          setFocusInfo((prev) => ({\r\n            ...prev,\r\n            focused: false,\r\n          }));\r\n        }\r\n      },\r\n    }),\r\n    [setFocusInfo]\r\n  );\r\n\r\n  return (\r\n    <li role=\"presentation\" style={{ position: \"relative\" }}>\r\n      <button\r\n        role=\"tab\"\r\n        aria-selected={active}\r\n        id={generateTabId(tab)}\r\n        ref={buttonRef}\r\n        className={bemMenuItem(\"tab\", {\r\n          active: active,\r\n          locked: locked,\r\n          disabled: disabled,\r\n        })}\r\n        tabIndex={tabIndex}\r\n        disabled={disabled}\r\n        onClick={(e) => {\r\n          onActivateMenuItem(tab.key, e.detail === 0);\r\n        }}\r\n        {...rippleRelatedHandlers}\r\n        onFocus={onFocus}\r\n      >\r\n        <Ripple\r\n          visible={isRippleDisplayed}\r\n          point={pressingInfo.point}\r\n          mode={pressingInfo.pressing ? \"pressing\" : \"focused\"}\r\n        />\r\n\r\n        {starred && (\r\n          <StarIcon\r\n            className={bemIcon({ small: true }, [bemMenuItem(\"star-icon\")])}\r\n          />\r\n        )}\r\n\r\n        {locked && (\r\n          <LockIcon\r\n            className={bemIcon({ small: true }, [bemMenuItem(\"lock-icon\")])}\r\n          />\r\n        )}\r\n\r\n        <span className={bemMenuItem(\"title\", [\"text-truncate\"])}>{title}</span>\r\n      </button>\r\n      {!locked && (\r\n        <div className={bemMenuItem(\"close-button-wrapper\")}>\r\n          <button\r\n            aria-label={`close ${tab.title} tab`}\r\n            className={bemMenuItem(\"close-button\")}\r\n            tabIndex={tabIndex}\r\n            onFocus={(e) => e.stopPropagation()}\r\n            onClick={(e) => {\r\n              e.stopPropagation();\r\n\r\n              onCloseMenuItem(tab.key, e.detail === 0);\r\n            }}\r\n          >\r\n            <CloseIcon className={bemIcon({ small: true })} />\r\n          </button>\r\n        </div>\r\n      )}\r\n    </li>\r\n  );\r\n}\r\n\r\nexport default DropdownMenu;\r\n","import { DropdownTab, Section, TabKey } from \"../types\";\r\n\r\nfunction getTabInfoByKey(key: TabKey | null | undefined, sections: Section[]) {\r\n  let target: DropdownTab | null = null;\r\n  let section: Section | null = null;\r\n\r\n  for (let i = 0; !target && i < sections?.length; i++) {\r\n    target = sections[i].tabs?.find((t) => t.key === key) ?? null;\r\n    section = target ? sections[i] : null;\r\n  }\r\n\r\n  return { tab: target, section: section };\r\n}\r\n\r\nexport default getTabInfoByKey;\r\n","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M0 0h24v24H0V0z\",\n  fill: \"none\"\n});\n\nvar _ref3 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M7 10l5 5 5-5H7z\"\n});\n\nfunction SvgArrowDropDown24Dp(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, [\"title\", \"titleId\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    height: \"24px\",\n    viewBox: \"0 0 24 24\",\n    width: \"24px\",\n    fill: \"currentColor\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _ref2, _ref3);\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgArrowDropDown24Dp);\nexport default __webpack_public_path__ + \"static/media/arrow_drop_down_24dp.25d163c7.svg\";\nexport { ForwardRef as ReactComponent };","import { PropsWithChildren, useMemo } from \"react\";\r\nimport {\r\n  DropdownTabContext,\r\n  DropdownTabContextValue,\r\n} from \"./DropdownTabContext\";\r\n\r\nexport function DropdownTabContextProvider({\r\n  children,\r\n  ...props\r\n}: PropsWithChildren<DropdownTabContextValue>) {\r\n  return (\r\n    <DropdownTabContext.Provider\r\n      value={useMemo<DropdownTabContextValue>(() => {\r\n        return props;\r\n        // eslint-disable-next-line react-hooks/exhaustive-deps\r\n      }, Object.values(props))}\r\n      children={children}\r\n    />\r\n  );\r\n}\r\n","import React, {\r\n  FocusEvent,\r\n  useCallback,\r\n  useEffect,\r\n  useLayoutEffect,\r\n  useRef,\r\n  useState,\r\n} from \"react\";\r\nimport DropdownMenu from \"../DropdownTabMenu/DropdownTabMenu\";\r\nimport bem from \"../../../helpers/bem\";\r\nimport {\r\n  DropdownTab,\r\n  Section,\r\n  TabElementWithCustomFocus,\r\n  TabKey,\r\n} from \"../types\";\r\nimport getDropdownTabByKey from \"../utils/getDropdownTabByKey\";\r\nimport { ReactComponent as DropdownIcon } from \"../../../assets/arrow_drop_down_24dp.svg\";\r\nimport Ripple from \"../Ripple/Ripple\";\r\nimport useRipple from \"../Tabs/hooks/useRipple\";\r\nimport useMergeHandlers from \"../Tabs/hooks/useMergeHandlers\";\r\nimport useDropdownTabContext from \"./DropdownTabContext/useDropdownTabContext\";\r\nimport { DropdownTabContextValue } from \"./DropdownTabContext/DropdownTabContext\";\r\nimport { DropdownTabContextProvider } from \"./DropdownTabContext/DropdownTabContextProvider\";\r\nimport useImperativeHandleProxy from \"../hooks/useImperativeHandleProxy\";\r\n\r\nconst bemTabContainer = bem(\"dropdown-tab-container\");\r\nconst bemDropdownTab = bem(\"dropdown-tab\");\r\nconst bemTab = bem(\"tab\");\r\n\r\nexport type DropdownTabProps = Omit<\r\n  React.ComponentPropsWithRef<\"button\">,\r\n  \"onChange\"\r\n> & {\r\n  onChange: (key: TabKey) => void;\r\n  sections: Section[];\r\n  activeKey: TabKey | null;\r\n  defaultKey?: TabKey;\r\n  placeholder?: React.ReactNode;\r\n  onWidthChange: (width: number) => void;\r\n  isMenuOpen: boolean;\r\n  setIsMenuOpen: React.Dispatch<React.SetStateAction<boolean>>;\r\n  containerRef: (el: HTMLDivElement) => void;\r\n  onContainerBlur: (e: FocusEvent<HTMLDivElement>, ignore?: boolean) => void;\r\n};\r\n\r\nconst DropdownTabComponent = React.forwardRef<\r\n  TabElementWithCustomFocus,\r\n  DropdownTabProps\r\n>(function DropdownTabComponent(\r\n  {\r\n    isMenuOpen,\r\n    setIsMenuOpen,\r\n    onWidthChange,\r\n    onChange,\r\n    sections,\r\n    activeKey,\r\n    defaultKey,\r\n    placeholder = \"ACTIVE TABS\",\r\n    containerRef,\r\n    onContainerBlur,\r\n    ...props\r\n  },\r\n  ref\r\n) {\r\n  const [activeTabInfo, setActiveTabInfo] = useState(() => {\r\n    return getDropdownTabByKey(\r\n      activeKey !== null ? activeKey : defaultKey,\r\n      sections\r\n    );\r\n  });\r\n\r\n  useEffect(() => {\r\n    setActiveTabInfo((tabInfo) => {\r\n      let newInfo = getDropdownTabByKey(activeKey, sections);\r\n\r\n      if (!newInfo.tab) {\r\n        newInfo = getDropdownTabByKey(tabInfo.tab?.key, sections);\r\n      }\r\n\r\n      if (newInfo.tab !== tabInfo.tab || newInfo.section !== tabInfo.section) {\r\n        return newInfo;\r\n      }\r\n\r\n      return tabInfo;\r\n    });\r\n  }, [sections, activeKey]);\r\n\r\n  const isMenuItemActive = activeTabInfo.tab?.key === activeKey;\r\n\r\n  useEffect(() => {\r\n    if (!isMenuItemActive) {\r\n      setIsMenuOpen(false);\r\n    }\r\n  }, [isMenuItemActive, setIsMenuOpen]);\r\n\r\n  const prevTabWidth = useRef<number | null>(null);\r\n  const innerTabRef = useRef<HTMLButtonElement>(null!);\r\n\r\n  useLayoutEffect(() => {\r\n    const width = innerTabRef.current.clientWidth ?? 0;\r\n    if (prevTabWidth.current !== width) {\r\n      prevTabWidth.current = width;\r\n      onWidthChange?.(width);\r\n    }\r\n  });\r\n\r\n  const title = activeTabInfo.tab?.title;\r\n  const sectionTitle = activeTabInfo.section?.title;\r\n  const starred = activeTabInfo.tab?.starred;\r\n  const locked = activeTabInfo.tab?.locked;\r\n\r\n  const onClickProp = props.onClick;\r\n  const onClick = useCallback(\r\n    (e: React.MouseEvent<HTMLButtonElement, MouseEvent>) => {\r\n      setIsMenuOpen((open) => {\r\n        if (open) {\r\n          return false;\r\n        }\r\n\r\n        if (isMenuItemActive) {\r\n          return !open;\r\n        }\r\n\r\n        return !activeTabInfo.tab;\r\n      });\r\n\r\n      if (activeTabInfo.tab) {\r\n        onChange(activeTabInfo.tab.key);\r\n      }\r\n\r\n      onClickProp?.(e);\r\n    },\r\n    [setIsMenuOpen, activeTabInfo.tab, isMenuItemActive, onChange, onClickProp]\r\n  );\r\n\r\n  const {\r\n    isRippleDisplayed,\r\n    rippleRelatedHandlers,\r\n    pressingInfo,\r\n    setFocusInfo,\r\n  } = useRipple();\r\n\r\n  const { onActivateMenuItem, ...restContextValues } = useDropdownTabContext();\r\n  const onActivateMenuItemWrapped = useCallback<\r\n    DropdownTabContextValue[\"onActivateMenuItem\"]\r\n  >(\r\n    (tabKey, isInitiatedByKeyboard) => {\r\n      onActivateMenuItem(tabKey, isInitiatedByKeyboard);\r\n\r\n      // if menu item is activated via click then hide ripple\r\n      if (!isInitiatedByKeyboard) {\r\n        setFocusInfo((fi) => ({\r\n          ...fi,\r\n          focused: false,\r\n        }));\r\n      }\r\n    },\r\n    [onActivateMenuItem, setFocusInfo]\r\n  );\r\n\r\n  const contextValueOverridden: DropdownTabContextValue = {\r\n    ...restContextValues,\r\n    onActivateMenuItem: onActivateMenuItemWrapped,\r\n  };\r\n\r\n  useImperativeHandleProxy(\r\n    ref,\r\n    innerTabRef,\r\n    () => ({\r\n      focus: (options) => {\r\n        innerTabRef.current?.focus();\r\n\r\n        if (options?.hideRipple) {\r\n          setFocusInfo((prev) => ({\r\n            ...prev,\r\n            focused: false,\r\n          }));\r\n        }\r\n      },\r\n    }),\r\n    [setFocusInfo]\r\n  );\r\n\r\n  return (\r\n    <div\r\n      role=\"presentation\"\r\n      ref={containerRef}\r\n      className={bemTabContainer()}\r\n      onBlur={onContainerBlur}\r\n    >\r\n      <button\r\n        className={bemTab({ active: isMenuItemActive, dropdown: true })}\r\n        ref={(el) => {\r\n          innerTabRef.current = el as HTMLButtonElement;\r\n\r\n          if (ref) {\r\n            if (typeof ref === \"function\") {\r\n              ref(el);\r\n            } else {\r\n              ref.current = el;\r\n            }\r\n          }\r\n        }}\r\n        aria-haspopup={true}\r\n        {...props}\r\n        onTouchStart={useMergeHandlers(\r\n          rippleRelatedHandlers.onTouchStart,\r\n          props.onTouchStart\r\n        )}\r\n        onTouchEnd={useMergeHandlers(\r\n          rippleRelatedHandlers.onTouchEnd,\r\n          props.onTouchEnd\r\n        )}\r\n        onMouseDown={useMergeHandlers(\r\n          rippleRelatedHandlers.onMouseDown,\r\n          props.onMouseDown\r\n        )}\r\n        onMouseUp={useMergeHandlers(\r\n          rippleRelatedHandlers.onMouseUp,\r\n          props.onMouseUp\r\n        )}\r\n        onKeyDown={useMergeHandlers(\r\n          rippleRelatedHandlers.onKeyDown,\r\n          props.onKeyDown\r\n        )}\r\n        onKeyUp={useMergeHandlers(rippleRelatedHandlers.onKeyUp, props.onKeyUp)}\r\n        onFocus={useMergeHandlers(rippleRelatedHandlers.onFocus, props.onFocus)}\r\n        onBlur={useMergeHandlers(rippleRelatedHandlers.onBlur, props.onBlur)}\r\n        onClick={onClick}\r\n      >\r\n        <Ripple\r\n          visible={isRippleDisplayed}\r\n          point={pressingInfo.point}\r\n          mode={pressingInfo.pressing ? \"pressing\" : \"focused\"}\r\n        />\r\n\r\n        {activeTabInfo.tab && (\r\n          <SelectedTabInfo\r\n            isOpen={isMenuOpen}\r\n            sectionTitle={sectionTitle}\r\n            title={title}\r\n            starred={starred}\r\n            locked={locked}\r\n          />\r\n        )}\r\n\r\n        {!activeTabInfo.tab && placeholder}\r\n      </button>\r\n      <DropdownTabContextProvider {...contextValueOverridden}>\r\n        <DropdownMenu\r\n          open={isMenuOpen}\r\n          sections={sections}\r\n          activeKey={activeKey}\r\n        />\r\n      </DropdownTabContextProvider>\r\n    </div>\r\n  );\r\n});\r\n\r\ntype SelectedTabInfoProps = {\r\n  isOpen: boolean;\r\n  sectionTitle: Section[\"title\"];\r\n  title: DropdownTab[\"title\"];\r\n  starred: DropdownTab[\"starred\"];\r\n  locked: DropdownTab[\"locked\"];\r\n};\r\n\r\nfunction SelectedTabInfo({\r\n  isOpen,\r\n  sectionTitle,\r\n  title,\r\n  starred,\r\n  locked,\r\n}: SelectedTabInfoProps) {\r\n  return (\r\n    <div className={bemDropdownTab()}>\r\n      <span className={bemDropdownTab(\"section-title\", [\"text-truncate\"])}>\r\n        {sectionTitle}\r\n      </span>\r\n      <span className={bemDropdownTab(\"title\", [\"text-truncate\"])}>\r\n        {title}\r\n      </span>\r\n      {starred && (\r\n        <span className={bemDropdownTab(\"indicator\", { star: true })} />\r\n      )}\r\n      {locked && (\r\n        <span className={bemDropdownTab(\"indicator\", { lock: true })} />\r\n      )}\r\n      <DropdownIcon\r\n        className={bemDropdownTab(\"dropdown-icon\", { open: isOpen })}\r\n      />\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default DropdownTabComponent;\r\n","import React from \"react\";\r\n\r\nexport type SliderProps = {\r\n  left: number;\r\n  width: number;\r\n};\r\n\r\nfunction Slider({ left, width }: SliderProps) {\r\n  return <div className=\"tabs-slider\" style={{ left, width }} />;\r\n}\r\n\r\nexport default Slider;\r\n","import getDropdownTabByKey from \"../../utils/getDropdownTabByKey\";\r\nimport { Section, Tab, TabKey, TabsRef } from \"../../types\";\r\nimport {\r\n  useCallback,\r\n  useLayoutEffect,\r\n  useState,\r\n  MutableRefObject,\r\n} from \"react\";\r\n\r\nexport type SliderRenderingInfo = {\r\n  tabsElements: Record<Tab[\"key\"], HTMLButtonElement | null>;\r\n  dropdownTabElement: HTMLButtonElement | null;\r\n};\r\n\r\nexport type SlideDisplayInfo = {\r\n  isDisplayed: boolean;\r\n  width: number;\r\n  left: number;\r\n};\r\n\r\nconst defaultDiplayInfo: SlideDisplayInfo = {\r\n  isDisplayed: false,\r\n  width: 0,\r\n  left: 0,\r\n};\r\n\r\nfunction useSlider(\r\n  activeTabKey: TabKey | null,\r\n  sections: Section[],\r\n  tabsRef: MutableRefObject<TabsRef>\r\n) {\r\n  const [displayInfo, setDisplayInfo] = useState<SlideDisplayInfo>({\r\n    isDisplayed: false,\r\n    width: 0,\r\n    left: 0,\r\n  });\r\n\r\n  // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  useLayoutEffect(() => {\r\n    if (activeTabKey == null) {\r\n      setDisplayInfo((d) =>\r\n        isEqual(d, defaultDiplayInfo) ? d : defaultDiplayInfo\r\n      );\r\n      return;\r\n    }\r\n\r\n    let targetElement: HTMLElement | null =\r\n      Object.values(tabsRef.current.tabs).find(\r\n        (t) => t.tab.key === activeTabKey\r\n      )?.element ?? null;\r\n\r\n    if (!targetElement) {\r\n      const isDropdownTab = !!getDropdownTabByKey(activeTabKey, sections)?.tab;\r\n      targetElement = isDropdownTab\r\n        ? (tabsRef.current.dropdownTab.element?.parentNode as HTMLElement)\r\n        : null;\r\n    }\r\n\r\n    const newDisplayInfo: SlideDisplayInfo = {\r\n      isDisplayed: !!targetElement,\r\n      width: targetElement?.getBoundingClientRect().width ?? 0,\r\n      left: targetElement?.offsetLeft ?? 0,\r\n    };\r\n\r\n    setDisplayInfo((d) => (isEqual(d, newDisplayInfo) ? d : newDisplayInfo));\r\n  });\r\n\r\n  const onDropdownTabWidthChange = useCallback(() => {\r\n    const node = tabsRef.current.dropdownTab.element?.parentNode as HTMLElement;\r\n\r\n    setDisplayInfo((prev) => {\r\n      return {\r\n        ...prev,\r\n        width: node?.getBoundingClientRect().width ?? 0,\r\n        left: node?.offsetLeft ?? 0,\r\n      };\r\n    });\r\n  }, [tabsRef]);\r\n\r\n  return {\r\n    sliderDisplayInfo: displayInfo,\r\n    onDropdownTabWidthChange: onDropdownTabWidthChange,\r\n  };\r\n}\r\n\r\nfunction isEqual(obj1: SlideDisplayInfo, obj2: SlideDisplayInfo) {\r\n  return (\r\n    obj1.isDisplayed === obj2.isDisplayed &&\r\n    obj1.left === obj2.left &&\r\n    obj1.width === obj2.width\r\n  );\r\n}\r\nexport default useSlider;\r\n","import React, { useEffect, useState } from \"react\";\r\nimport { Tab, TabKey, TabsRef } from \"../../types\";\r\n\r\nenum KeyCode {\r\n  ArrowLeft = \"ArrowLeft\",\r\n  ArrowRight = \"ArrowRight\",\r\n  ArrowDown = \"ArrowDown\",\r\n  ArrowUp = \"ArrowUp\",\r\n  Escape = \"Escape\",\r\n  Home = \"Home\",\r\n  End = \"End\",\r\n}\r\n\r\ntype Handlers = {\r\n  onTabFocus: (tab: Tab, e?: React.FocusEvent) => void;\r\n  onTabBlur: (e?: React.FocusEvent) => void;\r\n  onDropdownTabFocus: (id: Symbol, e?: React.FocusEvent) => void;\r\n  onItemFocus: (tab: Tab, e: React.FocusEvent) => void;\r\n  onDropdownTabContainerBlur: (e: React.FocusEvent) => void;\r\n};\r\n\r\nfunction nextOrFirst(currentIndex: number, max: number) {\r\n  return currentIndex === max ? 0 : currentIndex + 1;\r\n}\r\n\r\nfunction prevOrLast(currentIndex: number, max: number) {\r\n  return currentIndex === 0 ? max : currentIndex - 1;\r\n}\r\n\r\nfunction useKeyboardNavigation({\r\n  tabsRef,\r\n  isMenuOpen,\r\n  setIsMenuOpen,\r\n}: {\r\n  tabsRef: React.MutableRefObject<TabsRef>;\r\n  isMenuOpen: boolean;\r\n  setIsMenuOpen: React.Dispatch<React.SetStateAction<boolean>>;\r\n}) {\r\n  const [focusedTabId, setFocusedTabId] = useState<TabKey | null | Symbol>(\r\n    null\r\n  );\r\n\r\n  const handlers: Handlers = {\r\n    onTabFocus: (tab) => {\r\n      setFocusedTabId(tab.key);\r\n    },\r\n    onTabBlur: () => {\r\n      setFocusedTabId(null);\r\n    },\r\n    onDropdownTabContainerBlur: (e) => {\r\n      setIsMenuOpen(\r\n        !!tabsRef.current.dropdownTab.container?.contains(\r\n          e.relatedTarget as Node\r\n        )\r\n      );\r\n    },\r\n    onDropdownTabFocus: (id) => {\r\n      setFocusedTabId(id);\r\n    },\r\n    onItemFocus: (tab, e) => {\r\n      e?.stopPropagation();\r\n      setFocusedTabId(tab.key);\r\n    },\r\n  };\r\n\r\n  useEffect(() => {\r\n    const onKeydown = (e: KeyboardEvent) => {\r\n      const tabsContainer = tabsRef.current.container;\r\n\r\n      if (!tabsContainer?.contains(e.target as Node)) {\r\n        return;\r\n      }\r\n\r\n      const tabKeys = Object.keys(tabsRef.current?.tabs ?? {}).sort();\r\n      const focusedTabIndex = tabKeys.findIndex(\r\n        (key) => tabsRef.current?.tabs[+key].tab.key === focusedTabId\r\n      );\r\n      const maxTabIndex = tabKeys.length - 1;\r\n\r\n      if (focusedTabIndex !== -1) {\r\n        handleKeyDownOnTab(\r\n          e.code as KeyCode,\r\n          focusedTabIndex,\r\n          maxTabIndex,\r\n          tabsRef.current\r\n        );\r\n        return;\r\n      }\r\n\r\n      const isDropdownTabFocused =\r\n        focusedTabId === tabsRef.current.dropdownTab.id;\r\n\r\n      if (isDropdownTabFocused) {\r\n        handleDropdownTabKeydown(\r\n          e.code as KeyCode,\r\n          maxTabIndex,\r\n          tabsRef.current,\r\n          {\r\n            isMenuOpen: isMenuOpen,\r\n            openMenu: () => setIsMenuOpen(true),\r\n            closeMenu: () => setIsMenuOpen(false),\r\n          }\r\n        );\r\n        return;\r\n      }\r\n\r\n      const menuItemsKeys = Object.keys(\r\n        tabsRef.current?.dropdownItems ?? {}\r\n      ).sort();\r\n\r\n      const focusedMenuItemIndex = menuItemsKeys.findIndex(\r\n        (key) => tabsRef.current?.dropdownItems[+key].tab.key === focusedTabId\r\n      );\r\n\r\n      const isMenuItemFocused = focusedMenuItemIndex !== -1;\r\n\r\n      if (isMenuItemFocused) {\r\n        handleDropdownMenuItemKeyDown(\r\n          e.code as KeyCode,\r\n          focusedMenuItemIndex,\r\n          maxTabIndex,\r\n          tabsRef.current,\r\n          () => setIsMenuOpen(false)\r\n        );\r\n        return;\r\n      }\r\n    };\r\n\r\n    window.addEventListener(\"keydown\", onKeydown);\r\n\r\n    return () => {\r\n      window.removeEventListener(\"keydown\", onKeydown);\r\n    };\r\n  }, [focusedTabId, tabsRef, isMenuOpen, setIsMenuOpen]);\r\n\r\n  return {\r\n    focusedTabId,\r\n    handlers,\r\n  };\r\n}\r\n\r\nfunction handleKeyDownOnTab(\r\n  keyCode: KeyCode,\r\n  focusedIndex: number,\r\n  maxTabIndex: number,\r\n  tabsInfo: TabsRef\r\n) {\r\n  const dropdownTabElement = tabsInfo.dropdownTab.element;\r\n\r\n  switch (keyCode) {\r\n    case KeyCode.ArrowLeft:\r\n      if (dropdownTabElement && focusedIndex === 0) {\r\n        dropdownTabElement?.focus();\r\n      } else {\r\n        tabsInfo.tabs[prevOrLast(focusedIndex, maxTabIndex)].element?.focus();\r\n      }\r\n      break;\r\n\r\n    case KeyCode.ArrowRight:\r\n      if (dropdownTabElement && focusedIndex === maxTabIndex) {\r\n        dropdownTabElement.focus();\r\n      } else {\r\n        tabsInfo.tabs[nextOrFirst(focusedIndex, maxTabIndex)].element?.focus();\r\n      }\r\n      break;\r\n\r\n    case KeyCode.Home:\r\n      tabsInfo.tabs[0]?.element?.focus();\r\n      break;\r\n\r\n    case KeyCode.End:\r\n      if (dropdownTabElement) {\r\n        dropdownTabElement?.focus();\r\n      } else {\r\n        tabsInfo.tabs[maxTabIndex]?.element?.focus();\r\n      }\r\n      break;\r\n\r\n    default:\r\n      break;\r\n  }\r\n}\r\n\r\nfunction handleDropdownMenuItemKeyDown(\r\n  keyCode: KeyCode,\r\n  focusedMenuItemIndex: number,\r\n  maxTabIndex: number,\r\n  tabsInfo: TabsRef,\r\n  closeMenu: () => void\r\n) {\r\n  const maxMenuItemIndex = Object.keys(tabsInfo.dropdownItems).length - 1;\r\n  switch (keyCode) {\r\n    case KeyCode.ArrowLeft:\r\n      tabsInfo.tabs[maxTabIndex]?.element?.focus();\r\n      break;\r\n\r\n    case KeyCode.ArrowRight:\r\n      tabsInfo.tabs[0]?.element?.focus();\r\n      break;\r\n\r\n    case KeyCode.ArrowUp:\r\n      {\r\n        const nextIndex = prevOrLast(focusedMenuItemIndex, maxMenuItemIndex);\r\n        tabsInfo.dropdownItems[nextIndex]?.element?.focus();\r\n      }\r\n      break;\r\n\r\n    case KeyCode.ArrowDown:\r\n      {\r\n        const nextIndex = nextOrFirst(focusedMenuItemIndex, maxMenuItemIndex);\r\n        tabsInfo.dropdownItems[nextIndex]?.element?.focus();\r\n      }\r\n      break;\r\n\r\n    case KeyCode.Home:\r\n      tabsInfo.dropdownItems[0]?.element?.focus();\r\n      break;\r\n\r\n    case KeyCode.End:\r\n      tabsInfo.dropdownItems[maxMenuItemIndex]?.element?.focus();\r\n      break;\r\n\r\n    case KeyCode.Escape:\r\n      tabsInfo.dropdownTab.element?.focus();\r\n      closeMenu();\r\n      break;\r\n\r\n    default:\r\n      break;\r\n  }\r\n}\r\n\r\nfunction handleDropdownTabKeydown(\r\n  keyCode: KeyCode,\r\n  maxTabIndex: number,\r\n  tabsInfo: TabsRef,\r\n  {\r\n    isMenuOpen,\r\n    closeMenu,\r\n    openMenu,\r\n  }: {\r\n    isMenuOpen: boolean;\r\n    closeMenu: () => void;\r\n    openMenu: () => void;\r\n  }\r\n) {\r\n  const menuItems = tabsInfo.dropdownItems;\r\n  const maxMenuItemIndex = Object.keys(menuItems).length - 1;\r\n\r\n  switch (keyCode) {\r\n    case KeyCode.ArrowLeft:\r\n      tabsInfo.tabs[maxTabIndex]?.element?.focus();\r\n      break;\r\n\r\n    case KeyCode.ArrowRight:\r\n      tabsInfo.tabs[0]?.element?.focus();\r\n      break;\r\n\r\n    case KeyCode.ArrowUp:\r\n      if (isMenuOpen) {\r\n        menuItems[maxMenuItemIndex].element?.focus();\r\n      } else {\r\n        openMenu();\r\n      }\r\n      break;\r\n\r\n    case KeyCode.ArrowDown:\r\n      if (isMenuOpen) {\r\n        menuItems[0].element?.focus();\r\n      } else {\r\n        openMenu();\r\n      }\r\n      break;\r\n\r\n    case KeyCode.Home:\r\n      tabsInfo.tabs[0].element?.focus();\r\n      break;\r\n\r\n    case KeyCode.Escape:\r\n      closeMenu();\r\n      break;\r\n\r\n    default:\r\n      break;\r\n  }\r\n}\r\n\r\nexport default useKeyboardNavigation;\r\n","import React, { useCallback, useMemo, useRef, useState } from \"react\";\r\nimport TabComponent from \"./TabComponent\";\r\nimport DropdownTabComponent from \"../DropdownTab/DropdownTabComponent\";\r\nimport { Section, Tab, TabKey, TabsRef } from \"../types\";\r\nimport Slider from \"../Slider/Slider\";\r\nimport useSlider from \"./hooks/useSlider\";\r\nimport useKeyboardNavigation from \"./hooks/useKeyboardNavigation\";\r\nimport { DropdownTabContextProvider } from \"../DropdownTab/DropdownTabContext/DropdownTabContextProvider\";\r\nimport generateTabId from \"../utils/generateTabId\";\r\nimport { DropdownTabContextValue } from \"../DropdownTab/DropdownTabContext/DropdownTabContext\";\r\nimport getDropdownTabByKey from \"../utils/getDropdownTabByKey\";\r\n\r\nconst DROPDOWN_TAB_KEY = Symbol();\r\n\r\nexport type TabsProps = {\r\n  tabs: Tab[];\r\n  sections: Section[];\r\n  onChange: (key: TabKey | null) => void;\r\n  onDropdownTabClose: (key: TabKey) => void;\r\n  activeKey?: TabKey | null;\r\n  defaultActiveKey?: TabKey;\r\n};\r\n\r\nfunction TabsComponent({\r\n  tabs,\r\n  sections,\r\n  onChange: onChangeProp,\r\n  onDropdownTabClose,\r\n  activeKey: activeKeyProp,\r\n  defaultActiveKey,\r\n}: TabsProps) {\r\n  const [activeKeyInner, setActiveKeyInner] = useState(() =>\r\n    activeKeyProp !== undefined ? activeKeyProp : defaultActiveKey ?? null\r\n  );\r\n\r\n  const onChange = useCallback(\r\n    (key: TabKey | null) => {\r\n      if (onChangeProp) {\r\n        onChangeProp(key);\r\n      }\r\n\r\n      setActiveKeyInner(key);\r\n    },\r\n    [onChangeProp]\r\n  );\r\n\r\n  const activeTabKey =\r\n    activeKeyProp !== undefined ? activeKeyProp : activeKeyInner;\r\n\r\n  const isDropdownTabDisplayed = useMemo(\r\n    () => sections.some((s) => s.tabs.length),\r\n    [sections]\r\n  );\r\n\r\n  const tabsRef = useRef<TabsRef>({\r\n    tabs: {},\r\n    container: null,\r\n    dropdownTab: {\r\n      id: DROPDOWN_TAB_KEY,\r\n      element: null,\r\n      container: null,\r\n    },\r\n    dropdownItems: {},\r\n  } as TabsRef);\r\n\r\n  const { sliderDisplayInfo, onDropdownTabWidthChange } = useSlider(\r\n    activeTabKey,\r\n    sections,\r\n    tabsRef\r\n  );\r\n\r\n  const [isMenuOpen, setIsMenuOpen] = useState(false);\r\n\r\n  const { focusedTabId, handlers } = useKeyboardNavigation({\r\n    tabsRef,\r\n    isMenuOpen,\r\n    setIsMenuOpen,\r\n  });\r\n\r\n  const onCloseMenuItem = useCallback<\r\n    DropdownTabContextValue[\"onCloseMenuItem\"]\r\n  >(\r\n    (tabKey, initiatedByKeyboard) => {\r\n      onDropdownTabClose(tabKey);\r\n\r\n      const dropdownTabs = Object.entries(tabsRef.current.dropdownItems);\r\n\r\n      const focusTheFirstTabOrContainer = () => {\r\n        if (tabsRef.current.tabs[0]?.element) {\r\n          tabsRef.current.tabs[0].element!.focus();\r\n        } else {\r\n          tabsRef.current.container?.focus();\r\n        }\r\n      };\r\n\r\n      if (tabKey === activeTabKey) {\r\n        if (dropdownTabs.length > 1) {\r\n          tabsRef.current.dropdownTab.element?.focus({\r\n            hideRipple: !initiatedByKeyboard,\r\n          });\r\n        } else {\r\n          focusTheFirstTabOrContainer();\r\n        }\r\n        return;\r\n      }\r\n\r\n      // set focus on prev menuItem if possible\r\n      if (dropdownTabs.length > 1) {\r\n        const index = +dropdownTabs.find(\r\n          ([, tab]) => tab.tab.key === tabKey\r\n        )![0];\r\n\r\n        const newIndex = index === 0 ? 1 : index - 1;\r\n        tabsRef.current.dropdownItems[newIndex].element?.focus({\r\n          hideRipple: !initiatedByKeyboard,\r\n        });\r\n      } else {\r\n        focusTheFirstTabOrContainer();\r\n      }\r\n    },\r\n    [onDropdownTabClose, activeTabKey]\r\n  );\r\n\r\n  const tabIndexesInfo = getTabIndexes(\r\n    focusedTabId,\r\n    activeTabKey,\r\n    tabs,\r\n    sections\r\n  );\r\n\r\n  const menuItemRefCallback = useCallback((el, tab, index) => {\r\n    if (!el) {\r\n      delete tabsRef.current.dropdownItems[index];\r\n      return;\r\n    }\r\n\r\n    tabsRef.current.dropdownItems[index] = {\r\n      tab: tab,\r\n      element: el,\r\n    };\r\n  }, []);\r\n\r\n  const onActivateMenuItem = useCallback(\r\n    (tabKey) => {\r\n      tabsRef.current.dropdownTab.element?.focus();\r\n      setIsMenuOpen(false);\r\n      onChange(tabKey);\r\n    },\r\n    [onChange]\r\n  );\r\n\r\n  if (!tabIndexesInfo.tabKey && !tabIndexesInfo.isDropdownTab) {\r\n    console.error(\r\n      \"You should provide either common or dropdown tabs to the components\"\r\n    );\r\n    return null;\r\n  }\r\n\r\n  return (\r\n    <div\r\n      className=\"tabs\"\r\n      role=\"tablist\"\r\n      ref={(el) => {\r\n        tabsRef.current.container = el;\r\n      }}\r\n    >\r\n      {tabs.map((tab, index) => (\r\n        <TabComponent\r\n          key={tab.key}\r\n          id={generateTabId(tab)}\r\n          ref={(el) => {\r\n            if (!el) {\r\n              delete tabsRef.current.tabs[index];\r\n              return;\r\n            }\r\n\r\n            tabsRef.current.tabs[index] = {\r\n              element: el,\r\n              tab: tab,\r\n            };\r\n          }}\r\n          title={tab.title}\r\n          active={activeTabKey === tab.key}\r\n          tabIndex={tabIndexesInfo.tabKey === tab.key ? 0 : -1}\r\n          onClick={() => onChange(tab.key)}\r\n          onBlur={handlers.onTabBlur}\r\n          onFocus={() => handlers.onTabFocus(tab)}\r\n        />\r\n      ))}\r\n\r\n      <DropdownTabContextProvider\r\n        menuItemRef={menuItemRefCallback}\r\n        onMenuItemFocus={handlers.onItemFocus}\r\n        focusedTabId={focusedTabId}\r\n        onCloseMenuItem={onCloseMenuItem}\r\n        onActivateMenuItem={onActivateMenuItem}\r\n      >\r\n        {isDropdownTabDisplayed && (\r\n          <DropdownTabComponent\r\n            containerRef={(el) => {\r\n              tabsRef.current.dropdownTab.container = el;\r\n            }}\r\n            onContainerBlur={handlers.onDropdownTabContainerBlur}\r\n            ref={(el) => {\r\n              tabsRef.current.dropdownTab.element = el;\r\n            }}\r\n            onFocus={(e) => {\r\n              handlers.onDropdownTabFocus(DROPDOWN_TAB_KEY, e);\r\n            }}\r\n            activeKey={activeTabKey}\r\n            onChange={onChange}\r\n            sections={sections}\r\n            defaultKey={defaultActiveKey}\r\n            onWidthChange={onDropdownTabWidthChange}\r\n            isMenuOpen={isMenuOpen}\r\n            setIsMenuOpen={setIsMenuOpen}\r\n            tabIndex={tabIndexesInfo.isDropdownTab ? 0 : -1}\r\n          />\r\n        )}\r\n      </DropdownTabContextProvider>\r\n\r\n      {sliderDisplayInfo.isDisplayed && (\r\n        <Slider left={sliderDisplayInfo.left} width={sliderDisplayInfo.width} />\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n\r\nfunction getTabIndexes(\r\n  focusedTabId: string | Symbol | null,\r\n  activeTabKey: TabKey | null,\r\n  tabs: Tab[],\r\n  sections: Section[]\r\n): { tabKey?: TabKey | null; isDropdownTab: boolean } {\r\n  let [tab, isDropdownTab] = search(focusedTabId || activeTabKey);\r\n\r\n  if (!tab && !isDropdownTab) {\r\n    if (tabs.length) {\r\n      tab = tabs[0];\r\n    } else {\r\n      isDropdownTab = sections.some((s) => s.tabs.length);\r\n    }\r\n  }\r\n\r\n  return {\r\n    tabKey: tab?.key,\r\n    isDropdownTab,\r\n  };\r\n\r\n  function search(key?: TabKey | Symbol | null) {\r\n    const tab = tabs.find((t) => t.key === focusedTabId);\r\n    let dropdownTab = false;\r\n    if (!tab) {\r\n      dropdownTab = !!(\r\n        focusedTabId === DROPDOWN_TAB_KEY ||\r\n        getDropdownTabByKey(focusedTabId as TabKey, sections).tab\r\n      );\r\n    }\r\n\r\n    return [tab, dropdownTab] as const;\r\n  }\r\n}\r\n\r\nexport default TabsComponent;\r\n","import React from \"react\";\r\nimport useTabsContext from \"./Tabs/hooks/useTabsContext\";\r\nimport Tabs from \"./Tabs/Tabs/Tabs\";\r\n\r\nfunction TabsWithContext() {\r\n  const {\r\n    tabs,\r\n    sections,\r\n    activeKey,\r\n    setActiveKey,\r\n    closeDropdownTab,\r\n  } = useTabsContext();\r\n\r\n  return (\r\n    <Tabs\r\n      activeKey={activeKey}\r\n      tabs={tabs}\r\n      sections={sections}\r\n      onChange={setActiveKey}\r\n      onDropdownTabClose={closeDropdownTab}\r\n    />\r\n  );\r\n}\r\n\r\nexport default TabsWithContext;\r\n","import React, { PropsWithChildren } from \"react\";\r\n\r\nexport type TabContentProps = PropsWithChildren<{\r\n  tag?: keyof JSX.IntrinsicElements;\r\n}>;\r\n\r\nfunction TabContent({ children, tag = \"section\" }: TabContentProps) {\r\n  const TabContentContainer = tag;\r\n\r\n  return <TabContentContainer>{children}</TabContentContainer>;\r\n}\r\n\r\nexport default TabContent;\r\n","import React, { memo } from \"react\";\r\nimport bem from \"../../../helpers/bem\";\r\nimport { DropdownTab, Tab } from \"../types\";\r\nimport TabContent from \"./TabContent/TabContent\";\r\nimport generateTabId from \"../utils/generateTabId\";\r\n\r\nconst bemTabPane = bem(\"tab-pane\");\r\n\r\nexport type TabPaneProps = {\r\n  className?: string;\r\n  active: boolean;\r\n  tab: Tab | DropdownTab;\r\n};\r\n\r\nfunction TabPane({ className, active, tab }: TabPaneProps) {\r\n  return (\r\n    <div\r\n      className={bemTabPane({ active: active, hidden: !active }, [className])}\r\n      role=\"tabpanel\"\r\n      aria-hidden={!active}\r\n      aria-controls={generateTabId(tab)}\r\n    >\r\n      <TabContent>\r\n        {/* TODO: Tab.component and DropdownTab.component props */}\r\n        <p>Content of {tab.title}</p>\r\n      </TabContent>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default memo(TabPane);\r\n","import React, { useMemo, useEffect, useRef } from \"react\";\r\nimport TabPane from \"./TabPane\";\r\nimport useTabsContext from \"../hooks/useTabsContext\";\r\nimport { TabKey } from \"../types\";\r\nimport bem from \"../../../helpers/bem\";\r\n\r\nconst bemContainer = bem(\"tap-panes-container\");\r\n\r\nexport type TabPanesContainerProps = {\r\n  className?: string;\r\n  classNameInner?: string;\r\n};\r\n\r\nfunction TabPanesContainer({\r\n  className,\r\n  classNameInner,\r\n}: TabPanesContainerProps) {\r\n  const { tabs, sections, activeKey } = useTabsContext();\r\n\r\n  const flattenTabs = useMemo(() => {\r\n    let flatten = tabs ? [...tabs] : [];\r\n\r\n    flatten =\r\n      sections?.reduce?.((flatten, s) => {\r\n        if (s.tabs?.length) {\r\n          flatten.push(...s.tabs);\r\n        }\r\n\r\n        return flatten;\r\n      }, flatten) ?? flatten;\r\n\r\n    return flatten;\r\n  }, [tabs, sections]);\r\n\r\n  const prevActiveKey = useRef<TabKey | null>(null);\r\n\r\n  useEffect(() => {\r\n    prevActiveKey.current = activeKey;\r\n  }, [activeKey]);\r\n\r\n  const shift = useMemo(() => {\r\n    return flattenTabs.findIndex((t) => t.key === activeKey);\r\n  }, [flattenTabs, activeKey]);\r\n\r\n  return (\r\n    <div className={bemContainer(null, [className])}>\r\n      <div\r\n        className={bemContainer(\"inner\", null, [classNameInner])}\r\n        style={{ transform: `translateX(-${shift}00%)` }}\r\n      >\r\n        {flattenTabs.map((t) => (\r\n          <TabPane key={t.key} active={activeKey === t.key} tab={t} />\r\n        ))}\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default TabPanesContainer;\r\n","import React, { useContext } from \"react\";\n\nimport { Section } from \"./components/Tabs/types\";\nimport {\n  TabsContext,\n  TabsContextProvider,\n} from \"./components/Tabs/TabsContext/TabsContext\";\nimport TabsWithContext from \"./components/TabsWithContext\";\nimport TabPanesContainer from \"./components/Tabs/TabPane/TabPanesContaner\";\nimport getDropdownTabByKey from \"./components/Tabs/utils/getDropdownTabByKey\";\n\nexport default function App() {\n  const tabs = [\n    {\n      key: \"0\",\n      title: \"OVERVIEW\",\n    },\n  ];\n\n  const sections: Section[] = [\n    {\n      key: \"s0\",\n      title: \"Active\",\n      tabs: [\n        {\n          key: \"dropdownTab0\",\n          title: \"Tab 0\",\n        },\n        {\n          key: \"dropdownTab1\",\n          title: \"Tab 2\",\n          locked: true,\n          starred: true,\n        },\n      ],\n    },\n    {\n      key: \"s1\",\n      title: new Array(4).fill(\"Long Section Title\").join(\" \"),\n      tabs: [\n        {\n          key: \"dropdownTab2\",\n          title: new Array(3).fill(\"Dropdown menu item 2\").join(\" \"),\n          starred: true,\n        },\n        {\n          key: \"dropdownTab3\",\n          title: \"Tab 3\",\n          locked: true,\n        },\n      ],\n    },\n    {\n      key: \"s2\",\n      title: \"Empty Section\",\n      tabs: [],\n    },\n  ];\n\n  return (\n    <TabsContextProvider\n      defaultActiveKey={\"0\"}\n      initialTabs={tabs}\n      initialSections={sections}\n    >\n      <main style={{ padding: 100 }}>\n        <TabsWithContext />\n        <TabPanesContainer />\n        <Buttons />\n      </main>\n    </TabsContextProvider>\n  );\n}\n\nlet newTabsCounter = 10;\nfunction Buttons() {\n  const {\n    activeKey,\n    setActiveKey,\n    toggleStar,\n    toggleLock,\n    sections,\n    closeDropdownTab,\n    addTabs,\n  } = useContext(TabsContext);\n\n  const onToggleStar = () => {\n    if (activeKey) {\n      toggleStar(activeKey);\n    }\n  };\n\n  const onToggleLock = () => {\n    if (activeKey) {\n      toggleLock(activeKey);\n    }\n  };\n\n  const onCloseDropdown = () => {\n    if (activeKey) {\n      closeDropdownTab(activeKey);\n    }\n  };\n\n  const isDropdownTab = !!getDropdownTabByKey(activeKey, sections)?.tab;\n\n  const onAdd = () => {\n    const key = `dropdownTab${newTabsCounter++}`;\n    addTabs({\n      dropdownTabs: {\n        s0: [\n          {\n            key: key,\n            title: \"New Tab\",\n          },\n        ],\n      },\n    });\n\n    setActiveKey(key);\n  };\n\n  return (\n    <div style={{ borderTop: \"1px solid\", marginTop: 24, padding: 8 }}>\n      <p>Dropdown tab actions</p>\n\n      <button disabled={!isDropdownTab} onClick={onToggleStar}>\n        Toggle Star\n      </button>\n      <button disabled={!isDropdownTab} onClick={onToggleLock}>\n        Toggle Lock\n      </button>\n      <button disabled={!isDropdownTab} onClick={onCloseDropdown}>\n        Close\n      </button>\n      <button onClick={onAdd}>Add</button>\n    </div>\n  );\n}\n","import React from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\n\r\nimport App from \"./App\";\r\nimport \"./styles.scss\";\r\n\r\nconst rootElement = document.getElementById(\"root\");\r\nReactDOM.render(<App />, rootElement);\r\n"],"sourceRoot":""}