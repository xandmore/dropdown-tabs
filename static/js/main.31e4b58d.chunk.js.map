{"version":3,"sources":["components/Tabs/TabsContext/reducer.ts","components/Tabs/TabsContext/addTabs.ts","components/Tabs/TabsContext/helpers/utils.ts","components/Tabs/TabsContext/changeStarLockStates.ts","components/Tabs/TabsContext/closeDropdownTab.ts","components/Tabs/TabsContext/removeTabs.ts","components/Tabs/TabsContext/TabsContext.tsx","components/Tabs/hooks/useTabsContext.ts","helpers/bem.ts","components/Tabs/Ripple/Ripple.tsx","components/Tabs/Tabs/hooks/useRipple.ts","components/Tabs/Tabs/hooks/useMergeHandlers.ts","components/Tabs/hooks/useImperativeHandleProxy.ts","components/Tabs/Tabs/TabComponent.tsx","assets/close_24dp.svg","assets/lock_24dp.svg","assets/star_outline_24dp.svg","components/Tabs/DropdownTab/DropdownTabContext/DropdownTabContext.ts","components/Tabs/DropdownTab/DropdownTabContext/useDropdownTabContext.ts","components/Tabs/utils/generateTabId.ts","components/Tabs/DropdownTabMenu/DropdownTabMenu.tsx","components/Tabs/DropdownTabMenu/hooks/useWatchOutsideClick.ts","components/Tabs/utils/getDropdownTabByKey.ts","assets/arrow_drop_down_24dp.svg","components/Tabs/DropdownTab/DropdownTabContext/DropdownTabContextProvider.tsx","components/Tabs/DropdownTab/DropdownTabComponent.tsx","components/Tabs/Slider/Slider.tsx","components/Tabs/Tabs/hooks/useSlider.ts","components/Tabs/Tabs/hooks/useKeyboardNavigation.ts","components/Tabs/Tabs/Tabs.tsx","components/TabsWithContext.tsx","components/Tabs/TabPane/TabContent/TabContent.tsx","components/Tabs/TabPane/TabPane.tsx","components/Tabs/TabPane/TabPanesContaner.tsx","App.tsx","index.tsx"],"names":["ActionType","handleAddTabs","original","tabsToAdd","tabsMapLike","reduce","obj","tab","key","changed","newTabs","map","t","newTab","restTabs","Object","values","length","push","toggleTabProp","state","tabKeys","prop","propValue","keysSet","Set","Array","isArray","isAnyChanged","newSections","sections","section","tabs","has","newValue","reducer","action","type","SetActiveKey","activeKey","payload","CloseTabs","newActiveKey","sectionTabIndex","tabKey","i","tabIndex","findIndex","sectionIndex","getSectionTabIndex","console","error","newIndex","targetDropdownTab","update","$set","$splice","closeDropdownTab","AddTabs","keys","dropdownTabs","updatedState","$apply","prevTabs","modifyingSectionsKeys","forEach","s","delete","size","Error","addTabs","StarTabs","mode","changeTabsStarredState","LockTabs","changeTabsLockedState","RemoveTabs","keysToRemove","updatedTabs","filter","sectionsWillBeChanged","some","updatedSections","sectionTabs","removeTabs","SetState","TabsContext","createContext","TabsContextProvider","defaultActiveKey","initialTabs","initialSections","children","useReducer","dispatch","setActiveKey","useCallback","newActiveTab","onTabClose","lockTabs","unlockTabs","toggleLock","starTabs","unstarTabs","toggleStar","setState","Provider","value","useTabsContext","useContext","withNaming","e","m","v","bemRipple","bem","Ripple","visible","point","rippleRef","useRef","useState","innerSize","setInnerSize","useLayoutEffect","rect","current","getBoundingClientRect","height","width","ref","className","hidden","style","transform","x","y","CSSTransition","in","classNames","timeout","pulsate","useRipple","focused","source","focusInfo","setFocusInfo","pressing","pressingInfo","setIsPressingInfo","showRipple","p","hideRipple","isMousePressed","eventHandlers","onKeyDown","nativeEvent","code","onKeyUp","onMouseDown","f","offsetX","offsetY","onMouseUp","onMouseLeave","onBlur","onFocus","onTouchStart","target","targetTouches","pageX","left","pageY","top","onTouchEnd","isRippleDisplayed","rippleRelatedHandlers","useMergeHandlers","handlers","handler","arguments","useImperativeHandleProxy","wrappedRef","init","deps","useImperativeHandle","Proxy","get","hasOwnProperty","wrapped","bemTab","TabComponent","React","forwardRef","title","active","id","props","innerRef","focus","options","prev","el","role","aria-selected","_extends","assign","prototype","call","apply","this","_objectWithoutProperties","excluded","sourceKeys","indexOf","_objectWithoutPropertiesLoose","getOwnPropertySymbols","sourceSymbolKeys","propertyIsEnumerable","d","fill","SvgClose24Dp","_ref","svgRef","titleId","xmlns","viewBox","ForwardRef","opacity","SvgLock24Dp","SvgStarOutline24Dp","DropdownTabContext","useDropdownTabContext","generateTabId","bemMenu","bemMenuItem","bemIcon","DropdownMenuSection","menuItemRef","aria-labelledby","index","DropdownMenuItem","disabled","onActivateMenuItem","onMenuItemFocus","focusedTabId","onCloseMenuItem","locked","starred","onFocusCallback","buttonRef","position","onClick","detail","small","aria-label","stopPropagation","DropdownMenu","open","sectionsJSX","useMemo","elements","menuItemsStartIndex","element","aria-hidden","closed","useWatchOutsideClick","useEffect","document","addEventListener","handleClick","removeEventListener","contains","getTabInfoByKey","find","SvgArrowDropDown24Dp","DropdownTabContextProvider","bemTabContainer","bemDropdownTab","SelectedTabInfo","isOpen","sectionTitle","star","lock","DropdownTabComponent","isMenuOpen","setIsMenuOpen","onWidthChange","onChange","defaultKey","placeholder","containerRef","onContainerBlur","getDropdownTabByKey","activeTabInfo","setActiveTabInfo","tabInfo","newInfo","isMenuItemActive","prevTabWidth","innerTabRef","closeOutsideClick","clientWidth","onClickProp","restContextValues","onActivateMenuItemWrapped","isInitiatedByKeyboard","fi","contextValueOverridden","dropdown","aria-haspopup","Slider","defaultDiplayInfo","isDisplayed","isEqual","obj1","obj2","useSlider","KeyCode","activeTabKey","tabsRef","displayInfo","setDisplayInfo","targetElement","dropdownTab","parentNode","newDisplayInfo","offsetLeft","sliderDisplayInfo","onDropdownTabWidthChange","node","nextOrFirst","currentIndex","max","prevOrLast","useKeyboardNavigation","setFocusedTabId","onTabFocus","onTabBlur","onDropdownTabContainerBlur","container","relatedTarget","onDropdownTabFocus","onItemFocus","onKeydown","tabsContainer","sort","focusedTabIndex","maxTabIndex","keyCode","tabsInfo","closeMenu","openMenu","menuItems","dropdownItems","maxMenuItemIndex","ArrowLeft","tabElement","ArrowRight","ArrowUp","ArrowDown","Home","Escape","handleDropdownTabKeydown","focusedMenuItemIndex","nextIndex","End","handleDropdownMenuItemKeyDown","focusedIndex","dropdownTabElement","handleKeyDownOnTab","window","DROPDOWN_TAB_KEY","Symbol","TabsComponent","onChangeProp","onDropdownTabClose","activeKeyProp","undefined","activeKeyInner","setActiveKeyInner","isDropdownTabDisplayed","initiatedByKeyboard","entries","focusTheFirstTabOrContainer","TabsWithContext","Tabs","TabContent","tag","TabContentContainer","bemTabPane","TabPane","aria-controls","memo","bemContainer","TabPanesContainer","classNameInner","flattenTabs","flatten","prevActiveKey","shift","App","join","padding","Buttons","newTabsCounter","isDropdownTab","borderTop","marginTop","s0","rootElement","getElementById","ReactDOM","render"],"mappings":"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","file":"static/js/main.31e4b58d.chunk.js","sourcesContent":["import { SetStateAction } from \"react\";\r\n\r\nimport { DropdownTab, Section, Tab, TabKey } from \"../types\";\r\nimport { closeDropdownTab } from \"./closeDropdownTab\";\r\nimport { removeTabs } from \"./removeTabs\";\r\nimport { addTabs } from \"./addTabs\";\r\nimport {\r\n  changeTabsLockedState,\r\n  changeTabsStarredState,\r\n  TabLockAction,\r\n  TabStarAction,\r\n} from \"./changeStarLockStates\";\r\n\r\nexport interface State {\r\n  activeKey: TabKey | null;\r\n  tabs: Tab[];\r\n  sections: Section[];\r\n}\r\n\r\nexport enum ActionType {\r\n  SetActiveKey,\r\n  AddTabs,\r\n  RemoveTabs,\r\n  CloseTabs,\r\n  LockTabs,\r\n  StarTabs,\r\n  SetState,\r\n}\r\n\r\nexport type PayloadType = {\r\n  [ActionType.SetActiveKey]: State[\"activeKey\"];\r\n  [ActionType.CloseTabs]: { key: TabKey; newActiveKey?: TabKey };\r\n  [ActionType.AddTabs]: {\r\n    tabs?: Tab[];\r\n    dropdownTabs?: Record<Section[\"key\"], DropdownTab[]>;\r\n  };\r\n  [ActionType.RemoveTabs]: TabKey | TabKey[];\r\n  [ActionType.LockTabs]: { keys: TabKey | TabKey[]; mode: TabLockAction };\r\n  [ActionType.StarTabs]: { keys: TabKey | TabKey[]; mode: TabStarAction };\r\n  [ActionType.SetState]: SetStateAction<State>;\r\n};\r\n\r\nexport type ReducerAction<T> = T extends keyof PayloadType\r\n  ? { type: T; payload: PayloadType[T] }\r\n  : never;\r\n\r\nexport function reducer(state: State, action: ReducerAction<ActionType>) {\r\n  switch (action.type) {\r\n    case ActionType.SetActiveKey: {\r\n      return { ...state, activeKey: action.payload };\r\n    }\r\n\r\n    case ActionType.CloseTabs: {\r\n      return closeDropdownTab(\r\n        state,\r\n        action.payload.key,\r\n        action.payload.newActiveKey\r\n      );\r\n    }\r\n\r\n    case ActionType.AddTabs: {\r\n      return addTabs(state, action.payload);\r\n    }\r\n\r\n    case ActionType.StarTabs: {\r\n      return changeTabsStarredState(\r\n        state,\r\n        action.payload.keys,\r\n        action.payload.mode\r\n      );\r\n    }\r\n\r\n    case ActionType.LockTabs: {\r\n      return changeTabsLockedState(\r\n        state,\r\n        action.payload.keys,\r\n        action.payload.mode\r\n      );\r\n    }\r\n\r\n    case ActionType.RemoveTabs: {\r\n      return removeTabs(state, action.payload);\r\n    }\r\n\r\n    case ActionType.SetState: {\r\n      return typeof action.payload === \"function\"\r\n        ? action.payload(state)\r\n        : action.payload;\r\n    }\r\n\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n","import { tabsToMapLike } from \"./helpers/utils\";\r\nimport { DropdownTab, Section, Tab } from \"../types\";\r\nimport update from \"immutability-helper\";\r\nimport { State } from \"./reducer\";\r\n\r\n/** Replaces matching existing tabs */\r\nexport function addTabs(\r\n  state: State,\r\n  payload: {\r\n    tabs?: Tab[];\r\n    /** Where a key is the section key */\r\n    dropdownTabs?: Record<Section[\"key\"], DropdownTab[]>;\r\n  }\r\n): State {\r\n  if (!Object.keys(payload).length) {\r\n    return state;\r\n  }\r\n\r\n  const { tabs, dropdownTabs } = payload;\r\n\r\n  // handling tabs\r\n  let updatedState = tabs?.length\r\n    ? update(state, {\r\n        tabs: {\r\n          $apply: (prevTabs: Tab[]) => {\r\n            return handleAddTabs(prevTabs, tabs);\r\n          },\r\n        },\r\n      })\r\n    : state;\r\n\r\n  // handle dropdownTabs\r\n\r\n  if (dropdownTabs) {\r\n    const modifyingSectionsKeys = new Set(Object.keys(dropdownTabs));\r\n    updatedState.sections.forEach((s) => modifyingSectionsKeys.delete(s.key));\r\n\r\n    if (modifyingSectionsKeys.size) {\r\n      throw new Error(\"Trying to add dropdown tabs to non-existing section\");\r\n    }\r\n  } else {\r\n    return updatedState;\r\n  }\r\n\r\n  return update(updatedState, {\r\n    sections: {\r\n      $apply: (sections: Section[]) => {\r\n        let changed = false;\r\n        const newSections = sections.map((section) => {\r\n          if (!dropdownTabs[section.key]?.length) {\r\n            return section;\r\n          }\r\n\r\n          const newTabs = handleAddTabs(\r\n            section.tabs,\r\n            dropdownTabs[section.key]\r\n          );\r\n\r\n          if (newTabs !== section.tabs) {\r\n            changed = true;\r\n            return {\r\n              ...section,\r\n              tabs: newTabs,\r\n            };\r\n          }\r\n\r\n          return section;\r\n        });\r\n\r\n        return changed ? newSections : sections;\r\n      },\r\n    },\r\n  });\r\n}\r\n\r\nfunction handleAddTabs<T extends { key: string }>(\r\n  original: T[],\r\n  tabsToAdd: T[]\r\n) {\r\n  const tabsMapLike = tabsToMapLike(tabsToAdd);\r\n  let changed = false;\r\n\r\n  const newTabs = original.map((t) => {\r\n    const newTab = tabsMapLike[t.key];\r\n\r\n    if (newTab) {\r\n      changed = true;\r\n      delete tabsMapLike[t.key];\r\n      return newTab;\r\n    }\r\n\r\n    return t;\r\n  });\r\n\r\n  const restTabs = Object.values(tabsMapLike);\r\n\r\n  if (restTabs.length) {\r\n    changed = true;\r\n    newTabs.push(...restTabs);\r\n  }\r\n\r\n  return changed ? newTabs : original;\r\n}\r\n","import { Section, TabKey } from \"../../types\";\r\n\r\nexport function tabsToMapLike<T extends { key: string }>(\r\n  tabs: T[]\r\n): Record<string, T> {\r\n  return tabs.reduce<Record<string, T>>((obj, tab: T) => {\r\n    obj[tab.key] = tab;\r\n    return obj;\r\n  }, {});\r\n}\r\n\r\nexport function getSectionTabIndex(sections: Section[], tabKey: TabKey) {\r\n  for (let i = 0; i < sections.length; i++) {\r\n    const tabIndex = sections[i].tabs.findIndex((t) => t.key === tabKey);\r\n\r\n    if (tabIndex !== -1) {\r\n      return { sectionIndex: i, tabIndex: tabIndex };\r\n    }\r\n  }\r\n}\r\n","import { DropdownTab, TabKey } from \"../types\";\r\nimport { State } from \"./reducer\";\r\n\r\nexport type TabLockAction = \"lock\" | \"unlock\" | \"toggle\";\r\nexport type TabStarAction = \"star\" | \"unstar\" | \"toggle\";\r\n\r\nexport function changeTabsLockedState(\r\n  state: State,\r\n  tabKeys: TabKey | TabKey[],\r\n  mode: TabLockAction\r\n): State {\r\n  return toggleTabProp(\r\n    state,\r\n    tabKeys,\r\n    \"locked\",\r\n    mode === \"lock\" ? true : mode === \"unlock\" ? false : mode\r\n  );\r\n}\r\n\r\nexport function changeTabsStarredState(\r\n  state: State,\r\n  tabKeys: TabKey | TabKey[],\r\n  mode: TabStarAction\r\n): State {\r\n  return toggleTabProp(\r\n    state,\r\n    tabKeys,\r\n    \"starred\",\r\n    mode === \"star\" ? true : mode === \"unstar\" ? false : mode\r\n  );\r\n}\r\n\r\ntype DropdownTabToggleableProp = keyof Pick<DropdownTab, \"locked\" | \"starred\">;\r\ntype TogglePropValue = true | false | \"toggle\";\r\n\r\nfunction toggleTabProp(\r\n  state: State,\r\n  tabKeys: TabKey | TabKey[],\r\n  prop: DropdownTabToggleableProp,\r\n  propValue: TogglePropValue\r\n): State {\r\n  const keysSet = new Set(Array.isArray(tabKeys) ? tabKeys : [tabKeys]);\r\n\r\n  let isAnyChanged = false;\r\n  const newSections = state.sections.map((section) => {\r\n    let changed = false;\r\n    const newTabs = section.tabs.map((tab) => {\r\n      if (keysSet.has(tab.key)) {\r\n        const newValue = propValue === \"toggle\" ? !tab[prop] : propValue;\r\n\r\n        if (tab[prop] !== newValue) {\r\n          changed = true;\r\n          return {\r\n            ...tab,\r\n            [prop]: newValue,\r\n          };\r\n        }\r\n      }\r\n\r\n      return tab;\r\n    });\r\n\r\n    if (changed) {\r\n      isAnyChanged = true;\r\n      return { ...section, tabs: newTabs };\r\n    }\r\n\r\n    return section;\r\n  });\r\n\r\n  if (isAnyChanged) {\r\n    return {\r\n      ...state,\r\n      sections: newSections,\r\n    };\r\n  }\r\n\r\n  return state;\r\n}\r\n","import { Tab, TabKey } from \"../types\";\r\nimport { getSectionTabIndex } from \"./helpers/utils\";\r\nimport update from \"immutability-helper\";\r\nimport { State } from \"./reducer\";\r\n\r\nexport function closeDropdownTab(\r\n  state: State,\r\n  key: TabKey,\r\n  newActiveKey?: TabKey | null\r\n): State {\r\n  const sectionTabIndex = getSectionTabIndex(state.sections, key);\r\n\r\n  if (!sectionTabIndex) {\r\n    console.error(\"trying to close non-existing tab\");\r\n    return state;\r\n  }\r\n\r\n  const { sectionIndex, tabIndex } = sectionTabIndex;\r\n\r\n  newActiveKey = state.activeKey;\r\n\r\n  // TODO: change the algorithm after introduce disabled tabs (disabled tab cannot be selected)\r\n  if (state.activeKey === key) {\r\n    const section = state.sections[sectionIndex];\r\n\r\n    // set new tab in the same section active\r\n    if (section.tabs.length > 1) {\r\n      const newIndex = tabIndex ? tabIndex - 1 : 1;\r\n      newActiveKey = section.tabs[newIndex].key;\r\n    } else {\r\n      // set the last tab of any of previous sections\r\n      let targetDropdownTab: Tab | null = null;\r\n      for (let i = sectionIndex; i >= 0; i++) {\r\n        const tabs = state.sections[i].tabs;\r\n\r\n        if (tabs.length) {\r\n          targetDropdownTab = tabs[tabs.length - 1];\r\n          break;\r\n        }\r\n      }\r\n\r\n      // or the last tab if there's no precedent dropdownTab\r\n      newActiveKey =\r\n        targetDropdownTab?.key ?? state.tabs.length\r\n          ? state.tabs[state.tabs.length - 1]?.key ?? null\r\n          : null;\r\n    }\r\n  }\r\n\r\n  return update(state, {\r\n    activeKey: {\r\n      $set: newActiveKey,\r\n    },\r\n    sections: {\r\n      [sectionIndex]: {\r\n        tabs: {\r\n          $splice: [[tabIndex, 1]],\r\n        },\r\n      },\r\n    },\r\n  });\r\n}\r\n","import { Section } from \"../types\";\r\nimport { ActionType, State, ReducerAction } from \"./reducer\";\r\n\r\nexport function removeTabs(\r\n  state: State,\r\n  keys: ReducerAction<ActionType.RemoveTabs>[\"payload\"]\r\n): State {\r\n  const keysToRemove = Array.isArray(keys) ? new Set(keys) : new Set([keys]);\r\n\r\n  // handle tabs\r\n  let updatedTabs = state.tabs.filter((t) => !keysToRemove.has(t.key));\r\n  if (updatedTabs.length === state.tabs.length) {\r\n    updatedTabs = state.tabs;\r\n  }\r\n\r\n  // handle dropdown sections\r\n  const sectionsWillBeChanged = state.sections.some((s) =>\r\n    s.tabs.some((t) => keysToRemove.has(t.key))\r\n  );\r\n\r\n  if (updatedTabs === state.tabs && !sectionsWillBeChanged) {\r\n    return state;\r\n  }\r\n\r\n  const updatedSections = state.sections.reduce((sections, section) => {\r\n    let sectionTabs = section.tabs.filter((t) => !keysToRemove.has(t.key));\r\n\r\n    if (sectionTabs.length === section.tabs.length) {\r\n      sections.push(section);\r\n      return sections;\r\n    }\r\n\r\n    sections.push({ ...section, tabs: sectionTabs });\r\n    return sections;\r\n  }, [] as Section[]);\r\n\r\n  return {\r\n    ...state,\r\n    tabs: updatedTabs,\r\n    sections: updatedSections,\r\n  };\r\n}\r\n","import React, {\r\n  useReducer,\r\n  createContext,\r\n  PropsWithChildren,\r\n  useCallback,\r\n} from \"react\";\r\n\r\nimport { reducer, ActionType, PayloadType, State } from \"./reducer\";\r\nimport { TabKey, Tab, Section } from \"../types\";\r\n\r\ntype TabsContextProps = {\r\n  activeKey: TabKey | null;\r\n  setActiveKey: (key: TabKey | null) => void;\r\n  tabs: Tab[];\r\n  sections: Section[];\r\n\r\n  addTabs: (payload: PayloadType[ActionType.AddTabs]) => void;\r\n  removeTabs: (keys: TabKey | TabKey[]) => void;\r\n  closeDropdownTab: (keys: TabKey, newActiveTab?: TabKey) => void;\r\n  onTabClose: (key: TabKey) => void;\r\n\r\n  lockTabs: (keys: TabKey | TabKey[]) => void;\r\n  unlockTabs: (keys: TabKey | TabKey[]) => void;\r\n  toggleLock: (keys: TabKey | TabKey[]) => void;\r\n\r\n  starTabs: (keys: TabKey | TabKey[]) => void;\r\n  unstarTabs: (keys: TabKey | TabKey[]) => void;\r\n  toggleStar: (keys: TabKey | TabKey[]) => void;\r\n\r\n  setState: (state: React.SetStateAction<State>) => void;\r\n};\r\n\r\nconst TabsContext = createContext({} as TabsContextProps);\r\n\r\ntype TabsContextProviderProps = {\r\n  defaultActiveKey?: TabKey | null;\r\n  initialTabs?: Tab[];\r\n  initialSections?: Section[];\r\n};\r\n\r\nconst TabsContextProvider = ({\r\n  defaultActiveKey,\r\n  initialTabs,\r\n  initialSections,\r\n  children,\r\n}: PropsWithChildren<TabsContextProviderProps>) => {\r\n  const [state, dispatch] = useReducer(reducer, {\r\n    activeKey: defaultActiveKey ?? null,\r\n    tabs: initialTabs ?? [],\r\n    sections: initialSections ?? [],\r\n  });\r\n\r\n  const setActiveKey: TabsContextProps[\"setActiveKey\"] = useCallback((key) => {\r\n    dispatch({ type: ActionType.SetActiveKey, payload: key });\r\n  }, []);\r\n\r\n  const addTabs: TabsContextProps[\"addTabs\"] = useCallback((payload) => {\r\n    dispatch({ type: ActionType.AddTabs, payload });\r\n  }, []);\r\n\r\n  const removeTabs: TabsContextProps[\"removeTabs\"] = useCallback((keys) => {\r\n    dispatch({ type: ActionType.RemoveTabs, payload: keys });\r\n  }, []);\r\n\r\n  const closeDropdownTab: TabsContextProps[\"closeDropdownTab\"] = useCallback(\r\n    (key, newActiveTab) => {\r\n      dispatch({\r\n        type: ActionType.CloseTabs,\r\n        payload: { key: key, newActiveKey: newActiveTab },\r\n      });\r\n    },\r\n    []\r\n  );\r\n\r\n  const onTabClose: TabsContextProps[\"onTabClose\"] = useCallback((key) => {\r\n    dispatch({ type: ActionType.RemoveTabs, payload: key });\r\n  }, []);\r\n\r\n  const lockTabs: TabsContextProps[\"lockTabs\"] = useCallback((keys) => {\r\n    dispatch({\r\n      type: ActionType.LockTabs,\r\n      payload: { keys: keys, mode: \"lock\" },\r\n    });\r\n  }, []);\r\n\r\n  const unlockTabs: TabsContextProps[\"unlockTabs\"] = useCallback((keys) => {\r\n    dispatch({\r\n      type: ActionType.LockTabs,\r\n      payload: { keys: keys, mode: \"unlock\" },\r\n    });\r\n  }, []);\r\n\r\n  const toggleLock: TabsContextProps[\"toggleLock\"] = useCallback((keys) => {\r\n    dispatch({\r\n      type: ActionType.LockTabs,\r\n      payload: { keys: keys, mode: \"toggle\" },\r\n    });\r\n  }, []);\r\n\r\n  const starTabs: TabsContextProps[\"starTabs\"] = useCallback((keys) => {\r\n    dispatch({\r\n      type: ActionType.StarTabs,\r\n      payload: { keys: keys, mode: \"star\" },\r\n    });\r\n  }, []);\r\n\r\n  const unstarTabs: TabsContextProps[\"unstarTabs\"] = useCallback((keys) => {\r\n    dispatch({\r\n      type: ActionType.StarTabs,\r\n      payload: { keys: keys, mode: \"unstar\" },\r\n    });\r\n  }, []);\r\n\r\n  const toggleStar: TabsContextProps[\"toggleStar\"] = useCallback((keys) => {\r\n    dispatch({\r\n      type: ActionType.StarTabs,\r\n      payload: { keys: keys, mode: \"toggle\" },\r\n    });\r\n  }, []);\r\n\r\n  const setState: TabsContextProps[\"setState\"] = useCallback((state) => {\r\n    dispatch({ type: ActionType.SetState, payload: state });\r\n  }, []);\r\n\r\n  return (\r\n    <TabsContext.Provider\r\n      value={{\r\n        ...state,\r\n        addTabs,\r\n        removeTabs,\r\n        setActiveKey,\r\n        onTabClose,\r\n        closeDropdownTab,\r\n        lockTabs,\r\n        unlockTabs,\r\n        toggleLock,\r\n        starTabs,\r\n        unstarTabs,\r\n        toggleStar,\r\n        setState,\r\n      }}\r\n    >\r\n      {children}\r\n    </TabsContext.Provider>\r\n  );\r\n};\r\n\r\nexport { TabsContext, TabsContextProvider };\r\n","import { useContext } from \"react\";\r\nimport { TabsContext } from \"../TabsContext/TabsContext\";\r\n\r\nfunction useTabsContext() {\r\n  return useContext(TabsContext);\r\n}\r\n\r\nexport default useTabsContext;\r\n","import { withNaming } from \"@bem-react/classname\";\r\n\r\nexport default withNaming({ e: \"__\", m: \"_\", v: \"_\" });\r\n","import React, { useLayoutEffect, useRef, useState } from \"react\";\r\nimport { CSSTransition } from \"react-transition-group\";\r\n\r\nimport bem from \"../../../helpers/bem\";\r\n\r\nconst bemRipple = bem(\"ripple\");\r\n\r\nexport type RippleProps = {\r\n  visible: boolean;\r\n  point: { x: number; y: number } | null;\r\n  mode: \"focused\" | \"pressing\";\r\n};\r\n\r\nfunction Ripple({ visible, mode, point }: RippleProps) {\r\n  const rippleRef = useRef<HTMLDivElement>(null!);\r\n  const [innerSize, setInnerSize] = useState(0);\r\n\r\n  // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  useLayoutEffect(() => {\r\n    const rect = rippleRef.current.getBoundingClientRect();\r\n    setInnerSize(rect.height > rect.width ? rect.height : rect.width);\r\n  });\r\n\r\n  return (\r\n    <div\r\n      ref={rippleRef}\r\n      className={bemRipple({\r\n        hidden: !visible,\r\n      })}\r\n    >\r\n      <div\r\n        className={bemRipple(\"anchor\")}\r\n        style={{\r\n          ...(point && {\r\n            transform: `translateX(${point.x}px) translateY(${point.y}px)`,\r\n          }),\r\n        }}\r\n      >\r\n        <CSSTransition\r\n          in={visible && mode === \"pressing\"}\r\n          classNames=\"ripple\"\r\n          timeout={500}\r\n        >\r\n          <div\r\n            className={bemRipple(\"body\", {\r\n              pulsate: mode === \"focused\",\r\n            })}\r\n            style={{\r\n              width: innerSize,\r\n              height: innerSize,\r\n            }}\r\n          />\r\n        </CSSTransition>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Ripple;\r\n","import { TouchEvent, useCallback, useRef, useState } from \"react\";\r\n\r\ntype Point = {\r\n  x: number;\r\n  y: number;\r\n};\r\n\r\ntype PressingInfo = {\r\n  pressing: boolean;\r\n  point: Point | null;\r\n};\r\n\r\ntype FocusInfo = {\r\n  focused: boolean;\r\n  source: string | null;\r\n};\r\n\r\nfunction useRipple() {\r\n  const [focusInfo, setFocusInfo] = useState<FocusInfo>({\r\n    focused: false,\r\n    source: null,\r\n  });\r\n\r\n  const [pressingInfo, setIsPressingInfo] = useState<PressingInfo>({\r\n    pressing: false,\r\n    point: null,\r\n  });\r\n\r\n  const showRipple = useCallback((p?: Point) => {\r\n    setIsPressingInfo({\r\n      pressing: true,\r\n      point: p || null,\r\n    });\r\n  }, []);\r\n\r\n  const hideRipple = useCallback(() => {\r\n    setIsPressingInfo({\r\n      pressing: false,\r\n      point: null,\r\n    });\r\n  }, []);\r\n\r\n  const isMousePressed = useRef(false);\r\n\r\n  const eventHandlers = {\r\n    onKeyDown: useCallback(\r\n      (e) => {\r\n        switch (e.nativeEvent.code) {\r\n          case \"Enter\":\r\n          case \"Space\":\r\n            showRipple();\r\n            break;\r\n          default:\r\n            break;\r\n        }\r\n      },\r\n      [showRipple]\r\n    ),\r\n\r\n    onKeyUp: useCallback(\r\n      (e) => {\r\n        switch (e.nativeEvent.code) {\r\n          case \"Enter\":\r\n          case \"Space\":\r\n            hideRipple();\r\n            break;\r\n          default:\r\n            break;\r\n        }\r\n      },\r\n      [hideRipple]\r\n    ),\r\n\r\n    onMouseDown: useCallback(\r\n      (e) => {\r\n        isMousePressed.current = true;\r\n        setFocusInfo((f) => ({ ...f, source: \"mouse\" }));\r\n        showRipple({\r\n          x: e.nativeEvent.offsetX,\r\n          y: e.nativeEvent.offsetY,\r\n        });\r\n      },\r\n      [showRipple]\r\n    ),\r\n\r\n    onMouseUp: useCallback(() => {\r\n      isMousePressed.current = false;\r\n      hideRipple();\r\n    }, [hideRipple]),\r\n\r\n    onMouseLeave: useCallback(() => {\r\n      isMousePressed.current = false;\r\n      hideRipple();\r\n    }, [hideRipple]),\r\n\r\n    onBlur: useCallback(() => {\r\n      hideRipple();\r\n      setFocusInfo({\r\n        focused: false,\r\n        source: null,\r\n      });\r\n    }, [hideRipple]),\r\n\r\n    onFocus: useCallback((e) => {\r\n      setFocusInfo({\r\n        focused: true,\r\n        source: isMousePressed.current ? \"mouse\" : \"keyboard\",\r\n      });\r\n    }, []),\r\n\r\n    onTouchStart: useCallback(\r\n      (e: TouchEvent<HTMLButtonElement>) => {\r\n        const target = e.target as HTMLButtonElement;\r\n        const rect = target.getBoundingClientRect();\r\n        if (e.targetTouches[0]) {\r\n          const x = e.targetTouches[0].pageX - rect.left;\r\n          const y = e.targetTouches[0].pageY - rect.top;\r\n          isMousePressed.current = true;\r\n          setFocusInfo((f) => ({ ...f, source: \"mouse\" }));\r\n          showRipple({\r\n            x,\r\n            y,\r\n          });\r\n        }\r\n      },\r\n      [showRipple]\r\n    ),\r\n\r\n    onTouchEnd: useCallback(() => {\r\n      isMousePressed.current = false;\r\n      hideRipple();\r\n    }, [hideRipple]),\r\n  };\r\n\r\n  const isRippleDisplayed =\r\n    pressingInfo.pressing ||\r\n    (focusInfo.focused && focusInfo.source === \"keyboard\");\r\n\r\n  return {\r\n    isRippleDisplayed,\r\n    pressingInfo,\r\n    rippleRelatedHandlers: eventHandlers,\r\n    setFocusInfo,\r\n  };\r\n}\r\n\r\nexport default useRipple;\r\n","import { useCallback } from \"react\";\r\n\r\nfunction useMergeHandlers<T extends Function>(...handlers: (T | undefined)[]) {\r\n  return useCallback(function () {\r\n    for (const handler of handlers) {\r\n      handler?.(...arguments);\r\n    }\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, handlers);\r\n}\r\n\r\nexport default useMergeHandlers;\r\n","import {\r\n  DependencyList,\r\n  MutableRefObject,\r\n  Ref,\r\n  useImperativeHandle,\r\n} from \"react\";\r\n\r\nfunction useImperativeHandleProxy<T, T1, R extends object & Partial<T>>(\r\n  ref: Ref<T> | undefined,\r\n  wrappedRef: MutableRefObject<T1>,\r\n  init: () => R,\r\n  deps?: DependencyList\r\n): void {\r\n  useImperativeHandle(\r\n    ref,\r\n    () => {\r\n      return (new Proxy<R>(init(), {\r\n        get(target, prop) {\r\n          if (target?.hasOwnProperty(prop)) {\r\n            return (target as any)[prop];\r\n          }\r\n\r\n          const wrapped = wrappedRef.current as any;\r\n          if (typeof wrapped?.[prop] === \"function\") {\r\n            return function () {\r\n              return (wrappedRef.current as any)[prop](...arguments);\r\n            };\r\n          }\r\n\r\n          return wrapped?.[prop];\r\n        },\r\n      }) as unknown) as T;\r\n    },\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n    deps\r\n  );\r\n}\r\n\r\nexport default useImperativeHandleProxy;\r\n","import React, { useRef } from \"react\";\r\nimport bem from \"../../../helpers/bem\";\r\nimport { TabElementWithCustomFocus, Tab } from \"../types\";\r\nimport Ripple from \"../Ripple/Ripple\";\r\nimport useRipple from \"./hooks/useRipple\";\r\nimport useMergeHandlers from \"./hooks/useMergeHandlers\";\r\nimport useImperativeHandleProxy from \"../hooks/useImperativeHandleProxy\";\r\n\r\nconst bemTab = bem(\"tab\");\r\n\r\nexport type TabProps = Omit<React.ComponentPropsWithRef<\"button\">, \"title\"> & {\r\n  title: Tab[\"title\"];\r\n  active: boolean;\r\n  id: Tab[\"key\"];\r\n};\r\n\r\nconst TabComponent = React.forwardRef<TabElementWithCustomFocus, TabProps>(\r\n  function TabComponent({ title, active, id, ...props }, ref) {\r\n    const {\r\n      isRippleDisplayed,\r\n      rippleRelatedHandlers,\r\n      pressingInfo,\r\n      setFocusInfo,\r\n    } = useRipple();\r\n\r\n    const innerRef = useRef<HTMLButtonElement | null>();\r\n\r\n    useImperativeHandleProxy(\r\n      ref,\r\n      innerRef,\r\n      () => ({\r\n        focus: (options) => {\r\n          innerRef.current?.focus();\r\n\r\n          if (options?.hideRipple) {\r\n            setFocusInfo((prev) => ({\r\n              ...prev,\r\n              focused: false,\r\n            }));\r\n          }\r\n        },\r\n      }),\r\n      [setFocusInfo]\r\n    );\r\n\r\n    return (\r\n      <button\r\n        tabIndex={active ? 0 : -1}\r\n        ref={(el) => {\r\n          innerRef.current = el;\r\n\r\n          if (ref) {\r\n            if (typeof ref === \"function\") {\r\n              ref(el);\r\n            } else {\r\n              ref.current = el;\r\n            }\r\n          }\r\n        }}\r\n        className={bemTab({ active: active })}\r\n        role=\"tab\"\r\n        aria-selected={active}\r\n        id={id}\r\n        {...props}\r\n        onFocus={useMergeHandlers(rippleRelatedHandlers.onFocus, props.onFocus)}\r\n        onBlur={useMergeHandlers(rippleRelatedHandlers.onBlur, props.onBlur)}\r\n        onMouseDown={useMergeHandlers(\r\n          rippleRelatedHandlers.onMouseDown,\r\n          props.onMouseDown\r\n        )}\r\n        onMouseUp={useMergeHandlers(\r\n          rippleRelatedHandlers.onMouseUp,\r\n          props.onMouseUp\r\n        )}\r\n        onTouchStart={useMergeHandlers(\r\n          rippleRelatedHandlers.onTouchStart,\r\n          props.onTouchStart\r\n        )}\r\n        onTouchEnd={useMergeHandlers(\r\n          rippleRelatedHandlers.onTouchEnd,\r\n          props.onTouchEnd\r\n        )}\r\n        onKeyDown={useMergeHandlers(\r\n          rippleRelatedHandlers.onKeyDown,\r\n          props.onKeyDown\r\n        )}\r\n        onKeyUp={useMergeHandlers(rippleRelatedHandlers.onKeyUp, props.onKeyUp)}\r\n      >\r\n        <Ripple\r\n          visible={isRippleDisplayed}\r\n          point={pressingInfo.point}\r\n          mode={pressingInfo.pressing ? \"pressing\" : \"focused\"}\r\n        />\r\n        <span className={bemTab(\"title\")}>{title}</span>\r\n      </button>\r\n    );\r\n  }\r\n);\r\n\r\nexport default TabComponent;\r\n","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M0 0h24v24H0V0z\",\n  fill: \"none\"\n});\n\nvar _ref3 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41z\"\n});\n\nfunction SvgClose24Dp(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, [\"title\", \"titleId\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    height: \"24px\",\n    viewBox: \"0 0 24 24\",\n    width: \"24px\",\n    fill: \"currentColor\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _ref2, _ref3);\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgClose24Dp);\nexport default __webpack_public_path__ + \"static/media/close_24dp.60bd688e.svg\";\nexport { ForwardRef as ReactComponent };","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"g\", {\n  fill: \"none\"\n}, /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M0 0h24v24H0V0z\"\n}), /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M0 0h24v24H0V0z\",\n  opacity: 0.87\n}));\n\nvar _ref3 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M18 8h-1V6c0-2.76-2.24-5-5-5S7 3.24 7 6v2H6c-1.1 0-2 .9-2 2v10c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V10c0-1.1-.9-2-2-2zM9 6c0-1.66 1.34-3 3-3s3 1.34 3 3v2H9V6zm9 14H6V10h12v10zm-6-3c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2z\"\n});\n\nfunction SvgLock24Dp(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, [\"title\", \"titleId\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    height: \"24px\",\n    viewBox: \"0 0 24 24\",\n    width: \"24px\",\n    fill: \"currentColor\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _ref2, _ref3);\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgLock24Dp);\nexport default __webpack_public_path__ + \"static/media/lock_24dp.03e3f8a0.svg\";\nexport { ForwardRef as ReactComponent };","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M0 0h24v24H0V0z\",\n  fill: \"none\"\n});\n\nvar _ref3 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M22 9.24l-7.19-.62L12 2 9.19 8.63 2 9.24l5.46 4.73L5.82 21 12 17.27 18.18 21l-1.63-7.03L22 9.24zM12 15.4l-3.76 2.27 1-4.28-3.32-2.88 4.38-.38L12 6.1l1.71 4.04 4.38.38-3.32 2.88 1 4.28L12 15.4z\"\n});\n\nfunction SvgStarOutline24Dp(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, [\"title\", \"titleId\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    height: \"24px\",\n    viewBox: \"0 0 24 24\",\n    width: \"24px\",\n    fill: \"currentColor\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _ref2, _ref3);\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgStarOutline24Dp);\nexport default __webpack_public_path__ + \"static/media/star_outline_24dp.e592165f.svg\";\nexport { ForwardRef as ReactComponent };","import { createContext, FocusEvent } from \"react\";\r\nimport { Tab, TabElementWithCustomFocus, TabKey } from \"../../types\";\r\n\r\nexport type DropdownTabContextValue = {\r\n  menuItemRef: (\r\n    el: TabElementWithCustomFocus | null,\r\n    tab: Tab,\r\n    index: number\r\n  ) => void;\r\n  onMenuItemFocus: (tab: Tab, e: FocusEvent<HTMLElement>) => void;\r\n  focusedTabId: TabKey | null | Symbol;\r\n  onActivateMenuItem: (\r\n    key: Required<TabKey>,\r\n    isInitiatedByKeyboard?: boolean\r\n  ) => void;\r\n  onCloseMenuItem: (key: Required<TabKey>, keyboardInitiated?: boolean) => void;\r\n};\r\n\r\nexport const DropdownTabContext = createContext<DropdownTabContextValue>(\r\n  {} as DropdownTabContextValue\r\n);\r\n","import { useContext } from \"react\";\r\nimport { DropdownTabContext } from \"./DropdownTabContext\";\r\n\r\nfunction useDropdownTabContext() {\r\n  return useContext(DropdownTabContext);\r\n}\r\n\r\nexport default useDropdownTabContext;\r\n","import { Tab } from \"../types\";\r\n\r\nfunction generateTabId(tab: Tab) {\r\n  return `tab-${tab.key}`;\r\n}\r\n\r\nexport default generateTabId;\r\n","import React, { FocusEventHandler, useCallback, useMemo, useRef } from \"react\";\r\nimport bem from \"../../../helpers/bem\";\r\nimport {\r\n  DropdownTab,\r\n  Section,\r\n  Tab,\r\n  TabElementWithCustomFocus,\r\n  TabKey,\r\n} from \"../types\";\r\nimport { ReactComponent as CloseIcon } from \"../../../assets/close_24dp.svg\";\r\nimport { ReactComponent as LockIcon } from \"../../../assets/lock_24dp.svg\";\r\nimport { ReactComponent as StarIcon } from \"../../../assets/star_outline_24dp.svg\";\r\nimport useDropdownTabContext from \"../DropdownTab/DropdownTabContext/useDropdownTabContext\";\r\nimport useRipple from \"../Tabs/hooks/useRipple\";\r\nimport Ripple from \"../Ripple/Ripple\";\r\nimport useMergeHandlers from \"../Tabs/hooks/useMergeHandlers\";\r\nimport generateTabId from \"../utils/generateTabId\";\r\nimport useImperativeHandleProxy from \"../hooks/useImperativeHandleProxy\";\r\n\r\nconst bemMenu = bem(\"dropdown-menu\");\r\nconst bemMenuItem = bem(\"dropdown-menu-item\");\r\nconst bemIcon = bem(\"icon\");\r\n\r\nexport type DropdownMenuProps = {\r\n  open: boolean;\r\n  sections: Section[];\r\n  activeKey: TabKey | null;\r\n};\r\n\r\nexport function DropdownMenu({ open, sections, activeKey }: DropdownMenuProps) {\r\n  const { menuItemRef } = useDropdownTabContext();\r\n\r\n  const sectionsJSX = useMemo(() => {\r\n    const [elements] = sections.reduce<[React.ReactNode[], number]>(\r\n      ([elements, menuItemsStartIndex], section, i) => {\r\n        elements.push(\r\n          !!section.tabs?.length && (\r\n            <DropdownMenuSection\r\n              id={`tabs-section-${section.key}`}\r\n              key={section.key}\r\n              tabs={section.tabs}\r\n              title={section.title}\r\n              activeKey={activeKey}\r\n              menuItemRef={(element, tab, index) => {\r\n                menuItemRef(element, tab, menuItemsStartIndex + index);\r\n              }}\r\n            />\r\n          )\r\n        );\r\n\r\n        return [elements, menuItemsStartIndex + section.tabs.length];\r\n      },\r\n      [[], 0]\r\n    );\r\n\r\n    return elements;\r\n  }, [sections, activeKey, menuItemRef]);\r\n\r\n  return (\r\n    <div\r\n      role=\"presentation\"\r\n      aria-hidden={!open}\r\n      className={bemMenu({ closed: !open })}\r\n      onClick={(e) => e.stopPropagation()}\r\n      onMouseDown={(e) => e.stopPropagation()}\r\n      onKeyDown={(e) => {\r\n        switch (e.nativeEvent.code) {\r\n          case \"Enter\":\r\n          case \"Space\":\r\n            e.stopPropagation();\r\n        }\r\n      }}\r\n    >\r\n      {sectionsJSX}\r\n    </div>\r\n  );\r\n}\r\n\r\nexport type DropdownMenuSectionProps = {\r\n  title: Section[\"title\"];\r\n  id: string;\r\n  tabs: DropdownTab[];\r\n  activeKey: TabKey | null;\r\n  menuItemRef: (\r\n    element: TabElementWithCustomFocus,\r\n    tab: Tab,\r\n    index: number\r\n  ) => void;\r\n};\r\n\r\nfunction DropdownMenuSection({\r\n  id,\r\n  title,\r\n  tabs,\r\n  activeKey,\r\n  menuItemRef,\r\n}: DropdownMenuSectionProps) {\r\n  return (\r\n    <>\r\n      <div className={bemMenu(\"section-title\")}>\r\n        <span className={\"text-truncate\"} id={id}>\r\n          {title}\r\n        </span>\r\n      </div>\r\n      <ul\r\n        role=\"presentation\"\r\n        aria-labelledby={id}\r\n        className={bemMenu(\"section\")}\r\n      >\r\n        {tabs?.map((tab, index) => (\r\n          <DropdownMenuItem\r\n            menuItemRef={(el) => menuItemRef(el!, tab, index)}\r\n            key={tab.key}\r\n            tab={tab}\r\n            active={activeKey === tab.key}\r\n          />\r\n        ))}\r\n      </ul>\r\n    </>\r\n  );\r\n}\r\n\r\nexport type DropdownMenuItemProps = {\r\n  tab: DropdownTab;\r\n  disabled?: boolean;\r\n  active: boolean;\r\n  menuItemRef: (el: TabElementWithCustomFocus) => void;\r\n};\r\n\r\nfunction DropdownMenuItem({\r\n  tab,\r\n  active,\r\n  disabled,\r\n  menuItemRef,\r\n}: DropdownMenuItemProps) {\r\n  const {\r\n    onActivateMenuItem,\r\n    onMenuItemFocus,\r\n    focusedTabId,\r\n    onCloseMenuItem,\r\n  } = useDropdownTabContext();\r\n\r\n  const { locked, starred, title } = tab;\r\n\r\n  const {\r\n    isRippleDisplayed,\r\n    rippleRelatedHandlers,\r\n    pressingInfo,\r\n    setFocusInfo,\r\n  } = useRipple();\r\n\r\n  const onFocusCallback: FocusEventHandler<HTMLButtonElement> = useCallback(\r\n    (e) => {\r\n      onMenuItemFocus(tab, e);\r\n    },\r\n    [onMenuItemFocus, tab]\r\n  );\r\n\r\n  const onFocus = useMergeHandlers(\r\n    onFocusCallback,\r\n    rippleRelatedHandlers.onFocus\r\n  );\r\n\r\n  const tabIndex = tab.key === focusedTabId ? 0 : -1;\r\n\r\n  const buttonRef = useRef<HTMLButtonElement>(null);\r\n\r\n  useImperativeHandleProxy(\r\n    menuItemRef,\r\n    buttonRef,\r\n    () => ({\r\n      focus: (options) => {\r\n        buttonRef.current?.focus();\r\n\r\n        if (options?.hideRipple) {\r\n          setFocusInfo((prev) => ({\r\n            ...prev,\r\n            focused: false,\r\n          }));\r\n        }\r\n      },\r\n    }),\r\n    [setFocusInfo]\r\n  );\r\n\r\n  return (\r\n    <li role=\"presentation\" style={{ position: \"relative\" }}>\r\n      <button\r\n        role=\"tab\"\r\n        aria-selected={active}\r\n        id={generateTabId(tab)}\r\n        ref={buttonRef}\r\n        className={bemMenuItem(\"tab\", {\r\n          active: active,\r\n          locked: locked,\r\n          disabled: disabled,\r\n        })}\r\n        tabIndex={tabIndex}\r\n        disabled={disabled}\r\n        onClick={(e) => {\r\n          onActivateMenuItem(tab.key, e.detail === 0);\r\n        }}\r\n        {...rippleRelatedHandlers}\r\n        onFocus={onFocus}\r\n      >\r\n        <Ripple\r\n          visible={isRippleDisplayed}\r\n          point={pressingInfo.point}\r\n          mode={pressingInfo.pressing ? \"pressing\" : \"focused\"}\r\n        />\r\n\r\n        {starred && (\r\n          <StarIcon\r\n            className={bemIcon({ small: true }, [bemMenuItem(\"star-icon\")])}\r\n          />\r\n        )}\r\n\r\n        {locked && (\r\n          <LockIcon\r\n            className={bemIcon({ small: true }, [bemMenuItem(\"lock-icon\")])}\r\n          />\r\n        )}\r\n\r\n        <span className={bemMenuItem(\"title\", [\"text-truncate\"])}>{title}</span>\r\n      </button>\r\n      {!locked && (\r\n        <div className={bemMenuItem(\"close-button-wrapper\")}>\r\n          <button\r\n            aria-label={`close ${tab.title} tab`}\r\n            className={bemMenuItem(\"close-button\")}\r\n            tabIndex={tabIndex}\r\n            onFocus={(e) => e.stopPropagation()}\r\n            onClick={(e) => {\r\n              e.stopPropagation();\r\n\r\n              onCloseMenuItem(tab.key, e.detail === 0);\r\n            }}\r\n          >\r\n            <CloseIcon className={bemIcon({ small: true })} />\r\n          </button>\r\n        </div>\r\n      )}\r\n    </li>\r\n  );\r\n}\r\n\r\nexport default DropdownMenu;\r\n","import { MutableRefObject, useEffect } from \"react\";\r\n\r\nfunction useWatchOutsideClick(\r\n  ref: MutableRefObject<HTMLElement | null>,\r\n  handler: (e: MouseEvent) => void\r\n): void {\r\n  useEffect(() => {\r\n    if (!ref.current) {\r\n      return;\r\n    }\r\n\r\n    function handleClick(e: MouseEvent) {\r\n      if (!ref.current?.contains(e.target as Node)) {\r\n        handler(e);\r\n      }\r\n    }\r\n\r\n    document.addEventListener(\"mousedown\", handleClick);\r\n\r\n    return () => {\r\n      document.removeEventListener(\"mousedown\", handleClick);\r\n    };\r\n  }, [ref, handler]);\r\n}\r\n\r\nexport default useWatchOutsideClick;\r\n","import { DropdownTab, Section, TabKey } from \"../types\";\r\n\r\nfunction getTabInfoByKey(key: TabKey | null | undefined, sections: Section[]) {\r\n  let target: DropdownTab | null = null;\r\n  let section: Section | null = null;\r\n\r\n  for (let i = 0; !target && i < sections?.length; i++) {\r\n    target = sections[i].tabs?.find((t) => t.key === key) ?? null;\r\n    section = target ? sections[i] : null;\r\n  }\r\n\r\n  return { tab: target, section: section };\r\n}\r\n\r\nexport default getTabInfoByKey;\r\n","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M0 0h24v24H0V0z\",\n  fill: \"none\"\n});\n\nvar _ref3 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M7 10l5 5 5-5H7z\"\n});\n\nfunction SvgArrowDropDown24Dp(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, [\"title\", \"titleId\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    height: \"24px\",\n    viewBox: \"0 0 24 24\",\n    width: \"24px\",\n    fill: \"currentColor\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _ref2, _ref3);\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgArrowDropDown24Dp);\nexport default __webpack_public_path__ + \"static/media/arrow_drop_down_24dp.25d163c7.svg\";\nexport { ForwardRef as ReactComponent };","import { PropsWithChildren, useMemo } from \"react\";\r\nimport {\r\n  DropdownTabContext,\r\n  DropdownTabContextValue,\r\n} from \"./DropdownTabContext\";\r\n\r\nexport function DropdownTabContextProvider({\r\n  children,\r\n  ...props\r\n}: PropsWithChildren<DropdownTabContextValue>) {\r\n  return (\r\n    <DropdownTabContext.Provider\r\n      value={useMemo<DropdownTabContextValue>(() => {\r\n        return props;\r\n        // eslint-disable-next-line react-hooks/exhaustive-deps\r\n      }, Object.values(props))}\r\n      children={children}\r\n    />\r\n  );\r\n}\r\n","import React, {\r\n  FocusEventHandler,\r\n  useCallback,\r\n  useEffect,\r\n  useLayoutEffect,\r\n  useRef,\r\n  useState,\r\n} from \"react\";\r\nimport DropdownMenu from \"../DropdownTabMenu/DropdownTabMenu\";\r\nimport bem from \"../../../helpers/bem\";\r\nimport {\r\n  DropdownTab,\r\n  Section,\r\n  TabElementWithCustomFocus,\r\n  TabKey,\r\n} from \"../types\";\r\nimport useWatchOutsideClick from \"../DropdownTabMenu/hooks/useWatchOutsideClick\";\r\nimport getDropdownTabByKey from \"../utils/getDropdownTabByKey\";\r\nimport { ReactComponent as DropdownIcon } from \"../../../assets/arrow_drop_down_24dp.svg\";\r\nimport Ripple from \"../Ripple/Ripple\";\r\nimport useRipple from \"../Tabs/hooks/useRipple\";\r\nimport useMergeHandlers from \"../Tabs/hooks/useMergeHandlers\";\r\nimport useDropdownTabContext from \"./DropdownTabContext/useDropdownTabContext\";\r\nimport { DropdownTabContextValue } from \"./DropdownTabContext/DropdownTabContext\";\r\nimport { DropdownTabContextProvider } from \"./DropdownTabContext/DropdownTabContextProvider\";\r\nimport useImperativeHandleProxy from \"../hooks/useImperativeHandleProxy\";\r\n\r\nconst bemTabContainer = bem(\"dropdown-tab-container\");\r\nconst bemDropdownTab = bem(\"dropdown-tab\");\r\nconst bemTab = bem(\"tab\");\r\n\r\nexport type DropdownTabProps = Omit<\r\n  React.ComponentPropsWithRef<\"button\">,\r\n  \"onChange\"\r\n> & {\r\n  onChange: (key: TabKey) => void;\r\n  sections: Section[];\r\n  activeKey: TabKey | null;\r\n  defaultKey?: TabKey;\r\n  placeholder?: React.ReactNode;\r\n  onWidthChange: (width: number) => void;\r\n  isMenuOpen: boolean;\r\n  setIsMenuOpen: React.Dispatch<React.SetStateAction<boolean>>;\r\n  containerRef: (el: HTMLDivElement) => void;\r\n  onContainerBlur: FocusEventHandler<HTMLDivElement>;\r\n};\r\n\r\nconst DropdownTabComponent = React.forwardRef<\r\n  TabElementWithCustomFocus,\r\n  DropdownTabProps\r\n>(function DropdownTabComponent(\r\n  {\r\n    isMenuOpen,\r\n    setIsMenuOpen,\r\n    onWidthChange,\r\n    onChange,\r\n    sections,\r\n    activeKey,\r\n    defaultKey,\r\n    placeholder = \"ACTIVE TABS\",\r\n    containerRef,\r\n    onContainerBlur,\r\n    ...props\r\n  },\r\n  ref\r\n) {\r\n  const [activeTabInfo, setActiveTabInfo] = useState(() => {\r\n    return getDropdownTabByKey(\r\n      activeKey !== null ? activeKey : defaultKey,\r\n      sections\r\n    );\r\n  });\r\n\r\n  useEffect(() => {\r\n    setActiveTabInfo((tabInfo) => {\r\n      let newInfo = getDropdownTabByKey(activeKey, sections);\r\n\r\n      if (!newInfo.tab) {\r\n        newInfo = getDropdownTabByKey(tabInfo.tab?.key, sections);\r\n      }\r\n\r\n      if (newInfo.tab !== tabInfo.tab || newInfo.section !== tabInfo.section) {\r\n        return newInfo;\r\n      }\r\n\r\n      return tabInfo;\r\n    });\r\n  }, [sections, activeKey]);\r\n\r\n  const isMenuItemActive = activeTabInfo.tab?.key === activeKey;\r\n\r\n  useEffect(() => {\r\n    if (!isMenuItemActive) {\r\n      setIsMenuOpen(false);\r\n    }\r\n  }, [isMenuItemActive, setIsMenuOpen]);\r\n\r\n  const prevTabWidth = useRef<number | null>(null);\r\n  const innerTabRef = useRef<HTMLButtonElement>(null!);\r\n\r\n  const closeOutsideClick = useCallback(() => {\r\n    setIsMenuOpen(false);\r\n  }, [setIsMenuOpen]);\r\n\r\n  useWatchOutsideClick(innerTabRef, closeOutsideClick);\r\n\r\n  useLayoutEffect(() => {\r\n    const width = innerTabRef.current.clientWidth ?? 0;\r\n    if (prevTabWidth.current !== width) {\r\n      prevTabWidth.current = width;\r\n      onWidthChange?.(width);\r\n    }\r\n  });\r\n\r\n  const title = activeTabInfo.tab?.title;\r\n  const sectionTitle = activeTabInfo.section?.title;\r\n  const starred = activeTabInfo.tab?.starred;\r\n  const locked = activeTabInfo.tab?.locked;\r\n\r\n  const onClickProp = props.onClick;\r\n  const onClick = useCallback(\r\n    (e: React.MouseEvent<HTMLButtonElement, MouseEvent>) => {\r\n      setIsMenuOpen((open) => {\r\n        if (open) {\r\n          return false;\r\n        }\r\n\r\n        if (isMenuItemActive) {\r\n          return !open;\r\n        }\r\n\r\n        return !activeTabInfo.tab;\r\n      });\r\n\r\n      if (activeTabInfo.tab) {\r\n        onChange(activeTabInfo.tab.key);\r\n      }\r\n\r\n      onClickProp?.(e);\r\n    },\r\n    [setIsMenuOpen, activeTabInfo.tab, isMenuItemActive, onChange, onClickProp]\r\n  );\r\n\r\n  const {\r\n    isRippleDisplayed,\r\n    rippleRelatedHandlers,\r\n    pressingInfo,\r\n    setFocusInfo,\r\n  } = useRipple();\r\n\r\n  const { onActivateMenuItem, ...restContextValues } = useDropdownTabContext();\r\n  const onActivateMenuItemWrapped = useCallback<\r\n    DropdownTabContextValue[\"onActivateMenuItem\"]\r\n  >(\r\n    (tabKey, isInitiatedByKeyboard) => {\r\n      onActivateMenuItem(tabKey, isInitiatedByKeyboard);\r\n\r\n      // if menu item is activated via click then hide ripple\r\n      if (!isInitiatedByKeyboard) {\r\n        setFocusInfo((fi) => ({\r\n          ...fi,\r\n          focused: false,\r\n        }));\r\n      }\r\n    },\r\n    [onActivateMenuItem, setFocusInfo]\r\n  );\r\n\r\n  const contextValueOverridden: DropdownTabContextValue = {\r\n    ...restContextValues,\r\n    onActivateMenuItem: onActivateMenuItemWrapped,\r\n  };\r\n\r\n  useImperativeHandleProxy(\r\n    ref,\r\n    innerTabRef,\r\n    () => ({\r\n      focus: (options) => {\r\n        innerTabRef.current?.focus();\r\n\r\n        if (options?.hideRipple) {\r\n          setFocusInfo((prev) => ({\r\n            ...prev,\r\n            focused: false,\r\n          }));\r\n        }\r\n      },\r\n    }),\r\n    [setFocusInfo]\r\n  );\r\n\r\n  return (\r\n    <div\r\n      ref={containerRef}\r\n      className={bemTabContainer()}\r\n      onBlur={onContainerBlur}\r\n    >\r\n      <button\r\n        tabIndex={isMenuItemActive ? 0 : -1}\r\n        className={bemTab({ active: isMenuItemActive, dropdown: true })}\r\n        ref={(el) => {\r\n          innerTabRef.current = el as HTMLButtonElement;\r\n\r\n          if (ref) {\r\n            if (typeof ref === \"function\") {\r\n              ref(el);\r\n            } else {\r\n              ref.current = el;\r\n            }\r\n          }\r\n        }}\r\n        aria-haspopup={true}\r\n        {...props}\r\n        onTouchStart={useMergeHandlers(\r\n          rippleRelatedHandlers.onTouchStart,\r\n          props.onTouchStart\r\n        )}\r\n        onTouchEnd={useMergeHandlers(\r\n          rippleRelatedHandlers.onTouchEnd,\r\n          props.onTouchEnd\r\n        )}\r\n        onMouseDown={useMergeHandlers(\r\n          rippleRelatedHandlers.onMouseDown,\r\n          props.onMouseDown\r\n        )}\r\n        onMouseUp={useMergeHandlers(\r\n          rippleRelatedHandlers.onMouseUp,\r\n          props.onMouseUp\r\n        )}\r\n        onKeyDown={useMergeHandlers(\r\n          rippleRelatedHandlers.onKeyDown,\r\n          props.onKeyDown\r\n        )}\r\n        onKeyUp={useMergeHandlers(rippleRelatedHandlers.onKeyUp, props.onKeyUp)}\r\n        onFocus={useMergeHandlers(rippleRelatedHandlers.onFocus, props.onFocus)}\r\n        onBlur={useMergeHandlers(rippleRelatedHandlers.onBlur, props.onBlur)}\r\n        onClick={onClick}\r\n      >\r\n        <Ripple\r\n          visible={isRippleDisplayed}\r\n          point={pressingInfo.point}\r\n          mode={pressingInfo.pressing ? \"pressing\" : \"focused\"}\r\n        />\r\n\r\n        {activeTabInfo.tab && (\r\n          <SelectedTabInfo\r\n            isOpen={isMenuOpen}\r\n            sectionTitle={sectionTitle}\r\n            title={title}\r\n            starred={starred}\r\n            locked={locked}\r\n          />\r\n        )}\r\n\r\n        {!activeTabInfo.tab && placeholder}\r\n      </button>\r\n      <DropdownTabContextProvider {...contextValueOverridden}>\r\n        <DropdownMenu\r\n          open={isMenuOpen}\r\n          sections={sections}\r\n          activeKey={activeKey}\r\n        />\r\n      </DropdownTabContextProvider>\r\n    </div>\r\n  );\r\n});\r\n\r\ntype SelectedTabInfoProps = {\r\n  isOpen: boolean;\r\n  sectionTitle: Section[\"title\"];\r\n  title: DropdownTab[\"title\"];\r\n  starred: DropdownTab[\"starred\"];\r\n  locked: DropdownTab[\"locked\"];\r\n};\r\n\r\nfunction SelectedTabInfo({\r\n  isOpen,\r\n  sectionTitle,\r\n  title,\r\n  starred,\r\n  locked,\r\n}: SelectedTabInfoProps) {\r\n  return (\r\n    <div className={bemDropdownTab()}>\r\n      <span className={bemDropdownTab(\"section-title\", [\"text-truncate\"])}>\r\n        {sectionTitle}\r\n      </span>\r\n      <span className={bemDropdownTab(\"title\", [\"text-truncate\"])}>\r\n        {title}\r\n      </span>\r\n      {starred && (\r\n        <span className={bemDropdownTab(\"indicator\", { star: true })} />\r\n      )}\r\n      {locked && (\r\n        <span className={bemDropdownTab(\"indicator\", { lock: true })} />\r\n      )}\r\n      <DropdownIcon\r\n        className={bemDropdownTab(\"dropdown-icon\", { open: isOpen })}\r\n      />\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default DropdownTabComponent;\r\n","import React from \"react\";\r\n\r\nexport type SliderProps = {\r\n  left: number;\r\n  width: number;\r\n};\r\n\r\nfunction Slider({ left, width }: SliderProps) {\r\n  return <div className=\"tabs-slider\" style={{ left, width }} />;\r\n}\r\n\r\nexport default Slider;\r\n","import getDropdownTabByKey from \"../../utils/getDropdownTabByKey\";\r\nimport { Section, Tab, TabKey, TabsRef } from \"../../types\";\r\nimport {\r\n  useCallback,\r\n  useLayoutEffect,\r\n  useState,\r\n  MutableRefObject,\r\n} from \"react\";\r\n\r\nexport type SliderRenderingInfo = {\r\n  tabsElements: Record<Tab[\"key\"], HTMLButtonElement | null>;\r\n  dropdownTabElement: HTMLButtonElement | null;\r\n};\r\n\r\nexport type SlideDisplayInfo = {\r\n  isDisplayed: boolean;\r\n  width: number;\r\n  left: number;\r\n};\r\n\r\nconst defaultDiplayInfo: SlideDisplayInfo = {\r\n  isDisplayed: false,\r\n  width: 0,\r\n  left: 0,\r\n};\r\n\r\nfunction useSlider(\r\n  activeTabKey: TabKey | null,\r\n  sections: Section[],\r\n  tabsRef: MutableRefObject<TabsRef>\r\n) {\r\n  const [displayInfo, setDisplayInfo] = useState<SlideDisplayInfo>({\r\n    isDisplayed: false,\r\n    width: 0,\r\n    left: 0,\r\n  });\r\n\r\n  // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  useLayoutEffect(() => {\r\n    if (activeTabKey == null) {\r\n      setDisplayInfo((d) =>\r\n        isEqual(d, defaultDiplayInfo) ? d : defaultDiplayInfo\r\n      );\r\n      return;\r\n    }\r\n\r\n    let targetElement: HTMLElement | null =\r\n      Object.values(tabsRef.current.tabs).find(\r\n        (t) => t.tab.key === activeTabKey\r\n      )?.element ?? null;\r\n\r\n    if (!targetElement) {\r\n      const isDropdownTab = !!getDropdownTabByKey(activeTabKey, sections)?.tab;\r\n      targetElement = isDropdownTab\r\n        ? (tabsRef.current.dropdownTab.element?.parentNode as HTMLElement)\r\n        : null;\r\n    }\r\n\r\n    const newDisplayInfo: SlideDisplayInfo = {\r\n      isDisplayed: !!targetElement,\r\n      width: targetElement?.getBoundingClientRect().width ?? 0,\r\n      left: targetElement?.offsetLeft ?? 0,\r\n    };\r\n\r\n    setDisplayInfo((d) => (isEqual(d, newDisplayInfo) ? d : newDisplayInfo));\r\n  });\r\n\r\n  const onDropdownTabWidthChange = useCallback(() => {\r\n    const node = tabsRef.current.dropdownTab.element?.parentNode as HTMLElement;\r\n\r\n    setDisplayInfo((prev) => {\r\n      return {\r\n        ...prev,\r\n        width: node?.getBoundingClientRect().width ?? 0,\r\n        left: node?.offsetLeft ?? 0,\r\n      };\r\n    });\r\n  }, [tabsRef]);\r\n\r\n  return {\r\n    sliderDisplayInfo: displayInfo,\r\n    onDropdownTabWidthChange: onDropdownTabWidthChange,\r\n  };\r\n}\r\n\r\nfunction isEqual(obj1: SlideDisplayInfo, obj2: SlideDisplayInfo) {\r\n  return (\r\n    obj1.isDisplayed === obj2.isDisplayed &&\r\n    obj1.left === obj2.left &&\r\n    obj1.width === obj2.width\r\n  );\r\n}\r\nexport default useSlider;\r\n","import React, { useEffect, useState } from \"react\";\r\nimport { Tab, TabKey, TabsRef } from \"../../types\";\r\n\r\nenum KeyCode {\r\n  ArrowLeft = \"ArrowLeft\",\r\n  ArrowRight = \"ArrowRight\",\r\n  ArrowDown = \"ArrowDown\",\r\n  ArrowUp = \"ArrowUp\",\r\n  Escape = \"Escape\",\r\n  Home = \"Home\",\r\n  End = \"End\",\r\n}\r\n\r\ntype Handlers = {\r\n  onTabFocus: (tab: Tab, e?: React.FocusEvent) => void;\r\n  onTabBlur: (e?: React.FocusEvent) => void;\r\n  onDropdownTabFocus: (id: Symbol, e?: React.FocusEvent) => void;\r\n  onItemFocus: (tab: Tab, e: React.FocusEvent) => void;\r\n  onDropdownTabContainerBlur: (e: React.FocusEvent) => void;\r\n};\r\n\r\nfunction nextOrFirst(currentIndex: number, max: number) {\r\n  return currentIndex === max ? 0 : currentIndex + 1;\r\n}\r\n\r\nfunction prevOrLast(currentIndex: number, max: number) {\r\n  return currentIndex === 0 ? max : currentIndex - 1;\r\n}\r\n\r\nfunction useKeyboardNavigation({\r\n  tabsRef,\r\n  isMenuOpen,\r\n  setIsMenuOpen,\r\n}: {\r\n  tabsRef: React.MutableRefObject<TabsRef>;\r\n  isMenuOpen: boolean;\r\n  setIsMenuOpen: React.Dispatch<React.SetStateAction<boolean>>;\r\n}) {\r\n  const [focusedTabId, setFocusedTabId] = useState<TabKey | null | Symbol>(\r\n    null\r\n  );\r\n\r\n  const handlers: Handlers = {\r\n    onTabFocus: (tab) => {\r\n      setFocusedTabId(tab.key);\r\n    },\r\n    onTabBlur: () => {\r\n      setFocusedTabId(null);\r\n    },\r\n    onDropdownTabContainerBlur: (e) => {\r\n      if (\r\n        !tabsRef.current.dropdownTab.container?.contains(\r\n          e.relatedTarget as Node\r\n        )\r\n      ) {\r\n        setIsMenuOpen(false);\r\n      }\r\n    },\r\n    onDropdownTabFocus: (id) => {\r\n      setFocusedTabId(id);\r\n    },\r\n    onItemFocus: (tab, e) => {\r\n      e?.stopPropagation();\r\n      setFocusedTabId(tab.key);\r\n    },\r\n  };\r\n\r\n  useEffect(() => {\r\n    const onKeydown = (e: KeyboardEvent) => {\r\n      const tabsContainer = tabsRef.current.container;\r\n\r\n      if (!tabsContainer?.contains(e.target as Node)) {\r\n        return;\r\n      }\r\n\r\n      const tabKeys = Object.keys(tabsRef.current?.tabs ?? {}).sort();\r\n      const focusedTabIndex = tabKeys.findIndex(\r\n        (key) => tabsRef.current?.tabs[+key].tab.key === focusedTabId\r\n      );\r\n      const maxTabIndex = tabKeys.length - 1;\r\n\r\n      if (focusedTabIndex !== -1) {\r\n        handleKeyDownOnTab(\r\n          e.code as KeyCode,\r\n          focusedTabIndex,\r\n          maxTabIndex,\r\n          tabsRef.current\r\n        );\r\n        return;\r\n      }\r\n\r\n      const isDropdownTabFocused =\r\n        focusedTabId === tabsRef.current.dropdownTab.id;\r\n\r\n      if (isDropdownTabFocused) {\r\n        handleDropdownTabKeydown(\r\n          e.code as KeyCode,\r\n          maxTabIndex,\r\n          tabsRef.current,\r\n          {\r\n            isMenuOpen: isMenuOpen,\r\n            openMenu: () => setIsMenuOpen(true),\r\n            closeMenu: () => setIsMenuOpen(false),\r\n          }\r\n        );\r\n        return;\r\n      }\r\n\r\n      const menuItemsKeys = Object.keys(\r\n        tabsRef.current?.dropdownItems ?? {}\r\n      ).sort();\r\n\r\n      const focusedMenuItemIndex = menuItemsKeys.findIndex(\r\n        (key) => tabsRef.current?.dropdownItems[+key].tab.key === focusedTabId\r\n      );\r\n\r\n      const isMenuItemFocused = focusedMenuItemIndex !== -1;\r\n\r\n      if (isMenuItemFocused) {\r\n        handleDropdownMenuItemKeyDown(\r\n          e.code as KeyCode,\r\n          focusedMenuItemIndex,\r\n          maxTabIndex,\r\n          tabsRef.current,\r\n          () => setIsMenuOpen(false)\r\n        );\r\n        return;\r\n      }\r\n    };\r\n\r\n    window.addEventListener(\"keydown\", onKeydown);\r\n\r\n    return () => {\r\n      window.removeEventListener(\"keydown\", onKeydown);\r\n    };\r\n  }, [focusedTabId, tabsRef, isMenuOpen, setIsMenuOpen]);\r\n\r\n  return {\r\n    focusedTabId,\r\n    handlers,\r\n  };\r\n}\r\n\r\nfunction handleKeyDownOnTab(\r\n  keyCode: KeyCode,\r\n  focusedIndex: number,\r\n  maxTabIndex: number,\r\n  tabsInfo: TabsRef\r\n) {\r\n  const dropdownTabElement = tabsInfo.dropdownTab.element;\r\n\r\n  switch (keyCode) {\r\n    case KeyCode.ArrowLeft:\r\n      if (dropdownTabElement && focusedIndex === 0) {\r\n        dropdownTabElement?.focus();\r\n      } else {\r\n        tabsInfo.tabs[prevOrLast(focusedIndex, maxTabIndex)].element?.focus();\r\n      }\r\n      break;\r\n\r\n    case KeyCode.ArrowRight:\r\n      if (dropdownTabElement && focusedIndex === maxTabIndex) {\r\n        dropdownTabElement.focus();\r\n      } else {\r\n        tabsInfo.tabs[nextOrFirst(focusedIndex, maxTabIndex)].element?.focus();\r\n      }\r\n      break;\r\n\r\n    case KeyCode.Home:\r\n      tabsInfo.tabs[0]?.element?.focus();\r\n      break;\r\n\r\n    case KeyCode.End:\r\n      if (dropdownTabElement) {\r\n        dropdownTabElement?.focus();\r\n      } else {\r\n        tabsInfo.tabs[maxTabIndex]?.element?.focus();\r\n      }\r\n      break;\r\n\r\n    default:\r\n      break;\r\n  }\r\n}\r\n\r\nfunction handleDropdownMenuItemKeyDown(\r\n  keyCode: KeyCode,\r\n  focusedMenuItemIndex: number,\r\n  maxTabIndex: number,\r\n  tabsInfo: TabsRef,\r\n  closeMenu: () => void\r\n) {\r\n  const maxMenuItemIndex = Object.keys(tabsInfo.dropdownItems).length - 1;\r\n  switch (keyCode) {\r\n    case KeyCode.ArrowLeft:\r\n      tabsInfo.tabs[maxTabIndex]?.element?.focus();\r\n      break;\r\n\r\n    case KeyCode.ArrowRight:\r\n      tabsInfo.tabs[0]?.element?.focus();\r\n      break;\r\n\r\n    case KeyCode.ArrowUp:\r\n      {\r\n        const nextIndex = prevOrLast(focusedMenuItemIndex, maxMenuItemIndex);\r\n        tabsInfo.dropdownItems[nextIndex]?.element?.focus();\r\n      }\r\n      break;\r\n\r\n    case KeyCode.ArrowDown:\r\n      {\r\n        const nextIndex = nextOrFirst(focusedMenuItemIndex, maxMenuItemIndex);\r\n        tabsInfo.dropdownItems[nextIndex]?.element?.focus();\r\n      }\r\n      break;\r\n\r\n    case KeyCode.Home:\r\n      tabsInfo.dropdownItems[0]?.element?.focus();\r\n      break;\r\n\r\n    case KeyCode.End:\r\n      tabsInfo.dropdownItems[maxMenuItemIndex]?.element?.focus();\r\n      break;\r\n\r\n    case KeyCode.Escape:\r\n      tabsInfo.dropdownTab.element?.focus();\r\n      closeMenu();\r\n      break;\r\n\r\n    default:\r\n      break;\r\n  }\r\n}\r\n\r\nfunction handleDropdownTabKeydown(\r\n  keyCode: KeyCode,\r\n  maxTabIndex: number,\r\n  tabsInfo: TabsRef,\r\n  {\r\n    isMenuOpen,\r\n    closeMenu,\r\n    openMenu,\r\n  }: {\r\n    isMenuOpen: boolean;\r\n    closeMenu: () => void;\r\n    openMenu: () => void;\r\n  }\r\n) {\r\n  const menuItems = tabsInfo.dropdownItems;\r\n  const maxMenuItemIndex = Object.keys(menuItems).length - 1;\r\n\r\n  switch (keyCode) {\r\n    case KeyCode.ArrowLeft:\r\n      {\r\n        const tabElement = tabsInfo.tabs[maxTabIndex].element;\r\n        if (tabElement) {\r\n          tabElement.focus();\r\n        }\r\n      }\r\n      break;\r\n\r\n    case KeyCode.ArrowRight:\r\n      {\r\n        const tabElement = tabsInfo.tabs[0]?.element;\r\n        if (tabElement) {\r\n          tabElement.focus();\r\n        }\r\n      }\r\n      break;\r\n\r\n    case KeyCode.ArrowUp:\r\n      if (isMenuOpen) {\r\n        menuItems[maxMenuItemIndex].element?.focus();\r\n      } else {\r\n        openMenu();\r\n      }\r\n      break;\r\n\r\n    case KeyCode.ArrowDown:\r\n      if (isMenuOpen) {\r\n        menuItems[0].element?.focus();\r\n      } else {\r\n        openMenu();\r\n      }\r\n      break;\r\n\r\n    case KeyCode.Home:\r\n      tabsInfo.tabs[0].element?.focus();\r\n      break;\r\n\r\n    case KeyCode.Escape:\r\n      closeMenu();\r\n      break;\r\n\r\n    default:\r\n      break;\r\n  }\r\n}\r\n\r\nexport default useKeyboardNavigation;\r\n","import React, { useCallback, useMemo, useRef, useState } from \"react\";\r\nimport TabComponent from \"./TabComponent\";\r\nimport DropdownTabComponent from \"../DropdownTab/DropdownTabComponent\";\r\nimport { Section, Tab, TabKey, TabsRef } from \"../types\";\r\nimport Slider from \"../Slider/Slider\";\r\nimport useSlider from \"./hooks/useSlider\";\r\nimport useKeyboardNavigation from \"./hooks/useKeyboardNavigation\";\r\nimport { DropdownTabContextProvider } from \"../DropdownTab/DropdownTabContext/DropdownTabContextProvider\";\r\nimport generateTabId from \"../utils/generateTabId\";\r\nimport { DropdownTabContextValue } from \"../DropdownTab/DropdownTabContext/DropdownTabContext\";\r\n\r\nconst DROPDOWN_TAB_KEY = Symbol();\r\n\r\nexport type TabsProps = {\r\n  tabs: Tab[];\r\n  sections: Section[];\r\n  onChange: (key: TabKey | null) => void;\r\n  onDropdownTabClose: (key: TabKey) => void;\r\n  activeKey?: TabKey | null;\r\n  defaultActiveKey?: TabKey;\r\n};\r\n\r\nfunction TabsComponent({\r\n  tabs,\r\n  sections,\r\n  onChange: onChangeProp,\r\n  onDropdownTabClose,\r\n  activeKey: activeKeyProp,\r\n  defaultActiveKey,\r\n}: TabsProps) {\r\n  const [activeKeyInner, setActiveKeyInner] = useState(() =>\r\n    activeKeyProp !== undefined ? activeKeyProp : defaultActiveKey ?? null\r\n  );\r\n\r\n  const onChange = useCallback(\r\n    (key: TabKey | null) => {\r\n      if (onChangeProp) {\r\n        onChangeProp(key);\r\n      }\r\n\r\n      setActiveKeyInner(key);\r\n    },\r\n    [onChangeProp]\r\n  );\r\n\r\n  const activeTabKey =\r\n    activeKeyProp !== undefined ? activeKeyProp : activeKeyInner;\r\n\r\n  const isDropdownTabDisplayed = useMemo(\r\n    () => sections.some((s) => s.tabs.length),\r\n    [sections]\r\n  );\r\n\r\n  const tabsRef = useRef<TabsRef>({\r\n    tabs: {},\r\n    container: null,\r\n    dropdownTab: {\r\n      id: DROPDOWN_TAB_KEY,\r\n      element: null,\r\n      container: null,\r\n    },\r\n    dropdownItems: {},\r\n  } as TabsRef);\r\n\r\n  const { sliderDisplayInfo, onDropdownTabWidthChange } = useSlider(\r\n    activeTabKey,\r\n    sections,\r\n    tabsRef\r\n  );\r\n\r\n  const [isMenuOpen, setIsMenuOpen] = useState(false);\r\n\r\n  const { focusedTabId, handlers } = useKeyboardNavigation({\r\n    tabsRef,\r\n    isMenuOpen,\r\n    setIsMenuOpen,\r\n  });\r\n\r\n  const onCloseMenuItem = useCallback<\r\n    DropdownTabContextValue[\"onCloseMenuItem\"]\r\n  >(\r\n    (tabKey, initiatedByKeyboard) => {\r\n      onDropdownTabClose(tabKey);\r\n\r\n      const dropdownTabs = Object.entries(tabsRef.current.dropdownItems);\r\n\r\n      const focusTheFirstTabOrContainer = () => {\r\n        if (tabsRef.current.tabs[0]?.element) {\r\n          tabsRef.current.tabs[0].element!.focus();\r\n        } else {\r\n          tabsRef.current.container?.focus();\r\n        }\r\n      };\r\n\r\n      if (tabKey === activeTabKey) {\r\n        if (dropdownTabs.length > 1) {\r\n          tabsRef.current.dropdownTab.element?.focus({\r\n            hideRipple: !initiatedByKeyboard,\r\n          });\r\n        } else {\r\n          focusTheFirstTabOrContainer();\r\n        }\r\n        return;\r\n      }\r\n\r\n      // set focus on prev menuItems if possible\r\n      if (dropdownTabs.length > 1) {\r\n        const index = +dropdownTabs.find(\r\n          ([, tab]) => tab.tab.key === tabKey\r\n        )![0];\r\n\r\n        const newIndex = index === 0 ? 1 : index - 1;\r\n        tabsRef.current.dropdownItems[newIndex].element?.focus({\r\n          hideRipple: !initiatedByKeyboard,\r\n        });\r\n      } else {\r\n        focusTheFirstTabOrContainer();\r\n      }\r\n    },\r\n    [onDropdownTabClose, activeTabKey]\r\n  );\r\n\r\n  return (\r\n    <div\r\n      className=\"tabs\"\r\n      role=\"tablist\"\r\n      ref={(el) => {\r\n        tabsRef.current.container = el;\r\n      }}\r\n    >\r\n      {tabs.map((tab, index) => (\r\n        <TabComponent\r\n          key={tab.key}\r\n          id={generateTabId(tab)}\r\n          ref={(el) => {\r\n            if (!el) {\r\n              delete tabsRef.current.tabs[index];\r\n              return;\r\n            }\r\n\r\n            tabsRef.current.tabs[index] = {\r\n              element: el,\r\n              tab: tab,\r\n            };\r\n          }}\r\n          title={tab.title}\r\n          active={activeTabKey === tab.key}\r\n          onClick={() => onChange(tab.key)}\r\n          onBlur={handlers.onTabBlur}\r\n          onFocus={() => handlers.onTabFocus(tab)}\r\n        />\r\n      ))}\r\n\r\n      <DropdownTabContextProvider\r\n        menuItemRef={useCallback((el, tab, index) => {\r\n          if (!el) {\r\n            delete tabsRef.current.dropdownItems[index];\r\n            return;\r\n          }\r\n\r\n          tabsRef.current.dropdownItems[index] = {\r\n            tab: tab,\r\n            element: el,\r\n          };\r\n        }, [])}\r\n        onMenuItemFocus={handlers.onItemFocus}\r\n        focusedTabId={focusedTabId}\r\n        onCloseMenuItem={onCloseMenuItem}\r\n        onActivateMenuItem={useCallback(\r\n          (tabKey) => {\r\n            tabsRef.current.dropdownTab.element?.focus();\r\n            setIsMenuOpen(false);\r\n            onChange(tabKey);\r\n          },\r\n          [onChange]\r\n        )}\r\n      >\r\n        {isDropdownTabDisplayed && (\r\n          <DropdownTabComponent\r\n            containerRef={(el) => {\r\n              tabsRef.current.dropdownTab.container = el;\r\n            }}\r\n            onContainerBlur={handlers.onDropdownTabContainerBlur}\r\n            ref={(el) => {\r\n              tabsRef.current.dropdownTab.element = el;\r\n            }}\r\n            onFocus={(e) => {\r\n              handlers.onDropdownTabFocus(DROPDOWN_TAB_KEY, e);\r\n            }}\r\n            activeKey={activeTabKey}\r\n            onChange={onChange}\r\n            sections={sections}\r\n            defaultKey={defaultActiveKey}\r\n            onWidthChange={onDropdownTabWidthChange}\r\n            isMenuOpen={isMenuOpen}\r\n            setIsMenuOpen={setIsMenuOpen}\r\n          />\r\n        )}\r\n      </DropdownTabContextProvider>\r\n\r\n      {sliderDisplayInfo.isDisplayed && (\r\n        <Slider left={sliderDisplayInfo.left} width={sliderDisplayInfo.width} />\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default TabsComponent;\r\n","import React from \"react\";\r\nimport useTabsContext from \"./Tabs/hooks/useTabsContext\";\r\nimport Tabs from \"./Tabs/Tabs/Tabs\";\r\n\r\nfunction TabsWithContext() {\r\n  const {\r\n    tabs,\r\n    sections,\r\n    activeKey,\r\n    setActiveKey,\r\n    closeDropdownTab,\r\n  } = useTabsContext();\r\n\r\n  return (\r\n    <Tabs\r\n      activeKey={activeKey}\r\n      tabs={tabs}\r\n      sections={sections}\r\n      onChange={setActiveKey}\r\n      onDropdownTabClose={closeDropdownTab}\r\n    />\r\n  );\r\n}\r\n\r\nexport default TabsWithContext;\r\n","import React, { PropsWithChildren } from \"react\";\r\n\r\nexport type TabContentProps = PropsWithChildren<{\r\n  tag?: keyof JSX.IntrinsicElements;\r\n}>;\r\n\r\nfunction TabContent({ children, tag = \"section\" }: TabContentProps) {\r\n  const TabContentContainer = tag;\r\n\r\n  return <TabContentContainer>{children}</TabContentContainer>;\r\n}\r\n\r\nexport default TabContent;\r\n","import React, { memo } from \"react\";\r\nimport bem from \"../../../helpers/bem\";\r\nimport { DropdownTab, Tab } from \"../types\";\r\nimport TabContent from \"./TabContent/TabContent\";\r\nimport generateTabId from \"../utils/generateTabId\";\r\n\r\nconst bemTabPane = bem(\"tab-pane\");\r\n\r\nexport type TabPaneProps = {\r\n  className?: string;\r\n  active: boolean;\r\n  tab: Tab | DropdownTab;\r\n};\r\n\r\nfunction TabPane({ className, active, tab }: TabPaneProps) {\r\n  return (\r\n    <div\r\n      className={bemTabPane({ active: active, hidden: !active }, [className])}\r\n      role=\"tabpanel\"\r\n      aria-hidden={!active}\r\n      aria-controls={generateTabId(tab)}\r\n    >\r\n      <TabContent>\r\n        {/* TODO: Tab.component and DropdownTab.component props */}\r\n        <p>Content of {tab.title}</p>\r\n      </TabContent>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default memo(TabPane);\r\n","import React, { useMemo, useEffect, useRef } from \"react\";\r\nimport TabPane from \"./TabPane\";\r\nimport useTabsContext from \"../hooks/useTabsContext\";\r\nimport { TabKey } from \"../types\";\r\nimport bem from \"../../../helpers/bem\";\r\n\r\nconst bemContainer = bem(\"tap-panes-container\");\r\n\r\nexport type TabPanesContainerProps = {\r\n  className?: string;\r\n  classNameInner?: string;\r\n};\r\n\r\nfunction TabPanesContainer({\r\n  className,\r\n  classNameInner,\r\n}: TabPanesContainerProps) {\r\n  const { tabs, sections, activeKey } = useTabsContext();\r\n\r\n  const flattenTabs = useMemo(() => {\r\n    let flatten = tabs ? [...tabs] : [];\r\n\r\n    flatten =\r\n      sections?.reduce?.((flatten, s) => {\r\n        if (s.tabs?.length) {\r\n          flatten.push(...s.tabs);\r\n        }\r\n\r\n        return flatten;\r\n      }, flatten) ?? flatten;\r\n\r\n    return flatten;\r\n  }, [tabs, sections]);\r\n\r\n  const prevActiveKey = useRef<TabKey | null>(null);\r\n\r\n  useEffect(() => {\r\n    prevActiveKey.current = activeKey;\r\n  }, [activeKey]);\r\n\r\n  const shift = useMemo(() => {\r\n    return flattenTabs.findIndex((t) => t.key === activeKey);\r\n  }, [flattenTabs, activeKey]);\r\n\r\n  return (\r\n    <div className={bemContainer(null, [className])}>\r\n      <div\r\n        className={bemContainer(\"inner\", null, [classNameInner])}\r\n        style={{ transform: `translateX(-${shift}00%)` }}\r\n      >\r\n        {flattenTabs.map((t) => (\r\n          <TabPane key={t.key} active={activeKey === t.key} tab={t} />\r\n        ))}\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default TabPanesContainer;\r\n","import React, { useContext } from \"react\";\r\n\r\nimport { Section } from \"./components/Tabs/types\";\r\nimport {\r\n  TabsContext,\r\n  TabsContextProvider,\r\n} from \"./components/Tabs/TabsContext/TabsContext\";\r\nimport TabsWithContext from \"./components/TabsWithContext\";\r\nimport TabPanesContainer from \"./components/Tabs/TabPane/TabPanesContaner\";\r\nimport getDropdownTabByKey from \"./components/Tabs/utils/getDropdownTabByKey\";\r\n\r\nexport default function App() {\r\n  const tabs = [\r\n    {\r\n      key: \"0\",\r\n      title: \"OVERVIEW\",\r\n    },\r\n  ];\r\n\r\n  const sections: Section[] = [\r\n    {\r\n      key: \"s0\",\r\n      title: \"Active\",\r\n      tabs: [\r\n        {\r\n          key: \"dropdownTab0\",\r\n          title: \"Tab 0\",\r\n        },\r\n        {\r\n          key: \"dropdownTab1\",\r\n          title: \"Tab 2\",\r\n          locked: true,\r\n          starred: true,\r\n        },\r\n      ],\r\n    },\r\n    {\r\n      key: \"s1\",\r\n      title: new Array(4).fill(\"Long Section Title\").join(\" \"),\r\n      tabs: [\r\n        {\r\n          key: \"dropdownTab2\",\r\n          title: new Array(3).fill(\"Dropdown menu item 2\").join(\" \"),\r\n          starred: true,\r\n        },\r\n        {\r\n          key: \"dropdownTab3\",\r\n          title: \"Tab 3\",\r\n          locked: true,\r\n        },\r\n      ],\r\n    },\r\n    {\r\n      key: \"s2\",\r\n      title: \"Empty Section\",\r\n      tabs: [],\r\n    },\r\n  ];\r\n\r\n  return (\r\n    <TabsContextProvider\r\n      defaultActiveKey={\"0\"}\r\n      initialTabs={tabs}\r\n      initialSections={sections}\r\n    >\r\n      <main style={{ padding: 100 }}>\r\n        <TabsWithContext />\r\n        <TabPanesContainer />\r\n        <Buttons />\r\n      </main>\r\n    </TabsContextProvider>\r\n  );\r\n}\r\n\r\nlet newTabsCounter = 10;\r\nfunction Buttons() {\r\n  const {\r\n    activeKey,\r\n    setActiveKey,\r\n    toggleStar,\r\n    toggleLock,\r\n    sections,\r\n    closeDropdownTab,\r\n    addTabs,\r\n  } = useContext(TabsContext);\r\n\r\n  const onToggleStar = () => {\r\n    if (activeKey) {\r\n      toggleStar(activeKey);\r\n    }\r\n  };\r\n\r\n  const onToggleLock = () => {\r\n    if (activeKey) {\r\n      toggleLock(activeKey);\r\n    }\r\n  };\r\n\r\n  const onCloseDropdown = () => {\r\n    if (activeKey) {\r\n      closeDropdownTab(activeKey);\r\n    }\r\n  };\r\n\r\n  const isDropdownTab = !!getDropdownTabByKey(activeKey, sections)?.tab;\r\n\r\n  const onAdd = () => {\r\n    const key = `dropdownTab${newTabsCounter++}`;\r\n    addTabs({\r\n      dropdownTabs: {\r\n        s0: [\r\n          {\r\n            key: key,\r\n            title: \"New Tab\",\r\n          },\r\n        ],\r\n      },\r\n    });\r\n\r\n    setActiveKey(key);\r\n  };\r\n\r\n  return (\r\n    <div style={{ borderTop: \"1px solid\", marginTop: 24, padding: 8 }}>\r\n      <p>Dropdown tab actions</p>\r\n\r\n      <button disabled={!isDropdownTab} onClick={onToggleStar}>\r\n        Toggle Star\r\n      </button>\r\n      <button disabled={!isDropdownTab} onClick={onToggleLock}>\r\n        Toggle Lock\r\n      </button>\r\n      <button disabled={!isDropdownTab} onClick={onCloseDropdown}>\r\n        Close\r\n      </button>\r\n      <button onClick={onAdd}>Add</button>\r\n    </div>\r\n  );\r\n}\r\n","import React from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\n\r\nimport App from \"./App\";\r\nimport \"./styles.scss\";\r\n\r\nconst rootElement = document.getElementById(\"root\");\r\nReactDOM.render(<App />, rootElement);\r\n"],"sourceRoot":""}